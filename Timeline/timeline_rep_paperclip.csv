REPOSITORY,ISSUE_ID,STATUS,EVENT,CREATED_AT,TIME DURATION,NEGATIVE,NEUTRAL,POSITIVE,MSG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,opened,2009-06-05 20:31:31,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,title,2009-06-05 20:31:31,00:00,,1,,"b""b'  Easy Custom Interpolations '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,body,2009-06-05 20:31:31,00:00,,,1,"b'b"" **Reported by Michael Boutros** Hello! Recently I needed to add some custom interpolations for an attachment", and I thought the current way of having to add one through an initializer was cumbersome and kind of hackish, so I\'ve coded up a much easier method and submitted a pull request at Github. The commit: url  From the docs I wrote under #has_attachment: +interpolations+: Takes a hash of {:name =interpolations array. See Attachment#interpolations for more information on interpolations. For example: has_attached_file :avatar," :styles =        :default_style =        :url =        :path =        :interpolations = What does everyone think? url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,1,2009-06-05 20:31:31,902.88,,,1,"b""b' very good idea. For me it would be very helpful at the moment. +1 for merging it into main branch.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,2,2009-06-05 20:31:31,850.67,,,1,"b'b"" I like this one too and see that it\'s not implemented yet. So I forked and implemented it myself (since the patch / diff is missing)"," except I replaced that lengthy :interpolations with :tags. Looks pretty nice and tidy. Check it at: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,3,2009-06-05 20:31:31,1032.45,,1,,"b""b' If this is still an issue please resubmit your pull request.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,closed,2011-06-30 18:57:31,1346.0,0,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,4,2009-06-05 20:31:31,6.2,,1,,"b""b' I know you guys are busy"," but so am I. Maybe sometime next year. :)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,reopened,2011-06-30 19:05:11,7.67,0,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,5,2009-06-05 20:31:31,1078.05,,,1,"b'b"" I think the easiest way to solve this is to simply write the block near your attachment definition if you don\'t want it in an initializer. If you want to submit a pull request to get something better into master", though," you\'re welcome to. I\'ll close this one for now.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,closed,2011-11-04 13:01:46,1076.58,0,3,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,34,closed,-,-,-,0,3,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,opened,2009-06-16 06:04:36,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,title,2009-06-16 06:04:36,00:00,,1,,"b""b' Missing uploaded files"," maybe because of too many files open'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,body,2009-06-16 06:04:36,00:00,,,1,b'b\' Hi guys, I\\\'m running on Dev ENV, paperclip version 2.2.8," rails 2.1.2.Here is the problem. Sometimes i get that error that says ""Too many open files"" and the server crashes", i have to start again the mongrel daemon. sometimes i think its probably when i upload many files off course. I don\\\'t think is because of reading the files, but i\\\'m not sure. Thats one problem, and i think that probably is because of that, that i am missing files, i don\\\'t know exactly when just, one day to another, the files are gone. Step 1, upload a photoStep 2, Check that photo is uploaded  Note: in this step sometimes the image is not saved in all the sizes i declared on the model.Step 3, Check the thumb in the list view.Everything seems to be fine. Days after the images are gone... Please tell me what else do you need to track the bug, maybe the mongrel log, or the development log or something. Just tell me and i\\\'ll post it\'',,,,,,,,,,,,,,,
paperclip,44,closed,1,2009-06-16 06:04:36,697.95,,1,,"b""b' Anything and everything you can post will help with debugging this issue. url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,2,2009-06-16 06:04:36,48.38,,1,,"b'b"" Any movement on this issue? I\'m seeing this behavior  in my production ENV where we will have 60",000+ open files, most of them RackMultipart temp files that are days old. I\'m using nginx + passenger," but given the RackMultipart file handling I would expect this problem anywhere.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,3,2009-06-16 06:04:36,451.77,,,1,"b'b"" I recently added paperclip to add a file (poster) to my model (Movie).  I have a script that loops over all my movies and sets the movie\'s poster to a file I download from the net. Everything worked fine in dev but in prod it fails after maybe 1000 movies and I lose all the files. Here\'s a gist w/", I think," all the relevant info.  Is this my fault do I need to close something? Paperclip version =  2.3.1.1Rails version = 2.3.4url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,4,2009-06-16 06:04:36,38.1,,1,,"b'b"" I\'m really hoping that Rails 2.3.4 solved this for us. It included a close of the multipart files that seemed to be causing our problems.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,5,2009-06-16 06:04:36,844.03,1,,,"b'b"" I\'m closing this as it has been a long while after you reported in", and we didn\'t have any debugging information to solve the problem. I think the problems we see here is the Rack bug," and it\'s hard to fix on the Paperclip side as we\'re only the middleman which handles the file from Rack to your storage.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,closed,2011-06-30 16:44:50,640.23,1,4,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,6,2009-06-16 06:04:36,1331.42,,1,,"b'b"" I regularly have this issue"," with Paperclip 2.4.2 on Rails 2.3.14 I don\'t know how I can help debug this.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,7,2009-06-16 06:04:36,10.33,,1,,b'b\' Let\\\'s say I have a model with an attachment In a console session, If I do this : With in another terminal, I can see 2 open files : The Picture has been created, without errors, but the files handlers are not closed until I end my console (IRB) session. That\\\'s why whis a long running rake task which deals with hundreds of files," I have the ""Too many open files"" error pretty fast. I continue to dig and keep you posted\''",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,8,2009-06-16 06:04:36,27.17,,1,,"b'b"" I\'ve cloned Paperclip and made my app using this local clone (master points now to #f7fdc9f13e348a760ca6ad3b068a66ce3773cb83). I\'ve put some traces and I can see that some of the temp files are well closed (and destroyed)"," but the original file (the one passed in the create method) and another temp file are not closed at all.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,9,2009-06-16 06:04:36,48.85,,1,,b'b\' The temp file that is not closed and destroyed is the one created by  , called from  . It comes from where and are the 2 files that are never closed. In the part of this method there is a call on but only if the variable  evaluates to  . And in my case, this is never set to  . At this point I\\\'ve identified 2 problems : 1) The original file is never closed if it is a local file (as opposed to a remote file or an uploaded file) and not already an Attachment instance. If I remove the in the ensure part, it is properly closed," but the test suite break with 2 failures and 66 errors (many ""IOError: closed stream"" errors) 2) If I have a style named ""original"""," a temp file is created and never . You\\\'ll ask why I\\\'d like to have an ""original"" that is not the original file. That\\\'s because some files can be really big (>1024x768)", or with  too high a resolution (\'',,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,reopened,2011-10-10 20:45:06,240.27,1,8,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,10,2009-06-16 06:04:36,262.75,,1,,"b'b"" Reopened as request. I\'ll take a look at this soon.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,11,2009-06-16 06:04:36,1254.28,,1,,"b'b"" +1"," I\'ve got the same issue in my project""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,12,2009-06-16 06:04:36,1068.3,,1,,"b'b"" Hi", I\'m sorry to push a little on this. Paperclip is an awesome project and I really appreciate the amount of work you guys put in it, but it\'s a real problem for me. I know that it\'s an open-source project and I should submit a patch instead of complaining, but I\'ve done the best I could. As I\'ve explain in my previous comment," the issue has two parts : a problem with how local files are treated (I guess it can be solved in Paperclip) and a problem with the way I\'m using Paperclip to keep an altered original. Please give me your opinion on both of these parts. Thanks in advance.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,13,2009-06-16 06:04:36,103.38,,,1,"b'b"" @jlecour: I\'ll be taking a look at this today. Thanks very much for your debugging efforts. The first part is getting a failing test so we can isolate the issue"," and you\'ve helped a lot there. @ikonyshev: Are you also on a Rails 2 project? I wonder if the problem is related to that somehow.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,14,2009-06-16 06:04:36,107.3,,1,,"b'b"" @jlecour: I\'m trying to force a large number of open files", but even opening 100,0, I can only manage lsof to return that about 500 are open. What version of ruby are you running," and do you have any GC tuning enabled?""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,15,2009-06-16 06:04:36,15.77,,1,,"b""b' Ah"," nevermind. I spoke too soon.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,16,2009-06-16 06:04:36,12.53,,1,,"b'b"" Doing a bit more research", if the lifecycle of the objects runs as expected, the GC should clear out any lingering objects, which will close their files. The  \'d file in is unset when is cleared at the end of  . As long as the GC runs, those files will be closed automatically. So, I have to ask... the files in question are all being saved, right? Do you simply have thousands up uploads at the same time? Or (to jump back a bit) do you tweak your GC settings (REE, jruby," etc)?""'",,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,17,2009-06-16 06:04:36,84.4,,,1,"b'b"" Hi @jyurek Thank you very much for looking at this. I\'m using REE (2011.03) on a Mac and MRI 1.8.7 on a Debian. I don\'t think I\'ve tuned the GC in any of those environments. I do some tuning some times to run the GC manually in a big loop", but not here. I don\'t have any uploads at all. I have some images that are downloaded and then given to Paperclip (as an IO) as if they were uploaded files. Have you tried to reproduce the issue with the steps i\'ve put in this comment url  ?If you do this and see that a file descriptor is not freed," then we are on the same track. Feel free to ping me on twitter (@jlecour) if you want us to meet in an IRC chatroom or whatever. It might be easier to answer your questions and give you quicker feedback. Thanks again.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,18,2009-06-16 06:04:36,49.77,,,1,"b""b' Wow"," I just hit this today after upgrading to Rails 3.1 (and upgrading all my gems in the process). Glad to see someone is actively looking into this.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,19,2009-06-16 06:04:36,106.13,,1,,"b""b' FYI I rolled back to Paperclip 2.3.8 and the problem went away.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,20,2009-06-16 06:04:36,204.93,,1,,"b'b"" I\'ve got the problem on rails 3.1", ruby 1.9.2 installed via rvm on linux and paperclip 2.3.16. Also I use Mongoid for storage, but I don\'t think that this is a problem.The problem occurs with the rake task that crawles another site," downloads images and stores them locally. There are about 50 000 images""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,21,2009-06-16 06:04:36,144.22,,,1,"b""b' After 3100 downloads there are 830 opened files.Model has few styles defined: Part of lsof list:  makefashion@neuron:~/$ lsof -c rake | grep streamrake  10851 makefashion  6u REG  251",2  2612   3275 /-10851-ykkvdb20111106-10851-t6ro2wrake  10851 makefashion  7u REG  251,2   14874   3296 /-10851-1dfxoq720111106-10851-16ncmdhrake  10851 makefashion  8u REG  251,2   858   3266 /-10851-1cnn3s4.jpgrake  10851 makefashion  9u REG  251,2   35324   3274 /-10851-rake  10851 makefashion 10u REG  251,2   51051   3306 /-10851-12c07rake  10851 makefashion 11u REG  251,2  330788   3269 /-10851-1xu03rake  10851 makefashion 12u REG  251,2  9471   3309 /-10851-12c07gz20111106-10851-bpiqzkrake  10851 makefashion 13u REG  251,2   11692   1228 /-10851-1xu03oc20111106-10851-1h34e0arake  10851 makefashion 14u REG  251,2   55448   3270 /-10851-1xu03oc20111106-10851-1pmbss4rake  10851 makefashion 15u REG  251,"2   21523   3272 /-10851-1xu03oc20111106-10851-i9wh7e'""",,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,22,2009-06-16 06:04:36,1061.78,,1,,"b'b"" Ok I\'ve looked into this some more", and after running some tests, I\'ve determined that if I save my attachments, then what\'s choking my open files isn\'t Paperclip, it\'s the failure to close the files that are passed in to Paperclip. I won\'t close those for you, as I that would be presumptuous and an unexpected side effect. If you don\'t save your attachments, you should be, as the Tempfile is kept around until the model is saved," whereupon it\'s closed when it\'s GC\'ed. I\'m not seeing that this is a Paperclip problem at the moment. Can someone show me differently?""'",,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,23,2009-06-16 06:04:36,75.55,,,1,b'b\' @jyurek AFAICT You\\\'re absolutely right about this. I\\\'ve looked into my code, and I definitely open a file and never close it. But I honestly don\\\'t know how I can close it. Here is part of my code : As you can see, if I provide an parameter," it is downloaded and processed as a regular uploaded file.The file is opened with OpenURI as an ""io"" object", passed to Paperclip. I\\\'d like to close that file in a callback, but I don\\\'t know how to access to this file handler anymore Do you have an idea? Thanks for your great and invaluable help.\'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,24,2009-06-16 06:04:36,7.68,,,1,"b""b' Well", the good news is that because Paperclip makes its own copy," you can assign it and then close it. So this might just be all you need:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,25,2009-06-16 06:04:36,755.98,,,1,"b'b"" Thanks @jyurek"," I\'ve put some in my code and I don\'t have the first issue anymore : Here is the diff :  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,26,2009-06-16 06:04:36,7.92,1,,,"b'b"" @jyurek Now that you\'ve saved me once", I\'m a little embarrassed to ask for your help on the second part of my issue. The problem is that I\'d like to keep a quite large version of image attachments, but not the original. For example, I sometimes get very big images, with a resolution higher than 72dpi, bigger than a regular screen, and sometimes in a CMYK mode. That\'s why I use this : for my attachments.I\'d like to have a 1024x768px / 72dpi to become the original and destroy the provided picture. It\'s working quite well," but I still have some file left open since what Paperclip think is the original is not really the original. I\'d be more than happy to write a use-case in the FAQ if there is a good solution for this. Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,27,2009-06-16 06:04:36,313.27,,1,,"b'b"" So", if I understand you right... you\'re overwriting the style," and Paperclip is holding the actual original file open as a result?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,28,2009-06-16 06:04:36,5.13,,1,,"b""b' @jyurek Absolutely'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,29,2009-06-16 06:04:36,10.83,,1,,"b'b"" Hmm"," yeah. It would get overwritten during the processing phase. That\'s an issue I don\'t know the best solution for. I think that\'ll require a code change to detect if the original is being overwritten.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,30,2009-06-16 06:04:36,16.85,,,1,"b'b"" OK", thank you very much @jyurek," you\'ve been a great help for me.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,closed,2011-12-13 20:04:13,1399.12,2,20,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,31,2009-06-16 06:04:36,272.4,,1,,"b""b' Was a fix for this ever merged into paperclip master?  Or are users expected to handle the  themselves when they encounter this issue? Running into this on paperclip 2.5.2 and Rails 3.0.10.  Rolling back to 2.3 to see if the issue resolves.  (We had encountered it occasionally on 2.3", but on 2.5 it happens every time we run a full rake -we have integration tests that attach files," but they do not fail when run on their own).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,32,2009-06-16 06:04:36,613.55,,,1,"b""b' This is still an issue for me on paperclip 2.7.0 when running cucumber tests. This same code works fine in paperclip 2.3.8.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,44,closed,-,-,-,2,21,11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,opened,2009-06-18 20:56:26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,title,2009-06-18 20:56:26,00:00,,1,,"b""b' Paperclip uses before_destroy slightly incorrectly'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,body,2009-06-18 20:56:26,00:00,,1,,"b'b"" Paperclip should probably use after_destroy to remove authenticated files", since before_destroy hooks have the power to stop the object\'s destruction. If paperclip\'s hook runs (removing the files), and then another hook stops the destruction, the object is left with a half-dead attachment. Here is a patch which addresses the issue. Essentially, changing before_destroy to after_destroy," and modifying the Attachment class to not mess with the instance properties if they are frozen (i.e. it\'s being destroyed).""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,1,2009-06-18 20:56:26,0.93,,1,,"b'b"" It seems that github ate my patch. I\'m probably doing something wrong. I\'ll throw it up somewhere else and post a link.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,2,2009-06-18 20:56:26,12.63,,1,,"b'b"" I\'ve forked and applied my changes over there: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,3,2009-06-18 20:56:26,1314.17,1,,,"b'b\' I\\\'m a little unclear why as to why this has been tagged as a ""feature request"" and not a ""bug"". This could interact badly with other plugins or application code; indeed", it has in one of my applications.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,4,2009-06-18 20:56:26,754.7,,1,,"b'b"" +1"," if it\'s possible add tests to your patch. Current workaround:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,5,2009-06-18 20:56:26,1173.37,,,1,"b'b"" +1 from me too.  asquared\'s patch worked fine. In my case", I\'m tracking the total size of files that users have uploaded and was wanting to use a before_destroy hook to decrement the size of the current file from the user\'s total count.  Because paperclip\'s before_destroy hook ran before mine," the file size was gone before I could look at it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,6,2009-06-18 20:56:26,999.02,,1,,"b'b"" I can see the use case for this one", but I also can see the potential failure that stop me from applying this one. I don\'t think I really concern about dangling file; that can be easily fix by issue some command to scan your directory. If we move the callback to be  , what if Paperclip\'s callback was already executed, your file was deleted," but another callback on the chain return false? Leaving a dangling file seems more reasonable than losing a file here.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,closed,2011-06-24 19:51:15,1374.82,1,6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,7,2009-06-18 20:56:26,43.5,,,1,b'b\' I don\\\'t think I mentioned anything about dangling files (nor did anyoneelse)," and the ""potential failure"" you describe is exactly what happenedwhen I submitted this patch! Files were being removed in a before_destroyhook", which ran before other hooks that sometimes returned false. Maybe it\\\'sbeen fixed in the interim, but if not, you should rethink having closed thisissue.\'',,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,8,2009-06-18 20:56:26,8.33,,1,,"b""b' It must have been a long week", and I thought that we were doing ... Ok," reopen it :)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,reopened,2011-06-24 20:43:08,51.88,1,7,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,9,2009-06-18 20:56:26,1124.38,,,1,"b""b' Paperclip", currently, prepares to remove the files and actually removes them  , which looks like what this ticket is asking for. If this needs to change," we should open a new ticket. Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,closed,2012-01-20 15:27:28,1124.33,1,7,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,46,closed,-,-,-,1,7,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,opened,2010-02-08 12:45:10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,title,2010-02-08 12:45:10,00:00,,1,,"b""b' avoid requiring  multiple times'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,body,2010-02-08 12:45:10,00:00,,1,,b'b\' While using paperclip with S3," I noticed the """" file was being required multiple times per page. 17 in my case. Ruby says it will not load the file a second time"," but something about ""require \\\'\\\'"" takes about 80ms on my Windows box even after the initial load. For a page with 17 requires", that\\\'s 1.36 seconds which could be avoided simply by requiring \\\'\\\' only once.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,1,2010-02-08 12:45:10,181.55,,,1,"b'b"" I\'ve checked and seems like we\'ve require only one time now. Thank you for reporting in! :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,closed,2011-06-24 15:46:43,181.55,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,2,2010-02-08 12:45:10,277.53,,1,,"b'b"" That does not seem to be true. \'\' is required each time the Paperclip::Storage::S3 module extends an AR class: url  So", it\'s still being loaded multiple times," and in dev this occurs every page load since models are reloaded.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,reopened,2011-06-24 20:25:24,278.68,0,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,3,2010-02-08 12:45:10,1.7,,1,,"b'b"" Ok"," I\'m going to investigate more on this issue then. Do you know if there\'s a way to fix this?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,4,2010-02-08 12:45:10,6.93,,1,,"b'b"" One fix that comes to mind is to require\'\' at global scope. If you wanted to make it only display an error later when you tried to use it"," you could set a variable indicating failure and check it when Paperclip::Storage::S3 extends something.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,5,2010-02-08 12:45:10,1276.0,,1,,"b'b"" Are you sure that it\'s requiring the library multiple times? We have a guard clause against doing that. If AWS::S3 is defined"," it shouldn\'t run the require again.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,6,2010-02-08 12:45:10,111.63,,1,,"b'b"" Ah", sorry, I was running 2.3.8. I didn\'t notice the snuck in there. I upgraded to 2.3.11 and this is now fixed (however I can\'t get 2.3.12 to run," but I\'ll file a separate ticket for that). Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,closed,2011-06-30 19:40:31,1395.12,0,7,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,150,closed,-,-,-,0,7,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,opened,2010-07-10 04:28:33,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,title,2010-07-10 04:28:33,00:00,,1,,"b""b' Support for non-ActiveRecord ORMs'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,body,2010-07-10 04:28:33,00:00,,1,,"b""b' It looks like it would be almost trivially easy: url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,1,2010-07-10 04:28:33,637.3,,1,,"b'b"" All it takes is the following to get Paperclip working with Mongoid and Rails beta 4:url  Then instead of doing You do And it works. The only reason it doesn\'t work with Mongoid is because Paperclip looks for the ActiveRecord logger", which might not exist when using Mongoid. So by changing the ActiveRecord logger to the Rails logger," it does work. Or by completely turning off logging of course.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,2,2010-07-10 04:28:33,1338.7,,,1,"b""b' It would be nice if it were easy to replace the ActiveRecord logger with the Rails logger.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,3,2010-07-10 04:28:33,16.7,,1,,"b'b"" Indeed. Without the need to fork the project. Basically the only way to (as far as I know) work with (official) Paperclip and Mongoid is to turn the logger off", but yeah," then it wont log at all. I\'m doing it in one of my projects though: ****  [:log] = false""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,reopened,2011-06-20 05:29:38,61.08,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,4,2010-07-10 04:28:33,948.87,,,1,"b'b"" I\'m reopen this one until we fully support Mongoid and another ORM. Anybody want to help me with pull requests? :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,5,2010-07-10 04:28:33,5.9,,1,,"b'b"" I\'m currently looking at two patches to be merged:@snitko\'s patch at snitko@163f81b9af2cfe5a9bb5b23749eff6e2bca7c7e0@meskyanichi\'s patch at meskyanichi@1f6f44dae5d4233dd855a918406f8e96e70b5ef4 (This was from #291) I\'ll try to get those in"," and let see if the test pass or not. Do any of you guys seeing more places need to be fixed?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,6,2010-07-10 04:28:33,32.23,,,1,"b'b"" Please forget my last comment. So apparently in #485 @german has submit a pull request that finally make it work with his RedisORM nicely. I think that should fix the issues that you have found for Mongoid too. So those two commits in the comment above should not applied anymore. However", there\'s some missing piece that I think it would be nice to add, such as automatically include to each ORM. So I\'ll keep this one open," and patches always welcome :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,7,2010-07-10 04:28:33,893.9,,1,,"b'b"" I\'m using mongoid I added \'include Paperclip\' under my \'include Mongoid::Document\' -when I try to access the page"," I get: Any ideas?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,8,2010-07-10 04:28:33,73.53,,1,,"b""b' For anyone looking for Mongoid support there is a mongoid flavored version of paperclip here: url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,9,2010-07-10 04:28:33,1079.87,,,1,"b'b"" I\'m not 100% sure if this is enough", but in master I\'ve guarded the ActiveRecord-specific stuff in the Railtie. If someone is so inclined, can they check it out for me and let me know if anything else needs to change? I\'ll be closing this ticket," so please open another. Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,closed,2012-01-20 16:15:33,645.92,0,7,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,248,closed,-,-,-,0,7,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,opened,2010-09-17 14:43:15,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,title,2010-09-17 14:43:15,00:00,,1,,"b""b' Upload get encoding error when file name is Chinese'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,body,2010-09-17 14:43:15,00:00,1,,,"b'b"" Encoding::CompatibilityError (incompatible character encodings: ASCII-8BIT and UTF-8):  :63:in  each\'  :60:in ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,1,2010-09-17 14:43:15,125.12,,1,,"b""b' I also have this issue", It seems that paperclip pass a string in  ASCII-8BIT when calling attribute setter," which cause the adapter reject the string.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,2,2010-09-17 14:43:15,887.37,,1,,"b'b"" +1My rails version is 3.0.7 and paperclip version is 2.3.11I alose got this  uploaded file with a chinese name(eg:\'\\xe5\\x90\\x8e\\xe6\\x9d\\xa5.mp3\')"," it will cause an enception below:Encoding::CompatibilityError in VoicesController#create incompatible character encodings: UTF-8 and ASCII-8BIT But it goes well with english file name.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,3,2010-09-17 14:43:15,1222.93,,1,,"b'b"" That\'s actually the problem with Ruby 1.9.2. I think you have to solve your problem by putting a magic comment in your header file:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,closed,2011-06-30 03:58:40,795.42,1,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,4,2010-09-17 14:43:15,214.37,,1,,b'b\' No, no no, I was added that in my source file header, but it not effect," uploading Chinese name ""\\xe5\\x90\\x8e\\xe6\\x9d\\xa5.mp3"" still raise:Encoding::CompatibilityError in VoicesController#create incompatible character encodings: UTF-8 and ASCII-8BIT\''",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,5,2010-09-17 14:43:15,42.6,,1,,"b""b' +1 for @huacnlee'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,6,2010-09-17 14:43:15,0.8,1,,,"b'b"" +1 for @huacnlee I need to force_encoding(\'UTF-8\') to solve this issue"," so I suspect it\'s cause by where the string is created.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,reopened,2011-06-30 15:27:37,688.95,2,6,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,7,2010-09-17 14:43:15,502.75,,1,,"b'b"" I\'ll try to reproduce this error again then.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,8,2010-09-17 14:43:15,679.07,,1,,"b'b"" I have this issue also.I had added # encoding: utf-8 on the upoload views and  add below content on :#-if defined? Encoding = \'UTF-8\' = Encoding::UTF_8end # -Hope can solved it  in the near future ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,9,2010-09-17 14:43:15,112.73,,1,,"b""b' here is the example log for sikachu to reproduce it :  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,10,2010-09-17 14:43:15,1212.43,,1,,"b""b' +1'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,11,2010-09-17 14:43:15,873.33,,1,,"b""b' Is this error still a problem?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,12,2010-09-17 14:43:15,312.8,,,1,"b'b"" I\'m closing this one. If you can come back with full stack trace that\'d be great.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,closed,2012-02-17 21:49:33,381.93,2,11,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,13,2010-09-17 14:43:15,582.17,,1,,"b""b' I have the same issue writing files to s3 with utf8 filenames and aws-sdk:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,14,2010-09-17 14:43:15,219.43,,1,,"b""b' PS: reverting to paperclip 3.0.0 solves the issue'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,15,2010-09-17 14:43:15,370.25,,1,,"b""b' This should be re-opened.  I also experience this in the latest master.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,reopened,2012-04-26 17:22:31,1172.97,2,14,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,16,2010-09-17 14:43:15,1.4,,1,,"b'b"" Reopen as requested. I\'ll take a look at it this weekend.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,17,2010-09-17 14:43:15,11.6,,1,,"b""b'  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,18,2010-09-17 14:43:15,51.18,,1,,"b""b' I think I resolved this by adding a custom inspect method to each of the file adapters"," which just outputs the adapter type and orignal filename instead of relying on Kernel#inspect.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,19,2010-09-17 14:43:15,3.58,,1,,"b'b"" Oh", yeah, seems like that\'s the problem at  . I think they\'re trying to mixin the UTF 8 character (which is coming from Paperclip) with their string. I think this issue should be fixed upstream though, not from Paperclip side (unless if Paperclip actually returns ASCII encoding in #inspect," then that\'s the issue.)""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,20,2010-09-17 14:43:15,117.92,,1,,"b'b"" Paperclip doesn\'t define an inspect method on any of the file adapters", which there is no  in doing," and it\'s the result of Kernel#inspect that\'s ultimately triggering the encoding error""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,21,2010-09-17 14:43:15,147.12,,,1,"b""b' I can reproduce the error and have fixed this one in 784717b8. This one is really a tricky one"," as I personally never turn the AWS logging on. Thank you so much for reporting in.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,closed,2012-05-04 22:54:12,331.68,2,19,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,22,2010-09-17 14:43:15,1096.33,,1,,"b'b"" paperclip3.0.3 when uploaded file with a chinese name", upload file is successful," but resize image is failed. [paperclip] An error was received while processing: Paperclip::Errors::NotIdentifiedByImageMagickError: C://[\\xe5\\x9b\\xbe]\\xe9\\xa3\\x98\\xe9\\x80\\xb8\\xe9\\x95\\xbf\\xe8\\xa3\\x99.png20120506-5780-ysdukm is not recognized by the \'identify\' command. it goes well with english file name. ^)^""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,23,2010-09-17 14:43:15,6.97,,1,,"b""b' Do you mind open up another issue with the log? I think this might be an os specific issue"," and want to investigate this. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,24,2010-09-17 14:43:15,20.28,,1,,"b'b"" Already open #853. Let\'s discuss it in there.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,25,2010-09-17 14:43:15,1331.17,1,,,b'b\' Hi all.I think that problem in the following method: url This method of Kernel#inspect," and paperclip or aws not guilty. We apply the following ""dirty hack"" for s3:  \''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,26,2010-09-17 14:43:15,1.58,,1,,"b'b"" I\'ve already fixed it and release 3.0.3. Was that solve your problem?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,27,2010-09-17 14:43:15,17.63,,1,,"b""b' Hi sikachu"," you mean the following patch?  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,28,2010-09-17 14:43:15,59.98,,1,,"b'b"" Yes. I need to force_encoding them to utf-8", as #inspect returns an ascii string. If you\'re using Paperclip 3.0.3," you should not see that problem anymore.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,29,2010-09-17 14:43:15,879.43,,1,,"b'b"" Yes"," we\'re using Paperclip 3.0.3.Filename for uploading: \\xd1\\x82\\xd0\\xb2\\xd0\\xb8\\xd1\\x82\\xd1\\x82\\xd0\\xb5\\xd1\\x80.jpg  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,30,2010-09-17 14:43:15,294.55,,,1,"b""b' Oh noes. Can I see your stacktrace? What did I miss ...'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,31,2010-09-17 14:43:15,21.13,,1,,"b""b' Check this: :280 Here you are:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,32,2010-09-17 14:43:15,50.5,,1,,"b""b' The code without exception:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,33,2010-09-17 14:43:15,2.78,,1,,"b'b"" Hmm .. yeah"," I couldn\'t reproduce the error on the line. I think in that case we should override Kernel#inspect. Going to work on this on Friday.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,34,2010-09-17 14:43:15,47.65,,1,,"b""b' Anything new on this Issue? '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,35,2010-09-17 14:43:15,98.93,,1,,"b""b' concerning the aws-sdk logger"," you can fix the problem by turning off its logger : This worked for me. More information [here]url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,36,2010-09-17 14:43:15,118.67,,,1,"b""b' thanks a lot! i will check this out..'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,37,2010-09-17 14:43:15,34.92,,,1,"b'b"" same problem. stack trace was quite large", so I put it into a gist. url  note: we\'re not using the filename in the path. we create a  . If someone can recommend the proper place to put the a sanitize method, I\'d be happy to use that. I am using  Active Admin to generate the form which then submits via Paperclip to Amazon S3. I suppose I could override the Active Admin  controller methods and attempt to sanitize there? but that seems less than ideal. It seems like I should do it inside of Paperclip or aws-sdk, if possible.  setting worked (obviously," since it no longer tries to report something)""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,38,2010-09-17 14:43:15,1391.0,,1,,"b'b"" I\'ve added this monkey patch on my project to fix the problem: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,39,2010-09-17 14:43:15,868.2,,,1,"b""b' Using S3 and paperclip 3.0.4", I had the same issue (j\\xc3\\xa9r\\xc3\\xa9 fails,  works).I tried ( :logger =xaviercronus, your dirty hack works for me," thanks !'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,40,2010-09-17 14:43:15,596.52,,1,,"b""b' Resize image still failing....I guess I will move to carrierwave"," because this bug is alive for almost a year and I dont see it working with utf-8'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,41,2010-09-17 14:43:15,18.57,,,1,"b'b"" @luccasmaso if Carrierwave works for you", then that\'s fine. I\'m still fixing this issue and haven\'t gave up. I currently wait on @phene on #923. @xaviercronus while would make it work now," it\'s too obtrusive and would break if decides to change that method signature. That\'s why I\'m leaning on adding to return string.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,reopened,2012-07-10 18:51:15,1197.05,3,33,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,42,2010-09-17 14:43:15,363.15,,1,,"b""b' Any updates please tell us (='""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,43,2010-09-17 14:43:15,1232.95,,1,,"b'b"" I\'ve released v3.1.3 with the fix. Please give it a try. @luccasmaso ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,closed,2012-07-13 21:27:07,155.87,3,35,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,44,2010-09-17 14:43:15,100.48,,,1,"b""b' Thanks @sikachu! It works!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,301,closed,-,-,-,3,35,8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,opened,2010-10-28 09:02:24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,title,2010-10-28 09:02:24,00:00,,1,,"b""b' BugFIX: UpFile test fails on Mac OSX Cant determine file type correctly'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,body,2010-10-28 09:02:24,00:00,,1,,"b'b"" This Commit url  changes UpFile to check for the platform it is running on", and if it is MAC OS X (darwin), it changes the \'file\' command to use mime, rather than mime-type," and parses the revised output Please can you consider pulling this commit into master""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,1,2010-10-28 09:02:24,1.08,1,,,"b""b' Oops", sorry," pulled all changes please only commit  url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,2,2010-10-28 09:02:24,342.0,,1,,"b""b' Is this actually the case? My file command definitely has mime-type in the man page. How did you install yours?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,3,2010-10-28 09:02:24,61.62,1,,,"b""b' It is the standard OSX Leopard installed binary as far as I know..... Mike-Simkins-MacBook-Pro-2:g6ut30 msimkins$ file //: Mach-O universal binary with 2 architectures/ (for architecture i386):  Mach-O executable i386/ (for architecture ppc7400): Mach-O executable ppcMike-Simkins-MacBook-Pro-2:g6ut30 msimkins$  Mike-Simkins-MacBook-Pro-2:g6ut30 msimkins$ file helpUsage: file [OPTION]... [FILE]...Determine file type of FILEs........... -I"," mime       output mime type strings'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,4,2010-10-28 09:02:24,8.27,,,1,"b'b"" Interesting. You don\'t have the mime-type option at all? I also have the standard one (thought it was homebrew", but it\'s not) and I have mime, mime-type," and mime-encoding.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,5,2010-10-28 09:02:24,4.88,,1,,"b'b"" No Mike-Simkins-MacBook-Pro-2:g6ut30 msimkins$ file READMEREADME: ASCII English textMike-Simkins-MacBook-Pro-2:g6ut30 msimkins$ file -I READMEREADME: ; charset=us-asciiMike-Simkins-MacBook-Pro-2:g6ut30 msimkins$ file mime READMEREADME: ; charset=us-asciiMike-Simkins-MacBook-Pro-2:g6ut30 msimkins$ file mime-type READMEfile: unrecognized option  file help\' for more information.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,6,2010-10-28 09:02:24,739.07,,1,,"b""b' Have you fixed this issue? What is version of your command?  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,7,2010-10-28 09:02:24,691.6,,,1,"b'b"" Ahh", this was the \'stock\' file supplied with OSX Leopard (10.5.8) (4.17) I used ports to install 5.05, and mime-type appeared," looks like this may be something that can be closed (I guess most developers are not using the stock \'file\' command)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,closed,2011-06-26 15:50:55,408.52,2,5,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,8,2010-10-28 09:02:24,0.13,,,1,"b'b"" Ahh", this was the \'stock\' file supplied with OSX Leopard (10.5.8) (4.17) I used ports to install 5.05, and mime-type appeared," looks like this may be something that can be closed (I guess most developers are not using the stock \'file\' command)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,reopened,2011-06-29 18:15:04,144.15,2,5,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,closed,2011-06-29 18:15:14,0.17,2,5,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,348,closed,-,-,-,2,5,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,opened,2010-11-25 14:03:16,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,title,2010-11-25 14:03:16,00:00,,1,,"b""b' uninitialized constant AWS::S3::NoSuchBucket'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,body,2010-11-25 14:03:16,00:00,,,1,"b'b"" I have a rails 3 (3.0.3) app that is throwing this error when seeding our database with some thumbnails on the staging server (ubuntu 8 with ruby enterprise 1.8.7). It works fine locally though (OS X Snow Leopard with ruby enterprise 1.8.7 via RVM). I\'m using the latest (2.3.6) paperclip gem", and the latest (0.6.2) aws-s3 gem. This was working ok on the staging server a few weeks ago," since then we\'ve updated rails from 3.0.1 and paperclip from 2.3.5 Here\'s the stack trace:  *\\\\* Execute db:seed  rake aborted!  uninitialized constant AWS::S3::NoSuchBucket  /-2.3.6/:154:in  each\'  /-2.3.6/:145:in  save\'  /-2.3.6/:357:in  save_attached_files\'  /-2.3.6/:350:in  each\'  /-2.3.6/:349:in  save_attached_files\'  /-3.0.3/:420:in  create_or_update\'  /-3.0.3/:56:in  save!\'  /-3.0.3/:30:in  save!\'  /-3.0.3/:289:in  transaction\'  /-3.0.3/:204:in  with_transaction_returning_status\'  /-3.0.3/:242:in  call\'  /-0.8.7/:636:in  each\'  /-0.8.7/:631:in  invoke_with_call_chain\'  /:242:in  invoke_with_call_chain\'  /-0.8.7/:583:in  invoke_task\'  /-0.8.7/:2029:in  each\'  /-0.8.7/:2029:in  standard_exception_handling\'  /-0.8.7/:2023:in  run\'  /-0.8.7/:2068:in  run\'  /-0.8.7/:31  /:19:in ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,1,2010-11-25 14:03:16,158.47,1,,,b'b\' oh dear, This was an embarrassing typo on my part. I was using bucket_name instead of bucket in the s3.yml config. However, this has uncovered a possible problem with this code: /:144  def flush_writes #:nodoc:    @queued_for_ do |style," file|    begin    log(""saving #{path(style)}"")    AWS::S3::S3(path(style)",            file,            bucket_name,"            {:content_type =             :access =            }.merge(@s3_headers))    rescue AWS::S3::NoSuchBucket =    create_bucket    retry    rescue AWS::S3::ResponseError =    raise    end    end    @queued_for_write = {}  end If a ResponseError is thrown before AWS has created the NoSuchBucket exception then this will raise the error I experienced ""uninitialized constant AWS::S3::NoSuchBucket""\''",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,2,2010-11-25 14:03:16,1303.53,,,1,"b'b"" NameError (uninitialized constant AWS::S3::NoSuchBucket I\'m under rails 3.0.0paperclip (2.3.8)Hosted on Heroku has_attached_file :image",  :styles =>{  :thumb =  :medium  =  :large =  },  :storage =  \'development\' =  \'production\' =  }[RAILS_ENV],  :s3_credentials =  :url =  \'development\' =  \'production\' =  }[RAILS_ENV],  :path =  \'development\' =  \'production\' =  }[RAILS_ENV],"  :bucket =can\'t see what\'s the problem...""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,3,2010-11-25 14:03:16,104.92,1,,,"b'b"" I\'m having this exception as well. As I was searching for why it didn\'t work", I\'ve found that the explaination is very simple. The error if raise by Ruby itself, not by nor  . This constant isn\'t defined anywhere in those 2 gems, so when Paperclip tries to Ruby raise the exception. What is really strange is that the test suite is defining this class to make the test pass. The comment in the spec ( ) implies that this constant might be automatically defined by AWS::S3, but I haven\'t found  it is done. If I patch AWS::S3 and create the class," Paperclip doesn\'t complain anymore.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,4,2010-11-25 14:03:16,1409.05,1,,,"b'b"" I got this exception as well. However", in my case it was obscuring the real problem, which was actually a connection issue. The reason the exception is occurring is due to how aws-s3 handles errors. It basically creates new class constants for any errors it receives back from S3. Which means that those constants don\'t exist until aws-s3 gets the error and creates the class. So when Paperclip tries to catch one of those S3 errors directly, Ruby throws an uninitialized constant exception. At this point," the only solution I can see is refactoring the flush_writes method so that it doesn\'t rely on these constants directly. I\'ll take a stab at it and see if I can get it sorted out.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,5,2010-11-25 14:03:16,2.75,,1,,"b""b' I fixed that issue by changing my bucket zone from Europe to US.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,6,2010-11-25 14:03:16,208.28,,,1,"b'b\' I am running into this issue as well. I am trying to run my app on Heroku so do not think the ""patch"" to create a class on in aws-s3 will be possible. Any ideas on how I can fix this or get around this?\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,7,2010-11-25 14:03:16,1313.12,,1,,"b""b' I changed the zone from europe to us to"," and it worked url url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,8,2010-11-25 14:03:16,170.5,1,,,"b'b"" The problem that it seems like is not compatible with Europe buckets. The solution for now is following the instruction in this blog post: url  This has already been reported in -s3#4"," but I don\'t see the update there. :(""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,closed,2011-06-29 19:53:54,350.63,4,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,9,2010-11-25 14:03:16,1359.48,,1,,"b'b"" The real issue here isn\'t compatibility with European buckets (although that\'s an issue in its own right)"," but that the error handling in is broken. Any exception that is raised before the class is built gets masked by the error. Reopen issue?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,10,2010-11-25 14:03:16,220.78,,1,,"b'b"" I agree. The underlying issue is with how the aws-s3 gem handles errors. Error constants from S3 don\'t exist until they are thrown", so Paperclip shouldn\'t be expecting the constants to exist. -AH On Monday, July 11, 2011 at 1:33 PM," mkscrg wrote:""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,11,2010-11-25 14:03:16,980.07,1,,,"b'b"" You\'re right", the AWS::S3 gem is definitely the underlying problem. However, I can\'t think of a clean way to solve this. If the exceptions aren\'t there until something goes wrong, how can we hope to rescue them? All I can think of it having a handler that will catch all exceptions and dispatch based on the String name... which is a complete ugly hack, is the job of the exception dispatcher in the first place," but might be the only way to get it done.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,reopened,2011-08-11 14:38:06,1124.2,5,5,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,12,2010-11-25 14:03:16,4.0,,,1,"b""b' Patches definitely welcome on the issue","'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,13,2010-11-25 14:03:16,24.63,,1,,"b""b' What about switching to the official AWS gem ? url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,14,2010-11-25 14:03:16,135.47,,1,,"b""b' patch here: url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,15,2010-11-25 14:03:16,137.97,,1,,"b'b"" Why could I be getting this error with a bucket that already exists? I can even read the files"," just can\'t create any.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,16,2010-11-25 14:03:16,1323.38,,,1,"b'b"" @sikachu"," it\'s not about european buckets. @liveh2o and @mkscrg\'s explanation is correct. @bzanchet\'s patch looks reasonable (given the behavior coming out of ) Another more simple solution might be to just defined that constant as an empty class when then the gem is initialized (at somer point when we know that the module has been created).  can then happily write over it it with its dynamic exception class creation when it wants to.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,17,2010-11-25 14:03:16,1410.87,,,1,"b'b"" We\'ve switched to ", so this problem shouldn\'t be happening anymore. @krusty, that problem sounds possibly related, but separate. If it\'s still happening," please make a new issue to keep things more organized. Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,closed,2012-01-20 17:10:32,152.43,5,8,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,363,closed,-,-,-,5,8,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,opened,2011-01-05 11:46:04,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,title,2011-01-05 11:46:04,00:00,,1,,"b""b' S3 url method should respect https'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,body,2011-01-05 11:46:04,00:00,,,1,b'b\' When using Paperclip with S3," the url-method generates a url to ""url "":   But if the current page is requested through https"," Internet Explorer shows the user the following error: ""This Page Contains Both Secure and Non-Secure Items"" It would be nice if we with some setting could enable the url-method to automatically detect and use either http or https.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,1,2011-01-05 11:46:04,125.73,,1,,"b'b"" I\'m currently using the following work-around:url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,2,2011-01-05 11:46:04,358.63,1,,,"b'b"" I could be misunderstanding what you\'re looking for", but you can pass an :s3_protocol option to has_attached file. It defaults to \'http\'," which is why Attachment#url returns a HTTP url url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,3,2011-01-05 11:46:04,929.95,,1,,"b'b"" I think the problem in this case isn\'t solved using :s3_protocol unless it\'s modified in some way to accept a Proc or a Lambda. The issue is that the same model (which has the has_attached_file declaration) can be accessed both from a part of your application that uses https and from another part that uses http. Therefore the link-generation needs to dynamically generate either a http or a https URL depending on the context.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,4,2011-01-05 11:46:04,1154.97,,,1,"b""b' running into the same issue.  @watson thanks for the workaround!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,5,2011-01-05 11:46:04,748.57,,,1,"b""b' I can see the use of this. Do you mind creating patch", with tests," and submit it as a pull request? Thank you.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,6,2011-01-05 11:46:04,120.22,1,,,"b'b"" After some of thinking-through", it\'s quite hard to achieve this functionality as the attachment is in the model scope. It does not acknowledge whether the request is HTTPS or not," as that is actually in the controller\'s scope. I can think the way out of this would be passing an option to  . What do you think?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,7,2011-01-05 11:46:04,32.43,1,,,"b'b"" I agree", it would be hard to determine whether or not the app runs in HTTPS. Plus, the  boundary should\'t be breached. However, my original issue was not related to respecting whether or not the app is using HTTPS, but respecting the configuration S3 https option from Paperclip itself. As it stands, you can set that option, but the url method ignores it. This especially curious since Paperclip uses HTTPS with S3 by default. -AH On Sunday, July 10, 2011 at 4:04 PM," sikachu wrote:""'",,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,8,2011-01-05 11:46:04,261.32,,,1,"b'b"" @liveh2o can I have your definition? (without those credential", of course!) I\'ve looked into the code and couldn\'t find anything wrong in there. I mean, it will use by default," which should taking care of selecting the right protocol. See: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,9,2011-01-05 11:46:04,89.42,,1,,"b'b"" Actually", my issue with this was resolved with this commit: url  back in April. I can\'t speak for everyone watching this," but it might be safe to close this. -AH""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,10,2011-01-05 11:46:04,657.38,,1,,"b'b"" Let\'s wait for respond from @watson if he thinks that this is not an issue anymore or not.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,11,2011-01-05 11:46:04,620.98,,,1,"b""b' Why not use a URL without a protocol? // will work just fine in all browsers to my knowledge"," and will use the protocol of the page it is referenced in.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,12,2011-01-05 11:46:04,55.27,,1,,"b""b' One caveat"," I did read that some versions of IE will load a file twice if a // url is used in a link tag.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,13,2011-01-05 11:46:04,31.38,,,1,"b""b' protocol-less url would be a nice option.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,14,2011-01-05 11:46:04,1165.43,,1,,"b'b"" I\'m closing this because I didn\'t hear back from @watson. If this is still the problem"," please ping me so I can reopen it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,closed,2011-10-21 21:37:45,591.68,3,7,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,15,2011-01-05 11:46:04,185.1,,1,,"b""b' has_attached_file :s3_protocol ='""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,16,2011-01-05 11:46:04,1179.7,,1,,"b""b'   did not work for it as I think that is meant to store the protocol while saving the file? I need the https to be generate using paperclip method"," does anyone know?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,17,2011-01-05 11:46:04,427.22,,1,,"b'b"" +1 on having a way to generate protocol-less url\'s maybe something like :s3_protocol =""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,18,2011-01-05 11:46:04,709.47,,1,,"b'b"" Hi all"," any updates on this issue? We\'re facing the same problem right now and would rather have a clean solution.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,19,2011-01-05 11:46:04,1303.83,,,1,"b'b"" Hi all"," I\'d like this issue reopened.  I don\'t think solves the problem. I\'d like attachment#url to return \'https\' sometimes and \'http\' other times.  A nice workaround would be if I can do  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,20,2011-01-05 11:46:04,712.17,,,1,b'b\' +1 above! need to render HTTPS url from secured area, and HTTP url from non-secure area for the same . My scenario is a shop manger(using IE...) manages products inside a secured admin area," and the products[images] published on a public domain... pretty common scenario... off the bat another helper method like def dynamic_url url = REQUEST_("":"")[0] == ""https"" ?  ""https"" : ""http"" ..etc etc    \''",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,21,2011-01-05 11:46:04,371.65,,1,,"b""b' +1 same use case as @zarno '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,22,2011-01-05 11:46:04,1027.08,,1,,"b'b"" +1 this is driving me nuts. I\'ve tried :s3_host_alias =""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,reopened,2012-03-01 13:40:49,963.07,3,13,8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,23,2011-01-05 11:46:04,1287.6,,,1,"b""b' +1 I have a similar use case to @zarno and @cveneziani-silicon and no good solution as things stand.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,24,2011-01-05 11:46:04,227.8,,1,,"b""b' Not a permenant solution but Im using this one for now... url  the middleware answer'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,25,2011-01-05 11:46:04,422.57,,,1,"b""b' Same problem here as zarno and still no good solution... the middleware solution is a bit extreme in my opinion..'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,26,2011-01-05 11:46:04,845.18,,1,,"b""b' Same issue"," + 1 for protocol-less option.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,27,2011-01-05 11:46:04,106.27,,1,,"b'b"" I can\'t see any way out except we have something like a helper:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,28,2011-01-05 11:46:04,1242.75,,,1,"b'b"" I\'m not seeing this as a problem. Is there any reason why you wouldn\'t want https? Even if there is", I don\'t believe that there\'s a good method for being in the view and handing some data down into the model to generate the URL. I think what people may want is to define the as (that is, without the protocol). I\'m going to close this, but if someone gives me a good reason to not be able to use https everywhere and can\'t use the above," I\'ll reopen it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,closed,2012-04-25 21:06:08,445.32,3,16,11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,29,2011-01-05 11:46:04,761.0,,,1,"b'b"" I\'ve got a very clear scenario", if you are using Windows Azure CDN, you can\'t have a custom CDN URL which works with HTTPS," so you have to use an other url for HTTPS... this mean that protocol less URL is not an option here thanks.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,30,2011-01-05 11:46:04,940.95,,1,,"b'b"" @gmontard correct me if I\'m wrong"," but isn\'t this issue related to S3 and not Azure?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,31,2011-01-05 11:46:04,1014.08,,1,,"b'b"" Well you\'re right this post is about S3"," but the problem described can be applied to Azure as i said...""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,32,2011-01-05 11:46:04,1029.28,,,1,"b'b"" I understand what you\'re saying", but it still doesn\'t apply to Paperclip (core) that doesn\'t have Azure storage. This discussion is about S3 storage. I think for that case you might want to override your storage\'s #url method to take or something like that though," and you can tell in the documentation that you support that. Thanks again.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,33,2011-01-05 11:46:04,168.95,,,1,"b'b"" Good call"," I should have figured this earlier. There is no reason we can\'t use https in a unsecure area aswell as secured... Duh! Time to remove the middleware! oooh yeh!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,34,2011-01-05 11:46:04,1210.25,,,1,"b""b' Are there any problems with loading assets from S3 through HTTPS when your webpage is being served through plain HTTP? This seems like the path of least headache!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,35,2011-01-05 11:46:04,113.12,,1,,b'b\' I think this applies to paperclip," _in general_. If you look at the rails provided ""url_for"" and ""magic"" url methods", they allow for an option such as :protocol =E.g. node_url(@node, :protocol =It just seems to me that this should be an option across the board. Regardless of storage method.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,36,2011-01-05 11:46:04,293.18,,1,,"b'b\' In my case I just didn\\\'t want to go changing the paperclip write config and or edit existing urls in the database. As its set and included higher up the gem load heriarchy... All I need was a render helper... and I just used something like so def https_url_for(url)  protocol = ("":"")    (""https"")  ("":"")end I think the point from this side of the debate is that in some cases it\\\'s not necessary to make the change at the point of entry but rather determine the result upon reading the url value??  All so IE doesnt copmlain... pfft\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,387,closed,-,-,-,3,20,15,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,opened,2011-01-07 20:50:48,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,title,2011-01-07 20:50:48,00:00,,1,,"b""b' Return original Tempfile#size results if @tmpfile instance variable not present'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,body,2011-01-07 20:50:48,00:00,1,,,"b""b' Otherwise this monkey patch damages JRuby implementation of Tempfile#size which have different implementation than MRI.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,1,2011-01-07 20:50:48,927.6,,,1,"b""b' It would be really nice if this patch would be merged in as otherwise paperclip is still broken on JRuby.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,2,2011-01-07 20:50:48,417.95,,1,,"b""b' Will this patch be merged and new version of paperclip be released"," as it is still broken for JRuby?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,closed,2011-06-29 16:26:14,1175.43,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,reopened,2011-06-29 16:26:35,0.35,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,3,2011-01-07 20:50:48,1270.68,1,,,"b'b"" Oops"," closing the wrong ticket. Sorry. That one should close #464. I\'m currently looking into this one too. :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,4,2011-01-07 20:50:48,97.97,,1,,"b'b"" I think the best way is to **not** monkey patching that on the jRuby. I\'m closing this in favor of @bbrowning\'s comment on #100""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,closed,2011-06-29 18:05:00,98.42,2,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,388,closed,-,-,-,2,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,opened,2011-02-07 01:28:26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,title,2011-02-07 01:28:26,00:00,,1,,"b""b' /tmp directory filling up with RackMultipart* files'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,body,2011-02-07 01:28:26,00:00,,1,,"b""b' It seems that the uploaded RackMultipart\\\\* files in /tmp are not deleted by Paperclip after being used"," resulting in a filling up /tmp directory until the quota is reached and then it fails. See also url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,1,2011-02-07 01:28:26,942.57,,1,,"b""b' Agree"," same problem here.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,2,2011-02-07 01:28:26,124.12,,,1,"b'b"" As in the google groups", you can get around that by setting the on the initializer. That file is created by Rack, and in Paperclip\'s context I don\'t know that it\'s safe to remove that or not. If you think we should handle that," please send a pull request with your patch and I\'ll get them in. Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,closed,2011-06-29 19:15:07,1066.68,0,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,3,2011-02-07 01:28:26,28.38,,1,,"b'b"" I don\'t think this is a solution. I set TMPDIR to a project-local directory", but the temp files stay there. Of course I could use a cron job to clean them up," but I think paperclip should delete temporary files immediately when they\'re not used anymore. Please re-open as this is only a half work-around and not a solution.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,reopened,2011-06-29 19:45:37,30.5,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,4,2011-02-07 01:28:26,1318.77,,,1,"b'b"" Our /tmp has been filling up also.  It seems like Paperclip will clean up the files when the ruby process is shutdown nicely (like \'exit\' on the console) but if you kill the process", Paperclip never gets the chance.  So over time, restarting Unicorn," it will fill up /tmp in our case.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,5,2011-02-07 01:28:26,377.62,,,1,"b'b"" It looks like if your ActiveRecord Instance save fails and you rollback", Paperclip\'s save (where it seems to clean up) which is called from the after_save callback never runs.  Can we call something to clean up by hand?  Or maybe Paperclip can also add an after_rollback callback? Also, it looks like the next time save is called it cleans up if the class hasn\'t been reset.  It keeps class variables around on what to delete.  So when the process gets killed," that is when it seems to forget it had some open files left. I hope this is helping!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,6,2011-02-07 01:28:26,1306.92,,1,,"b'b"" It seems like this problem is related to #243"," but in the opposite way. I don\'t really know right now which method should I take.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,7,2011-02-07 01:28:26,30.47,,,1,"b""b' At this point", I would be happy to call a method that would reliably clean out the files when I catch something that goes wrong.  Maybe, in the end, stick it on the after_rollback, but I can imagine a case where you might not want it cleaned up. With regards to #243," maybe it would be best to ensure they stick around but make sure we have the ability to reliably clean them up our self.'""",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,8,2011-02-07 01:28:26,1261.33,,1,,"b""b' I am having this issue as well. My thinking at this point is to add a generic callback in flush_writes between the writing and the clearing of the queued for write variable which calls back to the attachment class. The default implementation would close and unlink temp files.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,9,2011-02-07 01:28:26,128.43,,1,,"b""b' Filed pull request 576'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,10,2011-02-07 01:28:26,172.0,,1,,"b""b' Pull request has been accepted and rolled into 2.4.0 and it resolves the problem for me.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,closed,2011-12-13 19:33:39,1428.03,0,8,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,11,2011-02-07 01:28:26,986.92,,1,,"b'b"" I\'m still seeing this issue (on OSX with MRI 1.9.3)...  It seems that the commits related to [pull request #576]url  are cleaning up the tempfile that is generated within [Paperclip::Attachment#assign]url  e.g. /-42818-", but the original ActionDispatch::Http::UploadedFile\'s tempfile is still on disk," e.g. /-42818-1w3qbc2. A simple fix is to rewrite the ensure block as follows: Let me know if this sounds logical and I\'ll submit a patch.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,12,2011-02-07 01:28:26,245.77,,1,,"b'b"" I\'m getting the same issue", I didn\'t notice it before due to server roles being encapsulated the way that they are and it hasn\'t had the same level of repercussions. (REE," Rails 3.0.9 and Paperclip 2.4.5 on Ubuntu). I\'ll test this fix when I have a chance. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,13,2011-02-07 01:28:26,311.67,,,1,"b'b"" Thanks"," Daniel. I\'m more than happy to submit a patch if that resolves it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,14,2011-02-07 01:28:26,495.75,,,1,"b'b"" I didn\'t mean to imply that you shouldn\'t :). I would be happy to test your code in our situation. Would you mind throwing up a feature branch and I\'ll pull it down and test it?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,15,2011-02-07 01:28:26,1367.02,,,1,"b""b' Take a look at url  thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,16,2011-02-07 01:28:26,332.48,,,1,"b""b' The fix is working fine for me.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,17,2011-02-07 01:28:26,29.58,,1,,"b'b"" I started having some severe issues"," but I think they are due to upgrading to the latest paperclip. I\'m backporting the fix to 2.4.5 to see if they go away.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,18,2011-02-07 01:28:26,97.25,,,1,"b""b' I just confirmed it is unrelated. This fix works perfectly.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,19,2011-02-07 01:28:26,1277.1,,1,,"b""b' Anyone have a patch for 3.x?  Looks like the assign method was refactored.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,20,2011-02-07 01:28:26,1222.83,,1,,"b""b' This has become a problem for me"," too.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,21,2011-02-07 01:28:26,1288.03,,1,,"b'b"" Just a note: it appears that if there are multiple processors"," intermediate temp files are not cleaned up.  I\'m also seeing the original RackMultipart file hanging around.  Opening a new issue.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,22,2011-02-07 01:28:26,385.62,,1,,"b""b' @phene which issue did you open? This is happening again", using 2.7.0. It was definitely fixed at one point," but has regressed since then.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,23,2011-02-07 01:28:26,1064.58,,1,,"b""b' url  was my issue.  2.7.0 is a really old version.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,24,2011-02-07 01:28:26,1362.68,,1,,"b""b' it is old"," but #1002 is blocking us from updating'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,25,2011-02-07 01:28:26,1367.22,,1,,"b'b"" That problem has been asked and answered about a dozen times so far.  url url  Github search seems borked"," and I couldn\'t find these without Google.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,26,2011-02-07 01:28:26,560.4,,1,,"b'b"" Is this issue still open? Any updates?  I am having this issue"," because Paperclip is creating a lot of .bak files in /tmp folder that are rarely deleted as my instances are rarely restarted.  I know that I can fix this with a cron job but my question is if this should be managed by paperclip or not. What do you think guys?  I am using: ruby 2.1.8 rails 4.2.6 paperclip \'~paperclip-compression \'~paperclip-av-transcoder \'~ This is what I have in my /tmp folder:**total 3348** drwxrwxrwt  2 root root  53248 Apr  4 11:25 . -rw 1 deploy www-data  0 Apr  4 10:46 ce9729bb96f76f67e8457070a352792c20170404-31709-eor1m8 -rw 1 deploy root    0 Apr  3 18:07 754ac924b08ab3f6fe3730582f8b124620170403-22282-rw 1 deploy root    0 Apr  3 18:07 e9a2ba94a021551ae5b90178f7b88af920170403-22282-7f1u9 -rw 1 deploy root    0 Apr  3 18:06 3f0d0aef49a24e4b7440b56c305547a920170403-22282-17xg4 -rw 1 deploy root    0 Apr  3 18:06 ba1931a27da94a97851693b2a3cecb6020170403-22282-1 -rw 1 deploy root    0 Apr  3 18:06 9848e3ecc1a9c2a4b6145bc498e1a5e320170403-22282-d328 -rw 1 deploy root    0 Apr  3 18:06 d97cc1c926ca72357bcdc98d71b9312320170403-22282-j3630 -rw 1 deploy root    0 Apr  3 18:06 edba69972a9db2f8e8c8f870b3c0d7ae20170403-22282-1s7uh0 -rw 1 deploy root    0 Apr  3 18:05 17a0675229a40ee303b1ec0bbefbffb420170403-22282-1t8 -rw 1 deploy root    0 Apr  3 18:05 cfe3f443ac08a49be706f61e23cc66c520170403-22282-ws9d8 ................................. -rw 1 deploy root    0 Dec 15 23:57 f0b6771bb45ab2ddb8be382a6ab5fd3e20161215-10301-14fufh9 -rw 1 deploy www-data  0 Dec 15 23:47 7d09134931e1929798cd45ea35dc619d20161215-10260-us0 -rw 1 deploy www-data  0 Dec 15 14:24 8aad699dc49b4cd7df1898c314f1bbd320161215-3399-1 -rw 1 deploy www-data  0 Dec 15 14:22 b09af108ea61916914afad4fb08551ed20161215-3388-16 drwxr-xr-x 23 root root   4096 Dec 15 09:23 ..""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,413,closed,-,-,-,0,19,9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,opened,2011-03-11 05:56:53,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,title,2011-03-11 05:56:53,00:00,,1,,"b""b' Fixing destroy callback'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,body,2011-03-11 05:56:53,00:00,,1,,"b'b"" Fixing destroy callback to delete files just when model destroy method was completed successfully (i.e. no exception like \'foreign key constraint violations\' was raised)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,1,2011-03-11 05:56:53,767.25,,,1,"b""b' I like this change"," but can you supply a test for it as well? Thanks.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,closed,2011-04-20 19:09:08,792.25,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,2,2011-03-11 05:56:53,25.12,,1,,"b""b' Sure'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,reopened,2011-04-20 19:09:23,0.25,0,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,3,2011-03-11 05:56:53,1169.17,,,1,"b'b"" Hi @mariopeixoto"," It\'s been a few months so I\'m closing this pull request for now. Please re-open with tests. Thanks for submitting!-Mike""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,closed,2011-06-30 14:38:25,1169.03,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,431,closed,-,-,-,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,opened,2011-04-01 14:18:16,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,title,2011-04-01 14:18:16,00:00,,1,,"b""b' Add uploaded_file instance variable in case of fresh uploads'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,body,2011-04-01 14:18:16,00:00,,1,,"b""b' This is a useful feature if the use case requires an automatic unlinking of the original attachment.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,1,2011-04-01 14:18:16,193.6,,1,,"b'b"" I\'m not sure what the point of this is. Can you elaborate?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,2,2011-04-01 14:18:16,1299.38,,,1,"b'b"" Under certain circumstances a model with an attached file needed to delete the original file. Example:A page model has a PDF attachment.A user sets the attachment to /.The file is saved as /A lifecycle method in Page detects that the attachment path is under /tmp and decides to delete /. There are more ways to solve this problem (e.g. adding parameters to paperclip lifecycle methods"," add another lifecycle method to paperclip etc) but I choose the instance variable due to it\'s relative simplicity. The primary motivation to move the cleanup logic into the attachment model was that we are using paperclip in an asynchronous fashion. The exact timing when to delete is only known to the model.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,3,2011-04-01 14:18:16,1408.95,,,1,"b""b' Hi @yawn", please add a test and we will pull this in. Thanks,"-Mike'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,closed,2011-07-01 20:29:06,370.83,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,reopened,2011-07-01 20:29:50,0.73,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,4,2011-04-01 14:18:16,349.72,1,,,"b""b' Oops"," sorry. Click on wrong button. Reopen it now.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,5,2011-04-01 14:18:16,1101.07,,1,,"b""b' Hi @yawn"," any update on this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,6,2011-04-01 14:18:16,1333.0,,,1,"b""b' Closing due to inactivity. Please re-open or submit a new pull request as needed. Thanks","-Mike'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,closed,2011-08-26 13:03:59,994.15,1,4,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,445,closed,-,-,-,1,4,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,opened,2011-04-28 11:28:42,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,title,2011-04-28 11:28:42,00:00,,1,,"b""b' validations with :on key to select when validations should fire'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,body,2011-04-28 11:28:42,00:00,,1,,"b'b"" With Rails validations", we can specify when the validation should fire like :on =If acceptable, i\'ll send a fork," fix and send pull""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,1,2011-04-28 11:28:42,436.9,,,1,"b'b"" Yes", please send a pull request along with patch and test. If you can help us update the readme file too," that\'d be great :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,closed,2011-07-15 21:06:28,577.77,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,reopened,2011-07-15 21:06:37,0.15,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,2,2011-04-28 11:28:42,48.77,,1,,"b""b' @asanghi any update on this one? Did you have a chance to make a patch?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,3,2011-04-28 11:28:42,660.32,,1,,"b'b"" @sikachu fell off the plate. Feel free to close. I\'ll send a patch as soon as I can next month in 2012.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,4,2011-04-28 11:28:42,807.0,,,1,"b""b' Closing for now. Looking forward to the patch! Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,closed,2012-01-20 20:01:41,1375.07,0,4,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,462,closed,-,-,-,0,4,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,opened,2011-04-29 21:37:39,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,title,2011-04-29 21:37:39,00:00,,1,,"b""b' Fixing permission denied error using '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,body,2011-04-29 21:37:39,00:00,,1,,"b'b"" When you are mounting files over sshfs the  calls chown which will not work.  The file will get written and make it to its destination and remove the source but then throw a Permission Denied error.  Work around is to copy the file and then remove it.  This way chown doesn\'t get called.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,1,2011-04-29 21:37:39,545.93,,1,,"b""b' @jyurek what do you think about this pull request. Does it need a test case?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,2,2011-04-29 21:37:39,1347.47,,1,,"b""b' Wait", I think the change was there for a reason. That change was in 5eff51c5," so I think this is not really the way to fix it. Do you mind come up with another way that would fall back if the move fails?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,3,2011-04-29 21:37:39,928.38,,1,,"b'b"" That change appears to be moving from a streaming copy to a move.  I\'m advocating for a change from a move to a copy and delete; not back to just a copy. Would you rather I do something like: Our actual exception was an Errno (I think EACCES).""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,4,2011-04-29 21:37:39,1259.87,,,1,"b""b' @ryansch can you take that and put it into a pull request? It looks great.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,closed,2011-06-28 17:39:18,1201.65,0,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,reopened,2011-06-28 17:39:53,0.58,0,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,5,2011-04-29 21:37:39,50.0,,1,,"b'b"" @alexgodin: I\'ve replaced the commit in this pull request with the requested changes.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,closed,2011-06-29 16:27:41,1367.8,0,6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,6,2011-04-29 21:37:39,1318.75,,,1,"b'b"" I\'ve merged in in 1ff1cc731a661addcd3c33d324c1fcb78c546607. Thank you very much.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,7,2011-04-29 21:37:39,1336.85,,,1,"b""b' _and there was much rejoicing!_'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,464,closed,-,-,-,0,6,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,opened,2011-05-04 23:30:09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,title,2011-05-04 23:30:09,00:00,,1,,"b""b' avoid reading uploads into memory by using system commands (md5 / md5sum)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,body,2011-05-04 23:30:09,00:00,,1,,"b""b' The current generate_fingerprint method reads files into memory to calculate a hexdigest. For large files", this is problematic. The attached commit solves it by using system commands (md5 for bsd," md5sum for unix) to calculate fingerprints. see issue #469'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,1,2011-05-04 23:30:09,426.38,,,1,"b'b"" This would fails on Windows because it doesn\'t have command. I think the best way", if you want to do it, would be using and then rescue the instead. The old method should still also be there for a fallback if user\'s machine doesn\'t have any compatible command. Do you mind fixing it, rebase," and force push to your branch again? Thank you :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,2,2011-05-04 23:30:09,803.92,,,1,"b'b"" Hmm"," I\'m not sure that I\'d feel comfortable patching for an environment I can\'t experience.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,3,2011-05-04 23:30:09,2.4,,,1,"b'b"" @cainlevy every bits on your patch is already awesome. I just need another case that would look like this: Do you get the idea? So that it will fall back to in-memory method if those two commands aren\'t exists. :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,4,2011-05-04 23:30:09,46.98,,,1,"b'b"" Yeah", I see what you\'re looking for," but I actually don\'t know that it\'s a good idea to leave the possible memory bloat as a sleeper bug like that. Personally I\'d rather not get an MD5 and have to go looking for what\'s wrong.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,5,2011-05-04 23:30:09,45.3,,,1,b'b\' In that case," we\\\'ll have to go out and make sure that it\\\'s working on Windows. I have no windows box to test too. I don\\\'t want someone to come back and saying ""It was working fine on Windows"," before this patch come in.""\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,6,2011-05-04 23:30:09,1121.98,,,1,"b""b' Honestly", that sounds like a pretty good way to find someone running Windows who cares enough to test this. :) Perhaps I could make the else condition raise an exception," just to be clear?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,closed,2011-06-27 16:55:15,1045.1,0,2,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,7,2011-05-04 23:30:09,39.28,,1,,"b'b"" I went looking and found Digest::MD5.file(path)", which is tailored for large files. My benchmarks show that it\'s only slightly slower than shelling out to md5sum (0.15s average vs 0.12s average)," so I\'ll resubmit a pull request using that instead.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,reopened,2011-06-27 18:28:42,93.45,0,3,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,8,2011-05-04 23:30:09,93.05,,,1,"b""b' Thank you"," or you can force push to your branch ;)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,9,2011-05-04 23:30:09,30.32,,1,,"b""b' It ends up being a tiny change -looks like the accompanying fixes had already been merged in other commits.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,closed,2011-06-29 16:16:38,1307.93,0,4,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,10,2011-05-04 23:30:09,1278.37,,,1,"b'b"" Thank you for submitting your patch. However", I\'ve to change it a little bit to support hash generation. The content in is in the memory anyway," so I don\'t think there\'s a performance issue in that case. Thank you very much for submit this in. :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,470,closed,-,-,-,0,4,8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,opened,2011-07-07 19:48:57,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,title,2011-07-07 19:48:57,00:00,,1,,"b""b' Paperclip injects style into filename in production env'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,body,2011-07-07 19:48:57,00:00,,1,,b'b\' Using Rails 3.0.9, Paperclip 2.3.13: I am using Paperclip with several of my models. Just recently for reasons I haven\\\'t pinpointed yet, in my app\\\'s production and staging environments," an attachment\\\'s style has been injected into its path and url properties. Example: an attachment whose url property should be ""/"" Is now ""/"" or ""/"". I have tried turning off class caching", and that didn\\\'t help. What showed some promise was opening up the rails console and pasting the class\\\'s code into the console. That fixes the issue in the console, but not elsewhere of course. Any thoughts on why this might be happening?\'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,1,2011-07-07 19:48:57,102.37,,,1,"b""b' The combination of commenting out ! and disabling class caching seems to do the trick. I know this is not the best place to ask"," but does anyone know of a way to clear out this cache?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,closed,2011-07-07 21:31:19,102.37,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,reopened,2011-07-07 21:31:24,0.08,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,2,2011-07-07 19:48:57,1229.32,1,,,b'b\' While I don\\\'t understand why it was behaving exactly how it was," adding ""_#{style}"" to the filename", I tracked the problem down to defining the same interpolation symbol within multiple models. Chalk this one up to pebkac; sorry for the trouble.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,closed,2011-07-08 18:00:38,1229.23,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,510,closed,-,-,-,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,opened,2011-07-15 12:43:29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,title,2011-07-15 12:43:29,00:00,,1,,"b""b' not saving files in Chrome (works in firefox)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,body,2011-07-15 12:43:29,00:00,,1,,"b'b"" Hello",I have big problem, because I want to let upload all kind of files (ex. doc, xml, pdf, mp3), but in Chrome works only image types. I don\'t see any params in log, not creating studentfile_file_name & rest at all... I have no idea what to do. Maybe there is something similar to paperclip," what can do such things?""'",,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,1,2011-07-15 12:43:29,6.45,,1,,"b'b"" Have you checked the logs? What\'s going on under the hood? My guess is that your processor is trying to crop images and such"," but imagemagick bails out. [This post]url  might help""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,2,2011-07-15 12:43:29,55.9,,1,,"b'b"" In logs I don\'t see anything. Chrome just doesn\'t load a file", using firefox I see in logs that it is uploaded. Anyway I tried it but it doesn\'t work. I think it\'s Chrome problem," but who knows...  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,3,2011-07-15 12:43:29,285.18,,1,,"b'b"" Do you mind posting your definition and your request log? Let\'s see what we can help.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,4,2011-07-15 12:43:29,818.98,,1,,"b'b"" Maybe I\'ll give whole model and logs in Chrome  But in firefox I have ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,closed,2011-07-18 08:10:00,1166.52,0,6,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,reopened,2011-07-18 08:10:03,0.05,0,6,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,5,2011-07-15 12:43:29,96.23,,,1,"b'b"" I checked it on my workmate\'s computer and it\'s working fine. I think it could be Chrome version problem (I have v12", working on v9) or I don\'t have something installed... Anyway," I think topic can be closed""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,closed,2011-07-18 09:46:14,96.18,0,6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,6,2011-07-15 12:43:29,180.1,,1,,"b""b' by the way"," :path ='""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,7,2011-07-15 12:43:29,219.53,,,1,"b'b"" Just to be sure", you did turn on the right? We\'re all using Chrome here too," and everything is working fine.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,8,2011-07-15 12:43:29,237.62,1,,,"b'b"" @suzi2000 Thank you", I\'ve changed it :) @sikachu Yes, of course. I checked it many times. I don\'t know what\'s going on. It also works on my os x," but not on my linux :P I think my Chrome is just crazy & hates me.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,9,2011-07-15 12:43:29,239.15,1,,,"b""b' That is totally insane. Yeah"," it must be the bug in Chrome then. I wonder my Linux friend would suffer the same problem or not.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,10,2011-07-15 12:43:29,1358.67,,1,,"b'b"" On my Mac"," works in Firefox but doesn\'t even try uploading anything on Chrome. Didn\'t work on Android Chrome either.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,524,closed,-,-,-,2,8,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,opened,2011-07-21 22:41:09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,title,2011-07-21 22:41:09,00:00,,1,,"b""b' undefined method '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,body,2011-07-21 22:41:09,00:00,,,1,"b'b"" After updating paperclip: matias@matias-laptop:~/$ bundle updateUpdating git://Updating git://Fetching source index for url Enter your password to install the bundled RubyGems to your system: Using rake (0.9.2) Using aaronh-chronic (0.3.9) Using activesupport (2.3.8) Using rack (1.1.2) Using actionpack (2.3.8) Using actionmailer (2.3.8) Using activerecord (2.3.8) Using activeresource (2.3.8) Using addressable (2.2.6) Using adzap-ar_mailer (2.1.8) Using alexvollmer-daemon-spawn (0.2.0) Using babosa (0.3.5) Using crack (0.1.6) Using httparty (0.5.2) Using multipart-post (1.1.2) Using faraday (0.6.1) Using multi_json (1.0.3) Using oauth2 (0.4.1) Using bitly (0.6.1) Using cgi_multipart_eof_fix (2.5.0) Using cocaine (0.1.0) Using daemons (1.0.10) Using delayed_job (2.0.7) Using warden (0.10.7) Using devise (1.0.9) Using fastthread (1.0.7) Using friendly_id (3.2.1.1) Using hpricot (0.8.4) Using test-unit (2.3.0) Using gattica (0.5.1) from git:// (at master) Using gem_plugin (0.2.3) Using gvis (1.0.2) Using hashie (0.2.2) Using i18n (0.6.0) Using json (1.4.6) Using mime-types (1.16) Using rest-client (1.6.3) Using mini_fb (1.1.7) Using mongrel (1.1.5) Using mysql (2.8.1) Using ruby-hmac (0.4.0) Using oauth (0.3.6) Using paperclip (2.3.15) Using rails (2.3.8) Using rspec (1.3.0) Using rspec-rails (1.3.2) Using twitter (0.9.1) Using whenever (0.6.1) from git:// (at master) Using will_paginate (2.3.15) Using bundler (1.0.7) Updating .gem files in cocaine-0.1.0.gempaperclip-2.3.15.gem  Removing outdated .gem files from fiveruns_tuneup-0.8.20.gempaperclip-2.3.11.gem I get this error: /-2.3.8/:1994:in  class_attribute\' for ActiveRecord::Base:Class (NoMethodError)    from /-2.3.15/:170:in  included\'    from /-2.3.15/:20:in  send\'    from /-2.3.15/:20:in  evaluate_init_rb\'    from /-2.3.8/:158:in  silence_warnings\'    from /-2.3.8/:154:in  load\'    from /-2.3.8/:38:in  each\'    from /-2.3.8/:37:in  load_plugins\'    from /-2.3.8/:165:in  send\'    from /-2.3.8/:113:in  require\'    from /-2.3.8/:1    from :3:in ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,1,2011-07-21 22:41:09,87.87,,1,,"b'b"" Paperclip version: NoMethodError: undefined method  method_missing_without_paginate\' I think its something about will_paginate too.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,closed,2011-07-22 00:09:02,87.88,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,reopened,2011-07-22 00:09:06,0.07,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,2,2011-07-21 22:41:09,944.9,,1,,"b""b' Please change quickly", if it possible," line 182 (module Glue): :attachment_definitionsto:if ?(:class_attributes)  :attachment_definitionsend Thanx'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,3,2011-07-21 22:41:09,4.3,,1,,"b""b' If you want it to change quickly"," then sends a pull request with change.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,closed,2011-07-29 15:19:00,909.9,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,4,2011-07-21 22:41:09,1404.08,,1,,"b""b' This has been fixed and released in 2.3.16'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,534,closed,-,-,-,0,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,opened,2011-08-16 13:08:11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,title,2011-08-16 13:08:11,00:00,,1,,"b""b' Passing :source_file_options when dealing with .pdf'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,body,2011-08-16 13:08:11,00:00,,,1,"b'b"" I need to pass -density to \'convert\' for better pdf to image conversion quality. This can\'t go with :convert_options (it\'s too late in arguments list for \'convert\')"," so I made this little patch. Hope you will find this useful:)  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,1,2011-08-16 13:08:11,156.13,1,,,"b'b"" I\'m a little confused walking through the source"," and perhaps I\'m revealing my unfamilarity with Paperclip: how does the :source_file_options get to the different processors? Which processors use it?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,2,2011-08-16 13:08:11,1147.42,,1,,"b'b"" It works with all processors even Paperclip::Thumbnail. My problem was converting .pdf to image. When uploading .pdf", ImageMagick can convert its first page to image, but it does it in very low quality. I wanted to render it in 300DPI," but you can\'t pass argument \'-density 300\' to ImageMagick""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,closed,2011-08-19 10:51:44,1303.55,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,reopened,2011-08-19 10:51:50,0.1,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,closed,2011-08-19 14:19:32,207.7,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,558,closed,-,-,-,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,opened,2011-09-02 08:34:16,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,title,2011-09-02 08:34:16,00:00,,1,,"b""b' Rails application wide defaults for Paperclip'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,body,2011-09-02 08:34:16,00:00,,,1,"b'b"" I\'m working on a Rails application that uses Paperclip to attach images to a variety of models. To make life easier for me I\'ve created a gem that allows you to set defaults for Paperclip application wide: url  Would this perhaps be functionality that you\'d like to have in Paperclip itself? If so I\'d happily invest some time to integrate my code into Paperclip and send in a pull request.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,1,2011-09-02 08:34:16,1397.47,,1,,"b""b' Yes"," I like the idea. I think having something like hash would be a very welcomed feature.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,2,2011-09-02 08:34:16,256.97,,1,,"b'b"" I\'ll offer a pull request as soon as I have some time to work on this""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,3,2011-09-02 08:34:16,130.32,,1,,"b""b' Guys", paperclip already has application-wide default," and has since the beginning. url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,4,2011-09-02 08:34:16,265.83,,1,,"b'b"" Those defaults aren\'t configurable"," they\'re hardcoded defaults. I\'m suggesting to change paperclip to allow you to configure defaults for the application you\'re using paperclip in (like I\'ve done with the paperclip-defaults gem).""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,closed,2011-10-07 18:44:51,610.58,0,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,reopened,2011-10-07 18:44:53,0.03,0,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,5,2011-09-02 08:34:16,0.47,1,,,"b""b' Sorry for closing"," I accidentally hit the wrong button :)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,6,2011-09-02 08:34:16,1364.4,,1,,"b'b"" Ok", I understand what you mean now. I don\'t think that\'s the right approach though.1. should be used for setting Rails\' configurations. Paperclip is just a plugin that works with Rails, not included into Rails itself, so the settings should be set on object instead.2. As @jyurek said, Paperclip already have  . It\'s **not** a hardcoded defaults," it\'s a mutable hash. You can modify anything in there and it will be merged with your setting from  .""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,closed,2011-12-13 17:29:43,1364.83,1,6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,7,2011-09-02 08:34:16,164.77,,1,,"b'b"" I think its actually a pretty good idea to add plugin configuration to the  (or actually YourApp::) as it will give you the ability to set the configuration differently for different environments in the /*.rb files (and defaults for any environment in ). From what I understand Rails 3 allows you to extend Rails like this by adding a Railtie", and one of the intended abilities that you get is to add configurability this way. Unfortunately the Rails guides aren\'t up-to-date on this topic, but this article on the Engine Yard blog gives some pretty good information on how it works: url  Perhaps both can be done," allowing access to Paperclip\'s default settings through the Railtie for use with Rails and through ?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,8,2011-09-02 08:34:16,1294.77,,,1,"b'b"" @mkremer", if you want to submit a patch to allow this as part of the Rails config, you\'re welcome to, and it will be considered. But there exists a perfectly workable, usable, flexible solution already, which is not Rails-dependent: you can already specify whatever you want in (usually in an initializer while in Rails)," and when that assignment has the full configurability of Ruby behind it to allow for different environments or whatever configuration needs you have.""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,9,2011-09-02 08:34:16,1355.87,,,1,"b'b"" OK"," I\'ll get on it as soon as I have some time :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,585,closed,-,-,-,1,7,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,opened,2011-09-04 10:27:35,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,title,2011-09-04 10:27:35,00:00,,1,,"b""b' Two models with the same attachment name causes clash by default'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,body,2011-09-04 10:27:35,00:00,,1,,"b'b"" If you have a model and an model and it makes sense for both models to define an attachment called  . The the default storage URL for both is going to be  .  I suspect we\'d be running on thin ice"," as we\'re really relying on the fact that the filenames of the two uploads and style hopefully differ to get the right files served. I propose that the default storage location for attachment models include the class in the interpolation instead of  The workaround is to of course pass the :url in the option manually but hoping for more intelligent defaults. Discussion? Opinions?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,1,2011-09-04 10:27:35,62.95,1,,,"b'b"" Yeah", I can confirm that it will collide together. However, if you change the default it will break all of the old applications that doesn\'t set the path. I\'m sorry, but I think this is something we really can\'t change. It might be worth to documented it somewhere," but I\'d suggest you to change the path interpolation in the attachment definition yourself. :(""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,closed,2011-09-04 11:30:32,62.95,1,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,2,2011-09-04 10:27:35,6.8,1,,,"b'b"" @sikachu thanks bud! Just thinking about this a bit more. Documentation seems like something we must have for sure.  I\'m thinking about taking one step further"," and generate a warning if the same attachment name is used more than once in the app (i\'ll try to send a patch for that). Also how about ensuring that this is corrected in the longer term by providing a  rake task? I agree that this default change impacts almost all paperclip users and springing this change on users suddenly would be disastrous.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,reopened,2011-09-04 14:14:20,163.8,2,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,3,2011-09-04 10:27:35,161.2,,1,,"b'b"" I\'m reopening this. I think I\'ll surely welcome your patch on documentation and the warning message. However", for the name migration, even we give user a rake task to move stuff to the new location, there might be some old link on other places that we can\'t update," which would then be all bad link. I still don\'t see how I can change that.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,4,2011-09-04 10:27:35,1263.0,1,,,"b'b"" I\'ve got everything ready to go"," but figuring out how we can capture the warning message in log. Any ideas @sikachu?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,5,2011-09-04 10:27:35,829.32,,1,,"b'b"" I think you can just read the log file and grep it"," if you\'re using  . You can see for the path of the log file.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,closed,2011-09-23 11:33:36,1279.27,3,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,6,2011-09-04 10:27:35,490.0,,1,,"b""b' I use an initializer in my project to include in my default path and URL for Paperclip attachments. Now I have a ton of warnings in my log.  Not fun.  Not sure what to do at the moment.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,7,2011-09-04 10:27:35,591.03,1,,,"b""b' @adamkangas sorry about that.  I think you have a valid point. The warning should not appear if the Paperclip default URL already has a class interpolation. Would you like to provide a patch here or prefer if someone else corrected this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,8,2011-09-04 10:27:35,684.55,,,1,"b'b"" I\'ve reverted to the previous version for the time being. I should be able to provide a patch at some point later this week... could be good experience"," as I\'ve never contributed to anything on Github before.  A nice and easy opportunity.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,9,2011-09-04 10:27:35,687.1,,,1,"b'b"" @adamkangas .. excellent. I\'ll be more than happy to help you in your first patch if you need it! @sikachu should we reopen this ticket or ask Adam to create a new one?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,10,2011-09-04 10:27:35,948.32,,1,,"b""b' I get the duplicate warnings for attachments with the same name when my S3 paths are unique. For S3", the :path option holds the interpolated string," not :url. I added a failing test here:url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,11,2011-09-04 10:27:35,69.12,,,1,"b""b' Can we get this re-opened? the warning message shows up in instances where its fine for two models to have the same attachement name'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,12,2011-09-04 10:27:35,268.63,,1,,"b""b' @dudeman if two models have the same attachment name and the same storage location"," then it might be possible to override attachment in one model from another. Can u explain your use case where you would like this side effect please?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,13,2011-09-04 10:27:35,631.62,,,1,"b'b"" I have the same problem as teeparham: getting lots of these warning when using S3 storage backend to which the URL option doesn\'t apply. Any objections to changing this from check_for_url_clash to check_for_path_clash? This strikes me as more logical anyway since the motivation for this warning is to prevent files from being accidentally overwritten. Someone unknowingly using non-unique URLs surely isn\'t much of a problem as long as all the files are actually present in distinct locations. Furthermore"," an easy way to mute these warnings for specific paths would be useful to address the issue of custom interpolations. I.e. I might use something like :my_transformed_classname in my paths which is unique to a class and thus won\'t result in any clashes but would still trigger a warning. Maybe by prefixing the path with ! one could selectively mute these warnings? I.e. :path =""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,14,2011-09-04 10:27:35,680.12,,,1,"b'b"" Seems like a good idea @nielsomat . Please do follow up with a patch request. I\'m sure the maintainers are likely to pull it in since it is a common problem with those using S3 storage. It almost seems to be me that this should be a silenceable warning in Paperclip.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,15,2011-09-04 10:27:35,1319.23,,1,,"b""b' +1 for elimination of the warnings for those using S3 storage (or a way to silence).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,16,2011-09-04 10:27:35,903.12,,1,,"b""b' For those who want to silence the warning"," put the following in  .  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,17,2011-09-04 10:27:35,797.25,,,1,"b""b' Hi! Does anybody here have a script that migrates existing images to non-clashing folders on s3? (This is reaching"," I know...)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,18,2011-09-04 10:27:35,994.05,,,1,"b'b"" For anyone who is dealing with this.... Here is a script I made. Pass it a model", the model_name (Profile would be \'profiles\') and the image method name (defaulted to image). Note the for the s3  is the paperclip default. Put whatever you need. Then to check if it worked, change the url in your setup to this:   Obviously, this is not guaranteed to work," but it worked for my setup. Test it out on your demo servers!""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,588,closed,-,-,-,4,9,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,opened,2011-09-10 05:37:23,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,title,2011-09-10 05:37:23,00:00,1,,,"b'b"" Strange"," Paperclip doesn\'t save the uploaded files""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,body,2011-09-10 05:37:23,00:00,,1,,"b'b"" I have the issue that Paperclip doesn\'t save the uploaded file. I am on Win7", rails 3.0.9," paperclip 2.4.1. ImageMagick has been installed. I tried the most simple case as follows.### In the migration  ### In the model  ### In the controller  ### In the views  ### In the log  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,closed,2011-09-10 05:49:39,12.27,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,reopened,2011-09-10 05:49:45,0.1,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,closed,2011-09-10 08:00:04,130.32,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,reopened,2011-09-10 08:21:28,21.4,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,closed,2011-09-10 09:09:30,48.03,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,1,2011-09-10 05:37:23,221.02,,1,,"b'b"" I\'m having this issue as well.  Potentially a bug?  Did you find a solution?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,2,2011-09-10 05:37:23,850.68,,,1,"b'b"" I\'m having this issue too. Please", anyone," help us!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,3,2011-09-10 05:37:23,552.93,,1,,"b""b' I too am having this issue.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,4,2011-09-10 05:37:23,773.93,,1,,"b'b"" Update the rails gem to 3.1.3 at your Gemfile. gem \'rails\'", \'3.1.3\'Comment this line at :      = true The method debug_rjs were deprecatedRemove the attachment attributes from attr_accessor and attr_accessible from your model.  Still only:  class Post < ActiveRecord::Base  has_attached_file :asset," :styles =end It worked for me. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,593,closed,-,-,-,1,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,opened,2011-09-22 01:28:42,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,title,2011-09-22 01:28:42,00:00,,1,,"b""b' s3: allow for different styles to have different headers '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,body,2011-09-22 01:28:42,00:00,,1,,"b'b\' Lets say I want only the original style to have ""Content-Disposition""=Let me know if you think this is viable and if you want me to make a pull request...\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,1,2011-09-22 01:28:42,139.18,,1,,"b'b"" Yes", I think this feature is viable. In fact, I feel like any settings should be set either globally or per style. I don\'t know what should be the answer," but seems like we need a new DSL for these definitions.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,2,2011-09-22 01:28:42,1430.18,,1,,"b'b\' I think this sounds like what I\\\'m needing. I\\\'m trying to store MP3s along with their Ogg counterparts on S3. S3 requires ""Content-Type""=>"""" for the Ogg files and ""Content-Type"" =@omricohen Did you start working on this feature yet?\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,3,2011-09-22 01:28:42,985.02,,,1,"b'b"" @jrtowell If you\'re using the version of paperclip", does paperclip smart enough to detect the content type from your file? I see the code that it actually calls  ," so I\'m not sure whether we need that option anymore.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,closed,2011-12-13 20:03:05,1114.38,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,reopened,2011-12-13 20:03:10,0.08,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,4,2011-09-22 01:28:42,18.65,,1,,"b'b"" Yes", I think that is the problem... it appears to detect the content type of the main file, not the alternate style file. For example, if the main file is an MP3, but there is an Ogg style," it will upload the Ogg file using the content_type from the MP3. I\'ll try and do some testing to verify.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,5,2011-09-22 01:28:42,50.55,,,1,"b""b' Awesome"," please let me know what you found. It would be great if you can provide me a failing test case as well.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,6,2011-09-22 01:28:42,92.98,,1,,"b""b' @jrtowell Is there any update on the finding?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,7,2011-09-22 01:28:42,1238.5,1,,,"b'b"" Well", I can verify that this is an issue. I don\'t see a way to use custom content_type headers when upload to S3. Unfortunately," I haven\'t had a chance to write test cases yet. I haven\'t forgotten about it yet.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,8,2011-09-22 01:28:42,1285.12,,1,,"b'b"" Hey guys", just following up on this as I\'ve needed the same functionality -content disposition of attachment only on original style. I current set this header in my asset model," then monkey patch the s3 flush_writes method to remove the header if its a different style. Was hoping to do it with a proc or somesuch from the model instead. Note: this code is based off of Paperclip 2.4.1. ****  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,9,2011-09-22 01:28:42,218.92,,1,,"b'b"" Here\'s an updated monkey patch for 2.6.0.  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,10,2011-09-22 01:28:42,1157.33,,1,,"b'b"" I\'m going to keep bumping with monkey patch version updates until the feature is added. ;) Paperclip 3.0:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,11,2011-09-22 01:28:42,1.53,,1,,"b""b' did you already submit a pull request and I overlooked at it or not?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,12,2011-09-22 01:28:42,3.68,,,1,"b'b"" Hi Sikachu. No I don\'t unfortunately have the time to delve in that deeply"," which is why I\'m providing quick and dirties to those who need it. I was hoping a generous lad such as yourself would take care of it. :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,13,2011-09-22 01:28:42,1.57,,,1,"b""b' Oh yes", I would love to take care of that. But it would be nice if you could help us as well," and I want to resolve all other issues asap ;)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,14,2011-09-22 01:28:42,1200.08,,1,,"b""b' +1 for this'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,15,2011-09-22 01:28:42,455.77,,1,,"b""b' +1 for s3 headers to use a proc _per style_ instead of the current per class instance implementation.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,16,2011-09-22 01:28:42,1265.28,,,1,"b'b"" This is how S3 headers work now"," so this issue isn\'t needed anymore. Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,closed,2012-11-30 16:33:04,1229.9,1,12,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,604,closed,-,-,-,1,12,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,opened,2011-10-09 06:54:42,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,title,2011-10-09 06:54:42,00:00,,1,,"b""b' Symlinks for styles that end up being the same image as other style'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,body,2011-10-09 06:54:42,00:00,,1,,"b""b' Just an idea: an option to have the Paperclip create symlinks instead of processing and saving the whole image again if the style end up being the same as other style. This would be useful for example when you have an style that is larger than the original", in that case it would copy the entire image again, to end up with the same image In the case an image with a 300x300 dimension is uploaded, then:thumb would be resized:mini would be resized:normal would be a softlink to :original:original would, well, be the original Just an idea," it could save quite an ammount of space and processing.'""",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,1,2011-10-09 06:54:42,815.85,,,1,"b'b"" It sounds like a nice idea", but the problem is not every platform has a symlink (read: Windows). Also, I usually see people upload file to S3, which surely doesn\'t support a symlink. It is nice to be able to save space," but I think I don\'t how many people will use it if we add that to Paperclip.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,2,2011-10-09 06:54:42,114.23,,1,,"b'b"" Actually Windows do support symlinks url It\'s true what you say about S3.However", what I was thinking was about using it as an option in the basic configuration," so you could choose whether to use it or not.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,closed,2011-10-14 22:24:47,930.08,0,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,reopened,2011-10-14 22:24:51,0.07,0,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,3,2011-10-09 06:54:42,1295.68,,1,,"b'b"" I\'m still think that this is still a niche case"," and not sure if it\'s worth pulling into the core.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,closed,2011-12-13 20:00:28,1295.62,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,619,closed,-,-,-,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,opened,2011-10-26 09:26:12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,title,2011-10-26 09:26:12,00:00,,1,,"b""b' Fog and empty URL'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,body,2011-10-26 09:26:12,00:00,,,1,b'b\' Hi, My application use aws-s3 first. Then I migrate to Fog. I can read the already uploaded images, and i can upload new image. But when i upload and image, to edit an existing," the public_url send by paperclip is something like ""?1234564"" and for images previously uploaded with aws-s3 it\\\'s okay", it\\\'s the good url... In S3, it\\\'s okay, the image is well uploaded with fog, and in database, the entry is same like before I use paperclip 2.4.5 and last fog.\'',,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,1,2011-10-26 09:26:12,901.35,,1,,b'b\' Hi, I\\\'ve noticed this too.  I don\\\'t have time right now to fix it, but here\\\'s some stuff that is hopefully helpful.  For what its worth, this stuff all started appearing after upgrading fog to 1.0 and paperclip to 2.4.5 at the same time (I know, what a smart move...) First,  is defaulting to false instead of true.  The problem is that the options object has some method_missing magic which makes  always be defined.  So if you don\\\'t pass in option, its just set to nil, which then makes  false in the code below (from ) You can work around this for now by explicitly setting :fog_public =  Then, the next and larger problem is that URLs for private assets aren\\\'t being generated properly.  (Maybe this was intentional," as these assets don\\\'t actually have ""public urls"" techincally?)  In fog", you would use the (expires) method to get temporary, expiring URLs to private assets, but it looks like the Paperclip fog storage just always uses public_url, which is nil for objects without public ACLs. Finally, I also noticed that even with fog_public set to true, and URLs being generated, the URL you get back from fog and s3 is already escaped, and then paperclip escapes it again, making it an invalid URL.  I had to explicitly tell it not to escape in order to get URLs that worked: Hope this is helpful, I will try to work on some solutions as soon as I have time, but unfortunately that may not be for a while.\'',,,,,,,,,,
paperclip,633,closed,2,2011-10-26 09:26:12,24.87,,,1,"b'b"" Also for what it\'s worth", here\'s my incredibly low budget, mostly untested, temporary monkey-patch, which happens to work for my current use case (pro-tip: you probably shouldn\'t use this," and there\'s a good chance it will break things)  ""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,3,2011-10-26 09:26:12,1144.95,,,1,"b'b"" Thank you so much @faber.1. That problem should be gone after we\'re going back to hash style setting.2. I can see the potential problem with that double escape. Do you mind sending us a patch to fix that"," along with a failing test case?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,4,2011-10-26 09:26:12,149.77,,1,,"b""b' +1'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,5,2011-10-26 09:26:12,1092.58,1,,,"b'b"" Hey guys", I will definitely try to write a patch for this as soon as possible, it\'s the least I can do for a library I use so much..... but, realistically," no guarantees that I\'m going to have the time to do it anytime soon. Sorry :(""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,6,2011-10-26 09:26:12,34.25,,1,,"b""b' +1'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,7,2011-10-26 09:26:12,152.38,,,1,"b'b"" Close this one as there\'s no activity. If you still can reproduce this problem"," please let me know so I can reopen this ticket. Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,closed,2012-04-25 19:46:21,620.15,1,4,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,8,2011-10-26 09:26:12,142.37,1,,,"b'b"" Hey", sorry I completely forgot about this! I\'ve just pushed a commit that fixes the first issue of fog_public defaulting to false.  Turns out this is still an issue even with hash-style settings, because it is still checking for an explicitly set fog_public with  , but: So even when no :fog_public key is there, is true, just because of how the operator works. I don\'t know how to add commits to an existing issue, instead of opening a new pull request, but the commit is here url  As for the issues with expiring URLs to private attachments and double escaping, the double escaping no longer happens, at least with AWS, because the URLs are hardcoded and built manually (see url I assume this was done for performance reasons?  If we add a condition to check fog_public and when it\'s false, generate the URL with fog, there\'s no way to pass in a custom expiration, since the options from don\'t make it through the interpolation to the method.  Without doing some more significant restructuring," the only solution I can think of is hardcoding some sort of expiration time in there.  Any ideas?""'",,,,,,,,,,,,,,,,
paperclip,633,closed,9,2011-10-26 09:26:12,1161.62,1,,,"b'b"" @sikachu Any thoughts on the patch?  Sorry to bump"," but I\'m sure this slipped through the cracks now that it\'s closed.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,reopened,2012-05-16 18:31:24,1365.05,3,4,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,10,2011-10-26 09:26:12,471.23,,1,,"b""b' +1'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,11,2011-10-26 09:26:12,1073.2,,1,,"b'b"" I\'m going to close this", as it\'s at least 6 months old and (I believe) the issues have been taken care of. Regardless, there are multiple problems being mentioned here," and we should break those out into separate issues if they still occur.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,closed,2012-11-16 19:14:46,43.37,3,6,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,633,closed,-,-,-,3,6,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,opened,2011-11-01 22:13:55,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,title,2011-11-01 22:13:55,00:00,,1,,"b""b' uninitialized constant Paperclip::Glue Rails 2.3.14 & Paperclip 2.4.5'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,body,2011-11-01 22:13:55,00:00,,1,,"b'b"" Just added paperclip 2.4.5 to my Gemfile and bundle installed. Now when I try to run rake db:migrate or the like the uninitialized content arises. I don\'t see this covered anywhere other than to revert back to paperclip 2.3.1.1 which solves the problem. Thoughts? Stack trace is here: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,1,2011-11-01 22:13:55,90.73,,1,,"b""b' I cannot reproduce this and we have a test case covering this. Are you still see this problem"," or have you found the way to fix it?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,2,2011-11-01 22:13:55,1382.15,,1,,"b'b"" I\'m closing this due to inactivity. If you still see the problem please let me know so I can reopen the ticket.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,closed,2012-01-27 22:46:48,32.88,0,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,3,2011-11-01 22:13:55,970.25,,1,,"b""b' This is still a problem for me as well running rails 2.3.12.  Switching back to paperclip 2.3.1.1 was the only solution it seems.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,4,2011-11-01 22:13:55,2.0,,1,,"b'b"" Do you mind creating me a test application that triggers the problem? We drop support for Rails 2.3.x in Paperclip 3.0"," but if you still see this problem on Paperclip 2.7 I\'d still want to fix it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,5,2011-11-01 22:13:55,54.15,,1,,"b'b"" Yeah I\'ll see if I can get around to it this afternoon.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,6,2011-11-01 22:13:55,1040.9,,1,,"b""b' I am facing same issue. Using paperclip-2.7.0 with rails-2.3.14.paperclip>=2.3.4 has this issue.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,reopened,2012-08-20 14:21:20,934.53,0,8,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,7,2011-11-01 22:13:55,307.82,,,1,"b'b"" Reopened as requested. @anujaware", if you could make a test app that reproduce this problem and push it up to GIthub for me," that\'d be great. Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,8,2011-11-01 22:13:55,307.15,,,1,"b'b"" Rails 2 is no longer officially supported", so I\'m going to close this. If you still see this problem, though," please let us know and give as much detail into the problem as you can so we can take a look. Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,closed,2012-11-16 19:29:04,307.73,0,8,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,638,closed,-,-,-,0,8,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,opened,2011-12-07 18:35:19,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,title,2011-12-07 18:35:19,00:00,,1,,"b""b' Paperclip and assets pipeline'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,body,2011-12-07 18:35:19,00:00,,,1,b'b\' Hi," I am running a rails 3.1.0 app using paperclip 2.4.5 and I have an issue:In development environment all works pretty fine but in production env I got a routing error: ActionController::RoutingError (No route matches [GET] ""/"") Does paperclip work with assets pipeline? ps: I am using the defaults path and url attributes for has_attached_file method\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,1,2011-12-07 18:35:19,94.5,,1,,"b'b"" Look your Public directory. If the image isn\'t there"," probably is permission error or any of directories don\'t exists. Check if all of directories in the path are exist.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,2,2011-12-07 18:35:19,1186.37,,1,,b'b\' Yes, all directories exists and paperclip had saved the images correctly but I can\\\'t visualize them. I\\\'ve set all permissions (777) for all rails app directories too," but still: ActionController::RoutingError (No route matches [GET] ""/"") Any suggestions? \''",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,3,2011-12-07 18:35:19,415.87,,1,,"b'b"" This is not an assets pipeline issue. It means that somehow your web server is not serving the static assets. What kind of web server are you using? Are you sure that you\'ve set it correctly?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,4,2011-12-07 18:35:19,454.77,1,,,"b'b"" Hi sikachu"," well I\'m using default webricks as web server but I\'ve tested it on a nginx with thin as dispatcher with defaults configurations too. I would like to know why it\'s working in dev environment but in prod it doesn\'t. Do you have any clue?  Should it work? Just creating  a Rails 3.1.\\\\* with a model \'papercliped\' and starting it with:rake assets:precompilerails s -e production btw: sorry about my poor english :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,5,2011-12-07 18:35:19,438.17,,1,,"b""b' Andre"," can you post your nginx configuration? (only your app snippet)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,6,2011-12-07 18:35:19,141.22,,1,,"b'b"" Yes", please show me your nginx configuration.  Also, in which path do you used to deploy your code? You need to add a definition and make sure that nginx knows that it should serve the static assets. If you\'re using nginx and passenger, pointing to Rails\' folder should do all the trick for you. If you\'re running webrick in production, then I\'m pretty sure you\'ll need to turn on in your  ," as Rails disable this by default in production environment.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,7,2011-12-07 18:35:19,1180.32,,,1,"b'b"" Hey guys", now everything is working fine after I\'ve set  to true.By the way, although this tip isn\'t a paperclip issue, I think that would be nice to have this documented somewhere," don\'t you think ?""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,closed,2011-12-16 11:46:33,1031.23,1,6,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,8,2011-12-07 18:35:19,144.82,1,,,"b'b"" Sorry", but I don\'t think it\'s worth to mention in the documentation. Normally you should let Nginx or Apache to serve those static assets, which would not require that to be turned on. If you turn on that option and not configuring Nginx or Apache to serve those stuff, it would mean that those assets request will block your Rails server process," which is not good at all in the production environment.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,9,2011-12-07 18:35:19,350.8,,,1,b'b\' i got the same issue here! working with rails 3.1 stable + nginx, in development mode it works fine, as soon as i switch over to production mode, it seems like the images are not even uploaded (file missing after upload, at least i cannot find). permissions are all given, (again, works in development mode). Gemfile:gem \\\'rails\\\'," :git =gem \\\'mysql2\\\'gem \\\'rails3-generators\\\'gem \\\'execjs\\\'gem ""paperclip""", :git =... server {listen 80;server_name spn-live;root /-;passenger_enabled on;#rails_env development;}  is default 3.1 there also is no errormessage in the logfile. any idea? Edit: i did correct my nginx config\'',,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,reopened,2012-01-27 20:03:30,496.95,2,6,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,10,2011-12-07 18:35:19,4.27,,1,,"b'b"" @inbreed can I see your has_attached_file definition? There\'s nothing different in paperclip if you\'re running it in different environment though"," except you\'re also specify some kind of configuration based on the environment.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,11,2011-12-07 18:35:19,1061.17,1,,,"b""b' o/c :  sorry for the formatting", did not figure out how to make it more  so the log shows:? so i tried: find public | wc -l  BEFORE and AFTER upload, but the file-abount did not increase. chmodded 777, chowned to nginx-user," recursivelty as well. ruby -vruby 1.9.2p290 (2011-07-09 revision 32553) [x86_64-linux]$ rails -vRails 3.1.0$ gem list paperclip**\\\\* LOCAL GEMS ***paperclip (2.4.5)'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,12,2011-12-07 18:35:19,96.58,1,,,"b'b"" Daniel", your ngnix conf path is root /, and when you send asnippet of log, the path is /-. I think that some thing is wrong, or I\'m confused. On Sat, Jan 28, 2012 at 11:47 AM," Daniel Hanke <reply@""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,13,2011-12-07 18:35:19,20.65,1,,,b'b\' Sorry for confusing you Rafael, i copied the wrong section from nginx, but they are 99% the same," the ""-live"" suffix is the only change. so the actual nginx config for spn-live is nginx:server {listen 80;server_name spn-live;root /-;passenger_enabled on;#rails_env development;} and yes", \\\'spn-live\\\' is in my / ;)Again, sorry for confusing.i Updated the original post to not confuse anyone else too ;)\'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,14,2011-12-07 18:35:19,60.48,1,,,"b""b' okay", a colleague of mine did some general linux maintenance on the server, starting 3 days ago. i really cannot figure out how his work could have had effects on this, but now after we had to reboot the machine everything is working fine. Oo So i guess it was not paperclip related at all. I am really sorry for creating trouble here," hopefully no one took serious damage ;) Best Regards Edit: tried to reproduce the issue with the same project on 2 different servers no luck! everything working fine.'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,closed,2012-03-02 19:35:14,1411.73,6,7,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,15,2011-12-07 18:35:19,80.27,,1,,"b'b"" I just ran into this issue.  Basically if you have  set to false", then your app won\'t deliver images that are stored in .  It\'s probably not something we can fix in paperclip code, but it\'s an issue we should be aware of.  If I find a workaround I\'ll let everybody know.  If I don\'t I guess I\'ll just serve from S3," but that\'s not ideal because my dev environment\'s internet connection is my iPhone and I\'ve got limited bandwidth.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,16,2011-12-07 18:35:19,449.15,,,1,"b'b"" Yeah", if you tell Rails to not serving static asset, then it won\'t serve the static assets. Note that turning off asset  and serving static assets are different thing, though. You\'d want to turn static asset serving on your development and on Heroku because  is the only web server that serve that stuff. Unless you\'re using something like Passenger w/ ," then you can turn that off to let those two big guys handle it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,17,2011-12-07 18:35:19,1291.42,1,,,"b'b"" Just wanted to ping on this issue and see if there\'s anything that can be done in newer versions of Rails? It is a minor annoyance to have to toggle this flag on in dev mode each time I want to test Paperclip.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,18,2011-12-07 18:35:19,1425.62,1,,,"b""b' I ran into this same issue", same indicators: file exists under /system, but image not being served. In my case the issue stemmed from Capistrano (3). I had, like most people std cap. settings:set :linked_dirs, %w{bin log   }but looking closer I had  (lots of stuff)," but also  (nothing). Creating a link from  to  fixed everything (and no messy rails serving assets in production)'""",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,667,closed,-,-,-,8,8,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,opened,2011-12-12 07:15:46,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,title,2011-12-12 07:15:46,00:00,,1,,"b""b' Error when try creating a new attachment'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,body,2011-12-12 07:15:46,00:00,1,,,"b""b' When i try creating new attachment", i get: A NoMethodError occurred in assets#create: \\xd0\\x90fter migrating from 2.3.16 and got this error," even though the file is saved. But this mistake breke further logic.  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,1,2011-12-12 07:15:46,909.97,,,1,"b'b"" Ok", so after I investigate the code," it seems like it\'s trying to read the file size from the original file. I have several questions:What kind of storage engine you\'re using?Is the processor a default  ? I\'ll try to reproduce it in the test case. It would be nice too if you can try and send me the failing test case. ;)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,2,2011-12-12 07:15:46,114.23,,1,,"b'b"" 1. I use file storage on local file system.2. It doesn\'t matter. I switched off my own processor", and use default," but error still was there. About test case at this moment it\'s impossible. I revert back to 2.3.16 my production and development servers.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,3,2011-12-12 07:15:46,50.98,1,,,"b'b"" Gotcha. It seems like I came to your ticket too late. Sorry about that. I\'ll still try to reproduce it", but I\'m not sure I could do it from all the information I have here. I mean," it\'s so strange that the original style in has become nil.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,4,2011-12-12 07:15:46,9.08,1,,,"b'b"" Yeah", when i debugged i got in @queued_for_write[:original] nil. I unfortunatelly don\'t have time," so i revert back. Deadline was approaching.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,5,2011-12-12 07:15:46,898.3,,,1,"b'b"" Ok"," as I can\'t reproduce by the test case here I\'m closing this one for now. Thanks again for reporting in.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,closed,2011-12-13 16:18:20,542.57,3,2,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,6,2011-12-12 07:15:46,1138.27,,1,,"b""b' I am having this same issue'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,7,2011-12-12 07:15:46,155.9,,,1,"b'b"" @artellectual too late"," ticket closed. :P Can you help me debug this one then? I\'m not sure why that is becoming nil.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,reopened,2011-12-14 13:52:33,1294.22,3,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,8,2011-12-12 07:15:46,327.65,,1,,"b'b"" Ditto on having the same issue.  I\'ll see what I can do to help debug it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,9,2011-12-12 07:15:46,42.92,,1,,"b""b' in my case so far", i can make it repeatedly fail if I call a before_post_process callback.  I have to work on something else for a while, but will be coming back to this," unless someone else has figured the rest out from there before I get back to it ;)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,10,2011-12-12 07:15:46,5.32,,,1,"b""b' Thanks for the clue"," will try to investigate as well.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,11,2011-12-12 07:15:46,52.13,,,1,"b""b' Hmmm"," it also throws the same error when using after_post_process callback'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,12,2011-12-12 07:15:46,68.43,,1,,"b""b' Hey yea it was something to do with the callback", I am using a gem called delayed_paperclip," I updated the gem to the latest version and all is working well.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,13,2011-12-12 07:15:46,208.33,,1,,"b'b"" I don\'t have a fix", but here\'s what I\'ve learned: and only fail if the model that has the attachment is modified as part of the method that is called by the callback. The reason we get is because of how the method behaves it\'s called in (line 22 in the case of  ) Up until Rails 3.x, runs **all** the callbacks on the model, and the chain is not halted. (see url  ) in Rails 3.x you can run a specific callback by using this syntax: As a consequence of how works without Rails 3.x and using the block, the model runs through its callbacks, saves the file, and the object no longer has anything in Further, the and callbacks do not get called when I was expecting they would.  I set up the following method to run for the callback: When run from the callback, here\'s what the log looked like: When run from the callback, here\'s how it looked: The callback is firing before the image processor does its work on the image file, but I was expecting it would happen  Paperclip saved to the filesystem.  In Rails 3," the callback may be the answer.""'",,,,,,,,,,,,,,,,,,,
paperclip,671,closed,14,2011-12-12 07:15:46,1135.43,,,1,"b'b"" @grumpit"," I\'m trying to reproduce the problem locally now and I can\'t. Modifying the object inside the callback isn\'t producing an error for me. Would it be possible for you to supply a failing test case (however verbose it needs to be is fine).""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,15,2011-12-12 07:15:46,51.78,,1,,"b'b"" I\'ll see what I can do it might be a while before I get to it...""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,16,2011-12-12 07:15:46,1429.32,,1,,"b'b"" I\'m also seeing the same problem. I\'m using paperclip 2.4.5 on Rails 3.1.1", with Ruby 1.9.3, but also observe the problem with Ruby 1.9.2. Downgrading to paperclip 2.3.16 also fixes the problem for me. I have two classes that use paperclip, this is the only one that exhibits the issue," I\'ll continue to attempt to isolate the issue. Stack trace Request parameters Model: Controller  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,17,2011-12-12 07:15:46,1247.43,,,1,"b""b' @artellectual brings up a good point. @mstump", I see you have in your model. Are you using delayed_paperclip," or normal paperclip?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,18,2011-12-12 07:15:46,27.15,,1,,"b'b"" delayed_paperclip"," but I\'m also using delayed_paperclip with the model that is functional.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,19,2011-12-12 07:15:46,5.63,1,,,"b'b"" Then I think you should try what @artellectual said and upgrade delayed_paperclip. If that doesn\'t work", I\'m not sure what else I can do," as delayed_paperclip is a separate project and not one I had a hand in. I would suggest you open an issue there. Sorry about that.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,closed,2012-01-27 18:34:03,281.5,4,10,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,20,2011-12-12 07:15:46,1228.4,,,1,"b'b"" @jyurek", I\'m seeing this issue with ActiveRecord 3.2.6, Paperclip 3.1.4, Ruby 1.9.3. I was building a post-processor that saves extracted text from a document back to a column in the database after extraction.  I have a branch of the docsplit-paperclip-processor gem here with a failing test case: url  In the DocsplitText processor, after the text document is turned into text, I am attempting to save that text back to a field on the ActiveRecord model. When I do, I am getting a nil on @queued_for_write. Unlike the prior reports on this issue," I am not using delayed_paperclip or anything else that I believe should be interfering with the callback chain. Here\'s the lines in the processor that cause the exception: The exception I see when that code is run is: Does this help with getting to the cause of the problem? Thanks for any help you can provide.""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,21,2011-12-12 07:15:46,1237.52,,,1,"b'b"" UPDATE: If I update the model by bypassing callbacks", the tests pass. That doesn\'t seem like a good solution," however.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,22,2011-12-12 07:15:46,1019.62,,1,,"b""b' Was there any resolution to this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,23,2011-12-12 07:15:46,272.63,,1,,"b""b' Hi All", having the same issue with paperclip (3.4.1)," any solution?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,24,2011-12-12 07:15:46,379.32,1,,,"b'b"" We\'re also experiencing this issue: From investigating the previous comments", it certainly has to do with some of the other callbacks that get run. As taking out the validation in the model with the paperclip does not cause this error. I instrumented the file and found that aroundthe call: becomes nil, causing the above problem. I thought that a quick solution along the lines of would fix the problem," but alas that seems to skip some step of the image conversion process. I\'ll investigate further later.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,25,2011-12-12 07:15:46,960.27,,1,,"b'b"" I\'ve implemented the above fix", and today," it seems to work in this fork url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,26,2011-12-12 07:15:46,1384.7,,1,,"b'b"" This is a long confusing thread", but to sum up what I believe the problem is: If you want to update an attribute on an instance in a processor, don\'t or use methods (like  ) that would cause a save.  This would cause callbacks to be invoked again, and that\'s where paperclip is getting confuseda save within an already executing save. Just set the attribute directly on and rescue exceptions if that makes sense for your use case. Assuming everything validates, the attribute will get saved when the processors are done as part of the normal lifecycle. If validation fails, nothing will happen. If the processor runs and throws an uncaught exception," then the record isn\'t saved and you haven\'t mutated something that should\'ve errored out.  ""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,27,2011-12-12 07:15:46,1286.33,,,1,"b""b' Confirmed @djcp"," thanks a lot!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,28,2011-12-12 07:15:46,969.48,,,1,"b""b' I just wanted to report that I have an issue that I believe to be related. I use Paperclip 5.1.0 and the Ancestry 2.1.0 Gem. When I do an after assigning the attachments \\xe2\\x80\\xa6 \\xe2\\x80\\xa6 I get a mysterious exception: This on the other hand works perfectly fine:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,29,2011-12-12 07:15:46,1098.33,,1,,"b""b' It looks like you are using for the generated file path?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,671,closed,-,-,-,5,15,11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,opened,2012-02-22 03:01:04,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,title,2012-02-22 03:01:04,00:00,,1,,"b""b' Calling Model#save can raise AWS::S3::Errors::RequestTimeout'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,body,2012-02-22 03:01:04,00:00,1,,,"b'b"" Hi guys", I\'ve been noticing that after switching to  ," calling #save on a model with a paperclip attachment will now sometimes (I assume only those times when S3 times out) raise an error. It seems completely crazy to me to have to add a clause after every single time that I ever call save anywhere in my app. Shouldn\'t paperclip just catch the error and either retry or report that the save failed? Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,1,2012-02-22 03:01:04,1189.98,,1,,"b""b' Try setting the :whiny option to false.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,2,2012-02-22 03:01:04,154.25,1,,,"b'b"" The source says this about the :whiny option: Unfortunately", :whiny doesn\'t apply to my situation at all. First, this isn\'t happening during post-processing, it\'s happening when Paperclip tries to write the file to S3. Second, the problem I am reporting is _not_ that Paperclip is writing out errors into the logs, it is that Paperclip doesn\'t catching exceptions raised by the aws-s3 library that it uses. As a result," I am seeing exceptions in my application any time S3 has a hiccup. Not very cool. :(""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,3,2012-02-22 03:01:04,1263.87,1,,,"b'b"" Yeah", that\'s totally sucks. I think we could do better on this one. But then, how do you think we should handle this? I\'d want to do a for once or twice," but for third time should it adds the error to the model?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,4,2012-02-22 03:01:04,175.4,,1,,"b""b' Yeah"," that seems like exactly the right answer to me. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,5,2012-02-22 03:01:04,1173.15,,,1,"b""b' One thing for sure that it is happening on Ruby 1.9.  It works fine on 1.8.  According to a link here url  it said :encoding ='""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,6,2012-02-22 03:01:04,89.87,,,1,"b""b' There is not a chance that changing the encoding will stop Amazon S3 from having timeouts. :P'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,7,2012-02-22 03:01:04,5.93,,1,,"b'b"" I \'m running Jruby 1.6.7 and worked on Ruby 1.8"," but not with 1.9.  To me then looks like something to do with 1.9""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,8,2012-02-22 03:01:04,1233.03,,1,,"b'b"" @indirect This is a slightly parallel issue", but I was having timeouts every single time until I explicitly marked the file with a binary encoding. I\'m guessing this is a problem with the AWS gem, not paperclip. I\'m sure there will sometimes be a legitimate timeout error when S3 is down, for which this error should be addressed.  @tcpipmen I was uploading a file from a form, and used .  Not sure if that\'s the right thing to do," but I no longer timeout every single time. Try that out. ""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,9,2012-02-22 03:01:04,892.13,1,,,"b'b\' @charles-luv Where do you set """"? I\\\'d like to try that too. The issue seems highly related to [Issue #721]url  indeed", I posted some details about the trouble I was experiencing there.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,10,2012-02-22 03:01:04,615.4,,1,,"b""b' @jasperkennis with a file object"," try:   '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,11,2012-02-22 03:01:04,384.43,,,1,"b""b' I am having the same issue I believe. New rails 3.2.3 appaws-sdk (1.3.9)paperclip (3.0.1)paperclip-env_aware (0.0.3) set my credentials in paperclip_ I did not ignore the yml file. Git defaults and ignored / (for dev only). Pushed to heroku cedar stack. Timed out with an error 500 upon trying to upload a file with my app online. Checked the logs. _Logs summarized_Started PUTCommand :: identifyCommand :: convert[paperclip] saving[paperclip] Saving attachments.Error R12 (Exit timeout) -Stopping process with SIGKILLProcess exited with status 137Completed 500 Internal Server Error in 23052ms**AWS::S3::Errors::RequestTimeout** (Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.):'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,12,2012-02-22 03:01:04,1338.07,1,,,"b'b\' Degrading to gem ""paperclip""","~\''
paperclip	751	closed	13	sikachu	2012-02-22 03:01:04	1.4	+1			b""b' Oh my, this is going to be hard to debug :/'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,14,2012-02-22 03:01:04,6.55,1,,,"b""b' Sorry", next time I will try to only have problems that are easy to debug. :trollface: :) On Apr 3,2012, at 5:57 PM," Prem Sichanugrist wrote:'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,15,2012-02-22 03:01:04,0.75,,1,,"b""b' HAHAHAHA ;)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,16,2012-02-22 03:01:04,32.5,,1,,"b""b' Debug == roll version back... :p'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,17,2012-02-22 03:01:04,398.2,,,1,"b""b' Not sure if a debug is needed. It seems like 2.x and 3.x just follow a different strategy", which can be fine," but it should be documented very clearly.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,18,2012-02-22 03:01:04,393.37,,,1,"b'b"" It\'s not a different strategy though. We\'ve switched to since 2.7 and it seems like the problem came since then. Unless if people has a problem with 3.0.1 but not 3.0.0", then we have some problem on our side. Anyhow," too much chit-chat on this. If anybody can provide me a backtrace when that error happen it would be great.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,19,2012-02-22 03:01:04,14.55,,,1,"b'b"" I\'m currently using 2.7 with aws-sdk and it\'s fine. See backtraces here: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,20,2012-02-22 03:01:04,77.92,,1,,"b'b"" I think I may have found the issue? Consider this: I think there may be a problem in how Paperclip is setting encodings for the FileAdapter stuff"," but I haven\'t dug any deeper so far. Any ideas?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,21,2012-02-22 03:01:04,1198.55,,1,,"b""b' submitted pull request to fix this issue: url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,22,2012-02-22 03:01:04,30.33,,1,,"b'b"" I\'ve merged #811 into master. Can you guys give it a try and see if it fixes your problem?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,23,2012-02-22 03:01:04,489.65,,,1,"b""b' @sikachu", it resolved the issue for me. Pre-commit," it worked fine on my local environment but broke in heroku land.  Now it works in both places.  Cheers! '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,24,2012-02-22 03:01:04,1.57,,,1,"b""b' W00t! Going to release 3.0.2 later today. Thanks for confirmation.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,25,2012-02-22 03:01:04,857.77,,,1,"b""b' Thanks for the update guys! 3.0.2 did indeed resolve the issue. :)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,closed,2012-04-25 00:33:30,1292.43,7,11,9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,26,2012-02-22 03:01:04,1025.1,,1,,"b'b"" The same problem is occurring for me with version 2.7. Why not just upgrade to 3.0.2? See url  and you\'ll understand. Is it possible to backport this fix to the 2.7 branch?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,27,2012-02-22 03:01:04,18.0,,1,,"b""b' Yep"," I can release another 2.7.x'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,28,2012-02-22 03:01:04,5.37,,,1,"b""b' THANKS! PAPERCLIP ROCKS!!! ...Can you post here when the new version is out?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,reopened,2012-06-15 19:54:25,1160.92,7,13,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,29,2012-02-22 03:01:04,343.92,,1,,"b""b' Is there a status on backporting it to 2.7?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,30,2012-02-22 03:01:04,123.55,1,,,"b'b"" @bastilian Current ticket status: confused. >_< See", the regression was introduced in 3.0.1 whereas the adapters wasn\'t mark the file as binary as it should be, resulted in wrongly calculated signature. I\'ve looked into 2.7 code and seems like we already mark those files as binary," so I wasn\'t sure where else do we need to fix. Let me have another through look at it to see if I can file the culprit.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,31,2012-02-22 03:01:04,26.43,,1,,"b'b"" I\'m seeing this in 3.1.4. Has anyone else seen issues with this?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,32,2012-02-22 03:01:04,348.55,,1,,"b'b"" @sikachu this issue is back due to a recent version of aws-sdk. I downgraded to aws-sdk 1.5.8 (which I was previously on) and it fixes my problem. It looks like aws-sdk 1.6.3 and 1.6.4 add updates to S3"," it\'s probably due to a change in 1.6.3 if I had to guess: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,33,2012-02-22 03:01:04,11.5,1,,,"b'b"" Oh", I guess our monkey patch broke ... Thanks for investigating that, I\'ll have a look soon. It seems like they haven\'t test their library against Ruby 1.9 yet," which is kind of shame.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,34,2012-02-22 03:01:04,1371.58,,1,,"b'b"" I\'m getting Excon\'s timeout exceptions also during save when using Fog.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,35,2012-02-22 03:01:04,134.38,,1,,"b""b' I just upgraded from aws-sdk 1.5.8 to 1.7.0 to try it again and got a RequestTimeout again. Leaving my aws-sdk gem at 1.5.8.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,36,2012-02-22 03:01:04,5.47,,1,,"b'b"" And I\'m using paperclip master"," btw. 567086e102ee3a9265cece1fd0f07d7ee435febf is still causing RequestTimeout issues.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,37,2012-02-22 03:01:04,1409.82,,1,,"b""b' I am seeing this same error too with Ruby 1.9.3", paperclip 3.3.1, aws-sdk 1.7.1. indeed, as other said," downgrading aws-sdk to 1.5.8 fixes the problem for me. '""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,38,2012-02-22 03:01:04,1313.82,,1,,"b""b' Dammit I spoke too soon. It looks like it works"," but I am getting zero-byte files on S3 with this configuration. Will post update if I figure this out. Any ideas?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,39,2012-02-22 03:01:04,65.57,,1,,"b""b' Further testing", looks like this problem was introduced in aws-sdk 1.6.3. I tested all versions between 1.5.8 and 1.7.1 here are my results: 1.5.8 works, but getting zero-byte files1.6.0 works, but getting zero-byte files1.6.1 works, but getting zero-byte files1.6.2 works, but getting zero-byte files1.6.3 AWS::S3::Errors::RequestTimeout1.6.4 AWS::S3::Errors::RequestTimeout1.6.5 AWS::S3::Errors::RequestTimeout1.6.6 AWS::S3::Errors::RequestTimeout1.6.7 AWS::S3::Errors::RequestTimeout1.6.8 AWS::S3::Errors::RequestTimeout1.6.9 AWS::S3::Errors::RequestTimeout1.7.0 AWS::S3::Errors::RequestTimeout 1.7.1 AWS::S3::Errors::RequestTimeout  Since I am consistently getting zero-byte files, I have a feeling my zero-byte problem is something else. For that reason," I will follow up regarding that problem on url '""",,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,40,2012-02-22 03:01:04,1202.37,,,1,"b'b"" Wow"," that\'s quite thorough. Thanks for looking into that! It should give us some more info on where to look for issues.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,41,2012-02-22 03:01:04,626.48,,1,,"b'b"" Hey everyone"," I submitted the pull request 1189 to fix the issue in branch 2.7.I executed all tests and all are green and I also tested the fix in a website that I have. I\'m using my fork for while in that site which includes the fix.Could you please homologate my fix and if possible create a newer gem to 2.7 version?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,42,2012-02-22 03:01:04,1208.22,,1,,"b'b"" Hey guys", blast from the past. I\'m seeing this error almost every time I run a simple test using Paperclip 3.3.1 and aws-sdk 1.9.1. It drives me nuts," as it occasionally doesn\'t happen. Here\'s the simple test: I\'ve tried just testing a single fixture file upload and it times out just as often.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,43,2012-02-22 03:01:04,1133.08,,1,,"b""b' My zero-byte file problem was a problem in my own code -I filed that separately.  did you try locking your aws-sdk to version 1.6.2 ? Try that and tell us if it works. We still have our aws-sdk gem locked at 1.6.2 as I do not believe this is fixed in any higher version (I only tested up to 1.7.1"," if someone has information that this works in a version '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,44,2012-02-22 03:01:04,198.53,,1,,"b""b' I just upgraded to using aws-sdk 1.10.0 and paperclip 3.4.2 and the timeouts still occur.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,45,2012-02-22 03:01:04,1154.17,,1,,"b""b' Also using aws-sdk 1.10.0 and paperclip 3.4.2 and the timeouts still occur.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,46,2012-02-22 03:01:04,6.13,,1,,"b""b' Downgrading aws-sdk worked for me.  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,47,2012-02-22 03:01:04,4.17,1,,,"b'b"" That\'s a hell of a lot of patch levels to downgrade to... :|""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,48,2012-02-22 03:01:04,1.03,,,1,"b'b"" @uberllama  -that seem consistent & correct", the bug is NOT fixed in later versions of the aws-sdk gem, it is CAUSED BY later versions and AFAIK, has not yet been fixed in later versions. Consistent with what other people are saying, you must downgrade. If someone would like to bring this to the aws-sdk team\'s attention, that would be great.  All of the rest of of us have locked our aws-sdk to the working version and not upgraded beyond that version for this very reason. if we hear of a later version that it works in," that would be good news but as of yet I have not heard of any such later version that it works under. ""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,49,2012-02-22 03:01:04,13.58,,,1,"b'b"" The interesting thing is I only ever encounter timeouts during tests"," not in actual use. Maybe that\'s been blind luck.  I\'m going to post this thread to the aws-sdk issues.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,50,2012-02-22 03:01:04,101.35,,,1,"b'b"" Thanks @uberllama"," for posting it to aws-sdk. Sounds like a similar problem. I\'m on Ruby 2.0.0-p0 and my bucket\'s in eu-west-1""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,51,2012-02-22 03:01:04,3.25,,1,,"b""b' No one with the issue tried url  ?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,52,2012-02-22 03:01:04,212.42,,,1,"b'b"" Thanks @uberllama for brining this issue to my attention.  Amazon S3 is returns a RequesTimeout error when it gives up waiting for additional data from the client.  This generally happens when the \'Content-Length\' header of the request incorrectly reports the size of the payload it sends.  I\'ll see what I can do about reproducing the issue and see if we can\'t get this resolved.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,53,2012-02-22 03:01:04,8.62,,,1,"b""b' Thanks Trevor"," much appreciated!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,54,2012-02-22 03:01:04,9.3,,,1,"b""b' Three cheers for Trevor! On Tue", May 21, 2013 at 4:36 PM," Yuval Kordov notifications@:'""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,55,2012-02-22 03:01:04,1374.97,,,1,"b'b"" I\'m looking into this issue now.  Can everyone still experiencing this issue report:The version of Ruby you are usingYour environments default external encoding ()Your ENV[\'LANG\']If it occurs in test cases or production codeIf it is a test case", please provide the test case I\'m currently unable to reproduce this issue," so your help would be very much appreciated.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,56,2012-02-22 03:01:04,11.02,,1,,"b'b\' ruby 1.9.3p392 (2013-02-22 revision 39386) [x86_64-linux]Default external encoding: #Encoding:UTF-8ENV[""LANG""]: ""en_""Happens in real code\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,57,2012-02-22 03:01:04,4.6,1,,,"b'b\' Ruby: 2.0-p1.9.5 (also occured with p0)Encoding: UTF-8ENV[""LANG""]: en_-8 User model as follows: Test case as follows ( is a 1k png in my  folder):  \''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,58,2012-02-22 03:01:04,16.73,,1,,"b""b' @uberllama The #fixture_file_upload accepts a 3rd argument (defaults binary = false).  If you pass as the third argument"," does your test pass?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,59,2012-02-22 03:01:04,17.62,,1,,"b'b"" If I run the test independently"," it doesn\'t seem to time out (after 10 runs). But as soon as I run it with other test cases in the class it times out just as before.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,60,2012-02-22 03:01:04,59.42,,1,,"b""b' Could you enable HTTP logging for your test.  It might be helpful to see whats going over the wire.  You can do this by adding the following to your call. Feel free to set to whatever makes the most sense.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,61,2012-02-22 03:01:04,5.78,,,1,b'b\' Echoing @uberllama , I\\\'m having the same issue," only in my Cucumber test suite. It goes just fine when I run the individual feature but almost always crashes when run as part of the whole suite. Could be an issue of some state left over from a previous upload? Ruby 2.0.0-p195Rails 3.2.13aws-sdk 1.10.0ENV[""LANG""] = ""en_-8""\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,62,2012-02-22 03:01:04,17.03,,1,,"b'b"" I can\'t get the damned thing to time out anymore. But I guarantee as soon as I finish posting this"," the next run will timeout! Inconsistency is pure aggravation. :) Anyway:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,63,2012-02-22 03:01:04,208.98,1,,,"b'b"" For what its worth"," I haven\'t encountered a timeout in the last two days after adding the binary boolean to my fixture file upload call. It did happen intermittently after I first changed it though. Bizarre.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,64,2012-02-22 03:01:04,884.05,,1,,"b""b' I take it back. Seeing timeouts again today"," so its still inconsistent.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,65,2012-02-22 03:01:04,1357.17,,1,,"b'b"" Ruby: 2.0-p0LANG=en_-8#Encoding:UTF-8aws-sdk (1.9.5) This is happening in production for me but thankfully I\'m using [delayed_paperclip]url  so I can see them and easily retry them in Resque.  The retry appears to always go through. @trevorrowe any update on this?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,66,2012-02-22 03:01:04,285.12,,1,,"b'b"" @ScotterC I haven\'t abandoned this", just sidetracked. It sounds like you are only getting this error only on occasion (not on every request).  This is likely not releated to the string encoding issue that causes this to fail for every request (which I am still unable to reproduce locally). This is very possibly caused by transient network errors.  Currently the only retries throttling errors, and 500 level errors.  400 level errors are generally caused by bad parameters (e.g. no such bucket) and are not retried. In this case," it sounds like it would be very helpful if the SDK automatically retried the 400 RequestTimeout errors. Is anyone willing to reach out to me directly via email and help me recreate their particular failure case.  I\'m confident this issue will be easy to resolve if we can do this.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,67,2012-02-22 03:01:04,27.38,1,,,"b""b' I believe I am having the same issue. Uploads are silently failing to save on S3. It started happening for me once I added 4 more attached files to the same model. Now the model has a total of 5 thumbnail images that get uploaded at the same time. Sometimes it works but it fails most of the time. @ScotterC"," I can get on email to help you dupe.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,68,2012-02-22 03:01:04,20.55,,,1,"b'b"" Good to hear @trevorrowe  Thankfully I\'m in a better situation then most since I can periodically check and retry the uploads for production. @goleador thanks but it sounds like we all really need to @trevorrowe to be able to duplicate this consistently.  If you can help him we\'d all appreciate it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,69,2012-02-22 03:01:04,3.2,,1,,"b""b' @trevorrowe let me know if I can assist'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,70,2012-02-22 03:01:04,922.52,,1,,"b""b' I am seeing this consistently happening for me.I am running ruby 2.0 with rails 3.2.12", paperclip 3.3.1 and aws-sdk 1.8.5.For now," running with aws-sdk 1.6.2'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,71,2012-02-22 03:01:04,325.63,,,1,"b""b' Ruby 2.0", Paperclip 3.4.2, aws-sdk 1.11.0 on HEROKU gives me intermittent AWS::S3::Errors::RequestTimeout.... strangely, from my laptop," I cannot reproduce it.  '""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,72,2012-02-22 03:01:04,212.4,,,1,"b""b' Thank you @goleador for offering to help.  Would you please email me directly at trevrowe at amazon dot com?  Thanks.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,73,2012-02-22 03:01:04,1358.72,,,1,"b'b"" I still have not been able to reproduce the issue locally"," but I\'ve committed two changes that should address some of the symptoms.  You can view the pull request here: url  I would be very interested in having users here try this out and giving feedback on if this resolves the issue or lessens the frequency.  Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,74,2012-02-22 03:01:04,11.98,,,1,"b""b' @trevorrowe  Thanks Trevor!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,75,2012-02-22 03:01:04,1263.42,,,1,"b""b' I just released version 1.12.0 of the gem.  This release contains a fix that should hopefully resolve this issue.  A handful of users tested this out and reported positive results.  If anyone who has been having issues with this could give it a try"," I would appreciate the feedback.  Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,76,2012-02-22 03:01:04,5.32,,1,,"b""b' @trevorrowe Thanks for your hard work.  Were you ever able to replicate it on your machine?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,77,2012-02-22 03:01:04,59.82,,1,,"b'b"" @ScotterC Unfortunately", I was unable to reproduce it locally.  If this issue persists for anyone," _please_ reach out to me and I\'ll be happy to keep working on this. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,78,2012-02-22 03:01:04,100.78,,,1,"b""b' Cheers Trevor"," will try it out asap.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,79,2012-02-22 03:01:04,166.18,,1,,"b""b' @trevorrowe I still have the issue with 1.12.0'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,80,2012-02-22 03:01:04,86.28,,,1,"b""b' There are two related issues.  The commit I made (-sdk-ruby#276) addresses only one of the issues.  A quick summary:When reading request bodies", Amazon S3 may return a request timeout error if it has waited too longThis error can happen when:  The connection is flakey or really slow  Their is a transient networking error that drops or corrupts some of the data, causing the request body size not to match the Content-Length header  The Content-Length is incorrectly calculated for a request payload The first two scenarios are handled by my commit.  They treat the 400 error returned by Amazon S3 as a retryable error (generally 400 level errors are client errors and are not retried).  The 3rd cause is a little tricker. What is (very likely) happening is there is an encoding issue.  I have a 976B large png on my desktop.  If I open and read the file with the wrong encoding I can get some ugly behaviors: Long story short, what appears to be happening is somewhere the ACTUAL source size is being determined (in my example, this would be 976).  This is then used to set the Content-Length header, but then fewer bytes are sent (in this example only 962 are sent down the socket).  Amazon S3 sits waiting for the additional 14 bytes and times out. My retry patch will not help in this scenario.  It will simply recreate the same steps that led to the original timeout.  I have been unable to find any code path in the SDK or paperclip where the file is being read incorrectly (obviously I must be missing something).  It may be simple enough that I can force the encoding to on every value before it is read.  I hesitate to do that until we can isolate the source of the error.  I do not want to mask any other bigger issue. @jonathanroy Would you be available at some time where we could meet up and debug this together? I would like to generate a minimal test case to reproduce the issue," add a test and then resolve this finally. '""",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,81,2012-02-22 03:01:04,830.03,,1,,"b'b"" @trevorrowe add me on skype (jonathanroy06) and let\'s talk today if you can.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,82,2012-02-22 03:01:04,274.02,,,1,"b'b"" @jonathanroy I\'ll contact you directly.  Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,83,2012-02-22 03:01:04,1296.07,,1,,"b'b"" @jonathanroy do you think this issue is resolved in 1.14.x? I\'m not sure if we (Paperclip) should do anything else to solve the issue or not"," and if this issue can be closed.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,84,2012-02-22 03:01:04,26.2,,1,,"b'b"" @sikachu @trevorrowe I\'ve had 1.14 in production with a lot of images being uploaded and it looks resolved to me.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,85,2012-02-22 03:01:04,219.93,,,1,"b'b"" I just updated to aws-sdk 1.14.1 and paperclip 3.5.0 to test out if it was fixed. Attachments that don\'t have pre-processing are uploading fine", but attachments that do have pre-processing are timing out withIt could be that since the preprocessing is running advpng and optipng for compression that it\'s taking too long. I also posted this in url  but for me something is still broken," going to downgrade.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,86,2012-02-22 03:01:04,1238.15,,,1,"b""b' @jonhyman I would be very interested in working with you to try to replicate the issue and fix the timeout errors for the pre-processed images.  I have a few ideas that could resolve the issue"," but I am unable to test them myself (I can do replicate the issue).  Would you be willing to email me at trevrowe at amazon dot com and setting aside some time to troubleshoot this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,87,2012-02-22 03:01:04,7.88,,1,,"b""b' Sure.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,88,2012-02-22 03:01:04,70.92,,1,,"b'b"" @trevorrowe @jonhyman Did you two ever have success identifying or fixing the issues? I\'m running into the exact same problem.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,89,2012-02-22 03:01:04,7.43,,1,,"b'b"" We upgraded to aws-sdk 1.15.0 and paperclip 3.4.2 and things are looking solid (no timeouts). If we encounter the timeouts"," I\'ll post here again. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,90,2012-02-22 03:01:04,2.68,,,1,"b'b"" also the processing itself was hitting heroku\'s 30 second timeout limit (which is a separate problem from the request timeout described in this thread is about)"," we used this to do the processing in the background url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,91,2012-02-22 03:01:04,1.73,,1,,"b""b' @cbrunsdon"," @trevorrowe and I paired on it a few weeks ago and were able to reproduce the issue. Trevor got enough information in the repro to do further investigation and fix. This was still an issue with aws-sdk 1.15.0 when we tested it.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,92,2012-02-22 03:01:04,12.72,,1,,"b""b' @trevorrowe For the record"," I believe the issue we ran into is a timeout when attempting to upload a zero-length file. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,93,2012-02-22 03:01:04,1266.58,,1,,"b'b"" Sorry for the silence.  I\'ve been out of the office for all but three days out of the last three weeks.  I wan\'t to give special thanks to @jonhyman for helping me reproduce the issue.  I will try to devote some time to this today.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,94,2012-02-22 03:01:04,985.95,,1,,"b""b' aws-sdk 1.18.0 and paperclip 3.5.1 still causes this issue.  Any update for us?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,95,2012-02-22 03:01:04,1369.35,,1,,"b'b\' Hi there... I\\\'m on Ubuntu 12.04 installed with VMWare Player. I have Ruby 2.0 and Rails 4 installed. I\\\'m using latest master branch. Paperclip 3.5.1 and aws-sdk 1.11.1. I\\\'m experiencing this ""execution timeout"" issue in my development environment.  I can save images to AWS in production but I can\\\'t do it in development. Any suggestions? UPDATE: I\\\'ve tried aws-sdk 1.18.0 and still same issue...\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,96,2012-02-22 03:01:04,921.12,1,,,"b'b"" Hi peeps... Can\'t decide on how to feel. I\'m a little bit angry for losing almost one month because of this issue. But at the other hand", I\'m happy because issue is resoleved. Do you know how? **_ALL was a DNS issue...**_ After me changing my virtual machines and physical OS\'s DNS settings to use Google DNS," everthing was FIXED!!!!!! I DON\'T know who is responsible of this situation? Is it my ISP provider? Who I have to be angry with?? Here is that regular Google DNS settings:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,97,2012-02-22 03:01:04,1376.82,,1,,"b'b"" @trevorrowe Were you ever able to fix this? I\'m going to attempt to update again starting tomorrow when you drop the nokogiri < 1.6.0 requirement but want to know if it\'s even worth attempting yet.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,98,2012-02-22 03:01:04,693.82,,,1,"b'b"" I have not taken a look at this in a while.  I went digging through my email", and I was unable to find the sample attachment processor you were using that was reproducing the bug.  If you can (re)send me that processor," I\'m hoping I can clear this bug out.  I have a good amount of time this week I could devote to the problem.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,99,2012-02-22 03:01:04,365.37,,1,,b'b\' Resent it to you. Sent from my mobile deviceOn Nov 19, 2013 3:13 AM,"Trevor Rowe"" notifications@ wrote:\''
paperclip	751	closed	100	kobekoto	2012-02-22 03:01:04	313.12			+1	b'b"" Are you on the latest version of the gem? Trevor is the man... I was able to resolve the same issue with his help by running :1. gem search aws-sdk via the command line -2. gem install aws-sdk.3. I ran bundle update afterwards, but I was still running  version 1.11.1 (in my case). I specified version \'1.26.0\' via (gem \'aws-sdk\', \'1.26.0\') in my Gemfile.4. Ran bundle once again... BOOM!  Hope that helps..""'
paperclip	751	closed	101	masterkain	2012-02-22 03:01:04	5.25		+1		b""b'   '",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,102,2012-02-22 03:01:04,1.57,,,1,b'b\' Just to update, I am currently (as in right now) working on this.  Intermittent request timeouts caused by latent network issues should be fixed.  The newer versions of the SDK retry these by default now. I am still tracking down the other issues.  Thanks to @jonhyman I now have a case I can reproduce locally.  I am tracking the issue down, but it appears to be an issue where objects are reporting an improper value when responding to  .  There are multiple scenarios I have been able to create that can cause this behavior. The reason older versions of the Ruby SDK are not affected is they don\\\'t ask the object for its size.  Instead it simply reads the object into memory and gets the bytesize from the actual data," which is always correct. Why does the #size matter so much? It is sent along to S3 as the Content-Length header.  S3 receives the full file and then waits for the ""rest"" based on the discrepancy between the actual file size and the value reported in Content-Length. In one of my examples", the FileAdapter indicates the file is 976 bytes, when the file on disk is actually 757 bytes.  The 757 bytes are read from disk and then S3 sits waiting for the additional bytes until it times out.  The discrepancy appears to creep in during post processing. I\\\'ll update this issue once the dust settles. \'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,103,2012-02-22 03:01:04,235.77,1,,,"b'b"" As mentioned above", I was able to reproduce the issue by attempting to upload an attachment that is processed.  In the example code I was given the issue can be tracked down to how a particular processor modified the file.  See the following made up example that produces the buggy behavior: Paperclip takes the result from the processor(s) and then wraps then in an IO adapter.  In this case, the FileAdapter is chosen.  This adapter creates a tempfile and would normally correct the size issue, except it does the following on line 15: Calling with a  object will use that objects attribute.  If this were changes to  , then the correct size would be found and then there would be no issue. I can not be certain, but I suspect other users experiencing this issue are running into similar issues.  One possible fix is to update to use instead of on any object that responds to  .  Essentially, the SDK is being bitten by trusting the attribute.  Secondly, a one-line patch to Paperclip::FileAdapter might potentially correct a number of processors that return bad Tempfiles. At this point," I\'m inclined to  both changes. Thoughts?""'",,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,104,2012-02-22 03:01:04,347.73,,1,,"b""b' Version 1.28.0 of the has been released.  I would appreciate users that have locked to an older version to give this a try. This release contains the fixes I detailed above.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,105,2012-02-22 03:01:04,980.52,,,1,"b""b' Works for me! Thanks"," @trevorrowe!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,106,2012-02-22 03:01:04,68.4,,1,,"b""b' @trevorrowe"," it appears that aws-sdk 1.28.0 has resolved the issue for me! (fingers crossed)  Thanks for all the hard work tracking down the #size issue.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,107,2012-02-22 03:01:04,1249.47,,,1,"b""b' With aws-sdk 1.10 i had this isuee. With aws-sdk 1.30.0 everything works fine.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,108,2012-02-22 03:01:04,162.95,,1,,"b'b"" I\'m running into this issue again with aws-sdk 1.31.0", paperclip 3.5.2.  My file encoding is set as binary. The issue occurs when doing any processing on a file that alters the file size from the original (as mentioned above)... in my case I have some TIFF files coming across with  (from Photoshop) that make RMagick barf, so I was stripping them in the validation process (where I have to do various operations with RMagick to ensure image files meet minimum standards). I have moved this process to the code that is creating the file (reading a remote file, writing a local file), and I no longer get this error... however, it seems to me that doing processing on a file that has already been read should not cause an S3 timeout error, as the file being pushed to S3 should be the one that Paperclip is already referencing," not the original.""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,109,2012-02-22 03:01:04,1132.37,,1,,"b'b"" I\'m seeing the same thing as jasonivers""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,110,2012-02-22 03:01:04,416.2,,1,,"b'b"" I looked at the code from the most recent referenced commit and fixed this issue (for me) by moving the path case to the bottom of the case statement in  (in the AWS-SDK gem).  I don\'t use AWS-SDK other than with Paperclip", so I have no idea what effect that will have on any other uses of the gem, but it did fix my issue (and seemed to make it faster to write," as well).""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,111,2012-02-22 03:01:04,1175.82,,1,,"b'b"" I\'m also seeing the same thing as jasonivers.  aws-sdk 1.35 and paperclip 3.5.2 Did you fork the aws-sdk gem"," or report the issue to them yet?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,112,2012-02-22 03:01:04,11.93,,,1,b'b\' I\\\'m also getting silent failures when ImageMagick is used to add a default background color to transparent png images. Works fine in development on my mac, but fails silently in Ubuntu on production. I\\\'ve confirmed each component works separately and that imagemagick is working in prod. I\\\'m assuming this is due to a inconsistent content length header as mentioned above," so I\\\'m going to tweak some settings in production and see if I can\\\'t confirm that it is entirely related to modifying the background transparency. Here\\\'s my config: And the only thing I see in my production log from the post: Parameters: {""utf8""=>""\\xe2\\x9c\\x93""","authenticity_token""=>""qvzQ2tQ9j8+qblf9/uK9SDUmluL6=","lender""=>{""avatar""=>#, @original_filename=""brain-1000.png"," @content_type="""""," @headers=""Content-Disposition: form-data; name=\\\\""lender[avatar]\\\\""; filename=\\\\""brain-1000.png\\\\""\\\\r\\\\nContent-Type: \\\\r\\\\n"">}","commit""=>""Update","id""=>""516f6af9673faae398000001""}I, [2014-05-05T15:15:56.997854 #20467]  INFO -: [AWS S3 200 0.163364 0 retries] head_object(:bucket_name=>""p2bi",":key=>"""")  I"," [2014-05-05T15:15:57.012470 #20467]  INFO -: [AWS S3 200 0.012739 0 retries] head_object(:bucket_name=>""p2bi""",":key=>"""")  I"," [2014-05-05T15:15:57.025596 #20467]  INFO -: [AWS S3 200 0.011673 0 retries] head_object(:bucket_name=>""p2bi""",":key=>"""")  I"," [2014-05-05T15:15:57.039060 #20467]  INFO -: [AWS S3 200 0.012135 0 retries] head_object(:bucket_name=>""p2bi""",":key=>"""") \''",,,,,,,,,,,,,,,
paperclip,751,closed,113,2012-02-22 03:01:04,5.22,1,,,"b'b"" Removing by itself doesn\'t solve anything"," so I\'m apt to believe imagemagick isn\'t to blame. Also worth noting that I\'ve tried various file types and all work on development and none change the result in production.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,114,2012-02-22 03:01:04,50.77,,,1,"b'b"" Hi everybody! Is this still an issue for you in Paperclip; I know this issue is from approximately 3 years ago. If it is still an issue"," can you please provide the code that\'s causing you the error? Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,115,2012-02-22 03:01:04,36.18,,,1,"b""b' it is no longer an issue for me", thanks! On Mon, Mar 9, 2015 at 2:56 PM," Jon Moss notifications@ wrote:'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,116,2012-02-22 03:01:04,0.33,,1,,"b'b"" I remember this issue from so long ago. I never quite identified it but I haven\'t seen it an awhile. (We are on AWS-SDK 1.27.0) Some of the people here may be reporting this issue when the file is read by another process before Paperclip processes the styles. In those cases", the fix is to reset the read head of the file using the rewind method on Ruby\'s File I/O object url  But I do think that not all cases of the symptom involve that," only some of them.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,117,2012-02-22 03:01:04,11.02,,1,,"b""b' @jferris @jyurek Please close issue"," problem appears to be solved.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,closed,2015-03-26 18:43:57,1369.53,16,64,39,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,118,2012-02-22 03:01:04,1166.55,,1,,"b""b' @maclover7  I have actually this issue I am using  how I can solve it ?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,119,2012-02-22 03:01:04,1341.52,,1,,"b""b' I have the save error. It seems to need another downgrade. Any help?  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,120,2012-02-22 03:01:04,370.28,,,1,"b""b' @murilosardinha I found that the problem is because  **the difference between the request time and the current time is too large** so verify if your machine time (especially date) is correct. PS : for every one who use Amazon S3 be sure to backup your content somewhere else than amazon (they could close your account at any time without any reason and then if you try to contact them they never respond)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,751,closed,-,-,-,16,66,40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,opened,2012-03-10 17:58:12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,title,2012-03-10 17:58:12,00:00,,1,,"b""b' paperclip_fixture does not work in Factories'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,body,2012-03-10 17:58:12,00:00,,1,,b'b\' # Setup I am using Rspec with following gems.Rails 3.0.1Paperclip 2.7.0factory_girl (2.6.3)factory_girl_rails (1.7.0)rspec (2.8.0)# Issue I am trying to follow the example in the documentation:  #  :band_with_demo_tape," :parent =  #  { (""band""",demo_tape,"png"") }  # end  def paperclip_fixture(model, attachment, extension) I am trying to use this to add some UT\\\'s, but I have not been successful. How do I use it correctly?### My Code#### Spec Helper Here is a simplified version:  #### Factories  #### Test When I try to build the model in an rspec test, for example:  @user = (:user_with_photo)#, :user =I get the following stack:  \''
paperclip	778	closed	1	Sporky023	2012-03-10 17:58:12	1421.53			+1	b""b' 505aaron, can you show us the code of your user_model_?  Thanks Also, as an aside, the convention is for that file to be called user_'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,2,2012-03-10 17:58:12,965.85,,1,,"b""b' I am also unable to get working with factory girl: **** **** **Error** I have tried it with and in the RSpec config blog", and in the Cucumber configuration," but neither of those should be necessary since the file itself does that.rails 3.2.2factory_girl 2.6.4paperclip 2.7.0rspec 2.9.0cucumber 1.1.9'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,3,2012-03-10 17:58:12,341.5,,1,,"b""b' This is affecting me as well.  My : url  edit: i used the recommended spec_helper lines as well...'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,4,2012-03-10 17:58:12,386.1,,1,,"b""b' I had the same problem", switched to but now is broken as well," see #807'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,5,2012-03-10 17:58:12,1330.0,,1,,"b""b' This should have been fixed. If not"," please let me know so I can reopen.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,closed,2012-04-25 20:03:11,124.98,0,6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,6,2012-03-10 17:58:12,227.13,,1,,"b""b' Just ran  and and got the exact same error as bricker88 with the same setup '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,7,2012-03-10 17:58:12,0.6,,1,,"b""b' Using instead for now'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,reopened,2012-08-06 23:58:36,235.42,0,8,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,8,2012-03-10 17:58:12,7.77,,1,,"b""b' Reopen ~'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,9,2012-03-10 17:58:12,995.15,,1,,"b""b' +1 on branch v3.2'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,10,2012-03-10 17:58:12,133.0,,,1,"b'b"" So", two things to point out here: One is that is part of the shoulda_matchers included with paperclip, so if you\'re not using shoulda-matchers, then you\'ll have to load the file manually. And, two, the documentation for the method specifically calls out using it with cucumber: ... which I notice many here aren\'t doing. I\'m totally fine with getting something working for you guys," but just wanted to make sure expectations were framed.""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,11,2012-03-10 17:58:12,72.2,,,1,"b""b' So"," where are we here? Can we use paperclip_fixture with Factory_Girl or not? Thanks for your time :+1: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,12,2012-03-10 17:58:12,1284.1,,1,,"b""b' Same question as @ResidentBio can we actually use this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,13,2012-03-10 17:58:12,739.77,,1,,"b""b' same question as @ResidentBio"," too. Can we use paperclip_fixture now?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,14,2012-03-10 17:58:12,329.12,,1,,"b""b'   is not working Just check on that. Last commit was in 2009...url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,15,2012-03-10 17:58:12,584.8,,,1,"b'b"" Hi @505aaron and @ResidentBio ! Is this still an issue for you in Paperclip; I know this issue is from approximately 3 years ago. If it is still an issue"," can you please provide the code that\'s causing you the error? Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,16,2012-03-10 17:58:12,1279.4,,,1,"b'b"" If we can\'t replicate the error (and there\'s no activity around this issue)", I hope things are working well now for you. I\\xe2\\x80\\x99ll close the issue," happy to continue further discussion if we can find the problem and potential fix for it. Thanks for your input!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,closed,2015-05-09 18:16:13,1097.62,0,13,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,778,closed,-,-,-,0,13,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,opened,2012-03-26 19:24:23,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,title,2012-03-26 19:24:23,00:00,,1,,"b""b' How to retrieve image dimensions?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,body,2012-03-26 19:24:23,00:00,,1,,"b""b' Is it possible somehow to retrieve the dimensions of a thumbnail generated by Paperclip? For example it would be useful to have something like this-'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,1,2012-03-26 19:24:23,1021.53,,1,,"b'b"" I don\'t know about within Paperclip"," but outside Paperclip you could try [Dimensions]url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,2,2012-03-26 19:24:23,240.67,,1,,"b""b'  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,3,2012-03-26 19:24:23,240.02,,1,,"b'b"" You\'ll be able to do  and in Paperclip 3.0.1.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,closed,2012-03-30 20:26:37,62.23,0,5,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,4,2012-03-26 19:24:23,3.28,,1,,"b'b"" Don\'t these calls download the file in order to run the geometry calculations? If so", this is expensive and impractical," which is why I personally do it once on a before_save.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,5,2012-03-26 19:24:23,1.87,,,1,"b'b"" Yep", you can. I\'d love to take a pull request for a magic  /  attribute too," but this is a cheap (easy to implement) solution when your attachment is already saved.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,6,2012-03-26 19:24:23,2.58,,1,,"b'b"" I wouldn\'t suggest anyone who\'s using s3 use those methods. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,7,2012-03-26 19:24:23,20.98,,,1,"b'b"" Yeah", and there\'s no way to get that attachment metadata without fetching the file down anyway after you\'ve saved it. :) That code is broken anyway," so I\'m reverting it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,reopened,2012-03-30 20:55:22,28.75,0,7,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,8,2012-03-26 19:24:23,1322.52,,1,,"b""b' Checkout url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,9,2012-03-26 19:24:23,5.95,,1,,"b""b' I think i am going to merge #835 into 3.1"," so closing this. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,closed,2012-04-25 19:03:47,1328.42,0,9,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,790,closed,-,-,-,0,9,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,opened,2012-04-01 03:23:48,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,title,2012-04-01 03:23:48,00:00,,1,,"b""b' rake paperclip:refresh failing with No such Key'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,body,2012-04-01 03:23:48,00:00,,,1,"b'b"" I\'m running: rake paperclip:refresh class=Challenge verbose Half of my assets are correctly refreshed", but something happens in the middle of the refreshing," and results in this error: rake aborted!No Such Key Tasks: TOP =(See full trace by running task with trace)bundle exec rake paperclip:refresh class=Challenge verbose  25.76s user 3.62s system 61% cpu 47.953 total Assets are on amazon s3ruby 1.9.2rails 3.2.0paperclip (2.7.0)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,1,2012-04-01 03:23:48,6.62,,1,,"b""b'   has_attached_file :image",  :storage =  :bucket =  :s3_credentials =  :access_key_id =  :secret_access_key =  },"  :default_image =  :path =  :styles ='""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,2,2012-04-01 03:23:48,1055.23,,1,,"b""b' What happens with you run with  ? Also"," have you tried the latest version of Paperclip instead of 2.7.0?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,3,2012-04-01 03:23:48,153.25,,1,,"b'b"" Here is the trace: I am using this version because I have another error with the current version of paperclip. I don\'t remember which one but its related with S\\xc3\\xa3o Paulo s3 region of aws. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,4,2012-04-01 03:23:48,1090.2,,1,,"b'b"" Hmm .. it\'s kinda hard for me to debug this as well", as normally this would mean there\'s some inconsistency between the database and S3, as we can\'t resolve the path to the file (i.e. file was missing.) I\'m pushing this one to target 3.1," because I think the rake task need to be rewritten and unit-tested. I\'ll make sure that it fails silently with a nice error message when something is wrong.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,5,2012-04-01 03:23:48,755.87,1,,,"b""b' OK. Sorry for such a late response. I have switched to another project", and using a new combination of paperclip and rails where it does not happening anymore.  Thanks for your effort guys :-)," I guess its it for now. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,closed,2012-05-11 06:24:58,181.17,1,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,6,2012-04-01 03:23:48,888.5,1,,,"b""b' @Fabs This happens when the aws-sdk gem cannot find the file (the key) To debug:1. edit /-1.9.2-p0/-sdk-1.3.9/2. output the bucket and key (around line 706): The read method should look like this:  1. Check if the file exists"," if not created it. @sikachu Graceful messages will help.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,reopened,2012-05-18 21:15:27,890.48,2,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,7,2012-04-01 03:23:48,2.38,,,1,"b'b"" Totally. I didn\'t see that this one was closed \\xe2\\x80\\x94 still want to output a good debug information for 3.1""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,8,2012-04-01 03:23:48,232.22,1,,,"b""b' Thanks @gosuri. Sorry @sikachu "," I misunderstood your last comment and thought I was the one holding it open. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,9,2012-04-01 03:23:48,12.12,,1,,"b""b' No problem. :D'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,10,2012-04-01 03:23:48,845.12,,1,,"b""b' Closing this since #1260 includes a better Exception handling.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,closed,2013-07-26 15:25:20,1089.88,3,7,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,808,closed,-,-,-,3,7,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,opened,2012-04-07 18:24:59,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,title,2012-04-07 18:24:59,00:00,,1,,"b""b' AWS::S3::Errors::SignatureDoesNotMatch'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,body,2012-04-07 18:24:59,00:00,1,,,"b'b"" I\'m migrating my app from Rails 3.0.9 to 3.2.3 / ruby 1.9.3. I was using paperclip(2.3.11) with aws-s3 gem to store my pictures. Now I want to use the last version of paperclip(3.0.1) with aws-sdk gem. When trying to upload a file", I get the error:   It\'s creating the original style image on the S3 bucket, but not the other styles. Here is also what I get from console:  A downgrade to paperclip 3.0.0 solved the problem. That made me think that it can be a paperclip issue ? :s So I write here :) I\'ve set my  file as: my model contains : I\'ll stick to 3.0.0, then it\'s not a prior problem to me. But if I can help you, don\'t hesitate to ask me information if you think it\'s a paperclip issue.  Today," I\'m not able to launch tests as... I don\'t know how :/ But I could try! Issue happened with:  Ruby 1.9.3p125Rails 3.2.3ImageMagick 6.6.9-4paperclip 3.0.1aws-sdk 1.3.9nokogiri 1.4.7 Thx a lot for your job!""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,1,2012-04-07 18:24:59,207.43,,1,,"b""b' I had this same issue this afternoon after upgrading. Downgrading to 3.0.0 worked for me. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,2,2012-04-07 18:24:59,903.43,,1,,"b""b' Hi guys"," Did Paperclip 3.0.2 solve this problem for you? I think this is related to the binary file open.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,3,2012-04-07 18:24:59,92.77,,1,,"b""b' I was on master 6 days ago when it was failing (had to be on master because I fell victim to the Rack::Test::UploadedFile problem). Do you think a commit in the last few days has fixed it? I can give it a shot .'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,4,2012-04-07 18:24:59,3.53,,1,,"b'b"" Do you mind giving me the ref you\'re pointing to? (in your )""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,5,2012-04-07 18:24:59,1.12,,,1,"b""b' Good call. I reverted from a2a4c7a1355c758dff2012d13cb1d2df6b4bc73d'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,6,2012-04-07 18:24:59,226.5,1,,,"b'b"" Hi",  By my side," the 3.0.2 version didn\'t fix the problem. :(""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,7,2012-04-07 18:24:59,126.32,,,1,"b'b"" Hey guys", I\'ve been trying to replicate your problems on my side for a while, using the newly generated app with Paperclip from current master. I can\'t really replicate the problem, and not sure what caused the issue. So, looking from the configuration, are you guys both using the EU bucket? Did you guys set the host value in your configuration? I really would like to resolve this problem for you guys. Do you mind creating a app that replicate the problem? Also, the new version of was released as well," so you might want to try it to see if it fixes your problem. Thank you for your patience.""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,8,2012-04-07 18:24:59,1094.58,,1,,"b""b' My configuration is simply this. My buckets are all in the US Standard region (US-EAST-1"," I believe). I am on aws-sdk 1.3.9. What host value should I try configuring?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,9,2012-04-07 18:24:59,1.1,,,1,"b""b' Hmm ... if your bucket is in US"," you should be fine. I was testing against US-East bucket as well.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,10,2012-04-07 18:24:59,220.97,,1,,"b""b' The same issue started popping up for me today.  I get validation errors if I fall back to 3.0.0.  Anyone have a solution for this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,11,2012-04-07 18:24:59,28.1,1,,,"b""b' The following fails for me unless I remove the line marked with OFFENDING LINE in the comment: VALID_CONTENT_TYPES = %w( )  has_attached_file :logo",   :styles =  :storage =  :s3_credentials =  :path =  validates_attachment_content_type :logo," :content_type =I hope this helps find the error.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,12,2012-04-07 18:24:59,411.83,,1,,"b'b"" Fwiw", I am experience this problem as well. I tried v3.0.0 but it ddn\'t work locally (my Mac). When I went to 3.0.2, the problem went away locally, but when I pushed to Heroku, the error came back. I cannot remove my :styles directive as it is rather complex and important to how we use S3. I am at a loss as to what to try next. Hopefully," some solution will become apparent! :-)""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,13,2012-04-07 18:24:59,558.43,,,1,"b'b"" In a final act of desperation (it was late :-) ) I heeded a warning in the readme that using the master branch as the gem source", rather than a released version, might resolve issues.... so I tried it, and it worked! That doesn\'t leave me with a really warm feeling because for a production system I\'d rather not rely on a bleeding edge repo, but that\'s the nature of this ecosystem," isn\'t it? :-) The issue noted in the above link (a fork of paperclip) addresses something which may or may not be part of this repo... I have not yet culled the most recent commits for it.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,14,2012-04-07 18:24:59,823.68,,,1,"b""b' Hello"," I think I encountered the same issue (as far as I understand) and managed to get everything to work perfectly fixing the following line url  I found the  in here url  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,15,2012-04-07 18:24:59,1219.53,,,1,"b'b"" @granoff", we try to release regularly (bi-weekly, actually), so if master works for you now it should be in a released version soon. @garyharan, does master solve the problem for you as well? @NicoArbogast, that\'s great that that solves the problem. Do you happen to have a test for that change," though? I\'d have to assume not since we had such a hard time even reproducing the problem.""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,16,2012-04-07 18:24:59,822.45,1,,,"b'b"" Hi"," I am sorry I don\'t have any test for that change. It was an issue I encountered only on my prod env. I tried the patch following the discussion here url  and it worked. I\'m sorry I did not have time to dig deeper into this issue. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,17,2012-04-07 18:24:59,333.57,,1,,"b""b' Oh", I think I can see this problem on *nix system. Let me check if we have covered it. So," the reason is that using command in Linux would return this: We need to strip that  .'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,18,2012-04-07 18:24:59,2.13,,1,,"b'b"" The only place I had the issue was on my staging server and right now I have users testing it so I won\'t be able to check until tomorrow.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,19,2012-04-07 18:24:59,3.8,,1,,"b""b' No worries"," i can reprod now.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,20,2012-04-07 18:24:59,45.88,,1,,"b'b"" I\'ve add a test to prevent regression in 3d814fb3942f1f23a85105acb4ebbcc89abefb2d. 3.0.3 will go out soon.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,closed,2012-04-24 17:12:09,1367.17,4,12,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,21,2012-04-07 18:24:59,579.22,,1,,"b'b"" The patch @NicoArbogast recommended works for me", but it doesn\'t look like it is included in 3.03 or 3.04," I had to use his repo or download the gem and apply the fix myself.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,reopened,2012-06-02 02:55:30,583.35,4,13,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,22,2012-04-07 18:24:59,4.32,,1,,"b'b"" Reopen this. I\'m going to have a look at this one.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,23,2012-04-07 18:24:59,1151.5,,,1,"b'b"" @jpadvo I\'ve tried to reproduce this and still unable to. I\'ve also added a test case to make sure that we have stripped newline character from file content type. Can I have more information from you?What\'s the OS are you using?What version of command ( )Can you test this command against a file in your directory"," and post me the result? Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,24,2012-04-07 18:24:59,75.48,,,1,"b'b"" Sure", thanks for looking into it! I\'m using OS X Lion. Output of the first command: ...and the second," on two different formats of image file:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,25,2012-04-07 18:24:59,1077.63,,,1,"b'b"" Hrm... did this ever get fixed?  I\'ve upgraded one of our apps to Rails 3.2 and have been running into this error with S3 on both heroku", and locally on my Mac.  I followed the stacktrace to this line in paperclip: url  Where I logged the value of and see that it is: Changing the linked line from paperclip\'s gem to: Fixes the problem for me.  Looking above at this issue it seems like people had already pinpointed the source of the problem (content_type was getting a newline character)," is there a specific reason it was never fixed in paperclip\'s  code?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,26,2012-04-07 18:24:59,191.43,,1,,"b'b"" After further exploration I\'ve narrowed the root of the problem to this: url  Where that variable is:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,27,2012-04-07 18:24:59,1183.27,,,1,"b'b"" Hmm.  We have two versions of file upload:  One of them sends the file to another one of our apps via (something like that)", and then _that_ core app handles the upload with paperclip, and that is the one that was getting the carriage return appended to  .  This was fixed by pointing the paperclip gem to my fork (with the fix above).  We upgraded another of our apps which also does uploads, but does them right in the app (not sending them to the core service like the first app).  I forgot to upgrade the gem to point to my fork but it appears to be working just fine.  They both send to S3," and they both use the same S3 credentials and such. Maybe it\'s the version of the file that\'s getting a newline added at some time during the process.  Curious.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,closed,2012-09-07 15:14:44,739.23,4,15,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,817,closed,-,-,-,4,15,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,opened,2012-04-14 19:50:26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,title,2012-04-14 19:50:26,00:00,,,1,"b""b' Fix ! when using a remote files provider (Fog & S3)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,body,2012-04-14 19:50:26,00:00,,,1,"b""b' See issue url  Thanks :) Sebastien'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,1,2012-04-14 19:50:26,247.85,,1,,"b""b' Just hit the same bug.  Deploying this to our staging server; will let you know how it goes.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,2,2012-04-14 19:50:26,16.63,,1,,"b'b"" Hm", still getting the same crash," but it looks so close to your  ideas?  Here\'s the full stack trace:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,3,2012-04-14 19:50:26,4.85,,1,,b'b\' Ah, I see it," now.  I\\\'m not using this ""fog"" thing you\\\'re using", so my \\\'src\\\' object doesn\\\'t respond_to that method you added.  Ugh...\'',,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,4,2012-04-14 19:50:26,4.25,,1,,"b""b' Yes"," it only applies to the fog storage for the moment because I use S3 through Fog.What storage do you use? Native S3?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,5,2012-04-14 19:50:26,5.15,1,,,"b""b' Yeah"," we just threw the S3 creds straight into paperclip.  Bad move?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,6,2012-04-14 19:50:26,109.5,,,1,"b'b"" No", it\'s ok. I preferred using Fog because it\'s more flexible and supports other services than Amazon S3.I just pushed the fix for the native S3 provider (aws-sdk)," this version should work for you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,7,2012-04-14 19:50:26,13.57,,,1,"b'b"" Great"," I\'ll give it a whirl.  Thanks so much!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,8,2012-04-14 19:50:26,1032.73,,1,,"b""b' Improved the code and added a test to  : **Before the patch:** **After the patch:** Note that I did not fix the test here"," it is no regression since it already failed in 3.0.2 official release.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,9,2012-04-14 19:50:26,126.53,,,1,"b'b"" You\'re welcome Aaron.Tell me if everything goes fine on your side.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,10,2012-04-14 19:50:26,1291.32,,,1,"b'b"" Thanks for the patch @sguignot! To be honest", I\'m usually pretty reluctant to reintroduce stuff like this that I just took out," but considering the problems its caused I guess I\'ll have to. I\'ll take a look at this tonight and get it merged in.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,11,2012-04-14 19:50:26,15.72,,1,,"b'b\' @jyurek Not really sure what stuff you took out or why you\\\'re ""reluctant"" to reintroduce it", but S3 support is massively broken on HEAD. If you don\\\'t test on / support S3 I need to know so I can move to another library.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,12,2012-04-14 19:50:26,1310.88,1,,,"b'b"" @agraves: Basically", this code in question is some I just pulled out in a big refactoring in order to clean up the codebase. Obviously, I broke functionality in the process, and that\'s not good, but this fix is more like a band-aid. I would have preferred to get a better, more permanent fix in there," but that\'s not going to happen in a timeframe reasonable for people using the project. S3 is definitely something we use all the time and want it to perform as well as any other storage mechanism. @sikachu is in the process of pulling this in now. Sorry for the delay.""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,13,2012-04-14 19:50:26,63.25,,,1,"b""b' This has been merged in 9d1355b5ea8a0fbc999f52ebe477444a789bfbfc'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,closed,2012-04-17 18:32:40,1362.23,2,6,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,14,2012-04-14 19:50:26,80.35,,,1,"b'b"" Thanks guys. These recent breakages have been very concerning. We\'re actually still running 2.4.1 in production because there have been so many issues with new gem versions"," though I\'m hoping 3.0.3 (ETA?) will be the golden child.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,15,2012-04-14 19:50:26,962.33,,,1,"b'b"" Thanks for the quick merge @sikachu :) @jyurek: it\'s definitely a quick patch I did to get the thing working for me (fog) and then for @agraves (s3)", thus let me know if I can give you a hand to improve the whole thing. For example, I tried another patch to improve the speed of the paperclip:refresh when the original image has no style: in this case I skip uploading the originals (w/o change). I didn\'t pull this patch yet because it broke a lot of tests (using :original as a style). Again," thanks guys for your work on Paperclip!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,16,2012-04-14 19:50:26,98.65,,1,,"b'b"" It doesn\'t work as it did in 2.3.11. I have a system that uploads an original image first and cancel post-processing and queue the post-processing job using resque and reprocess it with a worker in another system. But it fails with the errors below with 3.0.3. It seems to fail when it downloads the original file and doesn\'t use the downloaded file and look for the files on s3"," which don\'t exist in my case. (There is no processed image file since I canceled the post-processing after uploading the original image and queue the processing using resque.)  Please refer to this: url  Rails 3.2.3 / Ruby 1.9.3-p125 / Paperclip 3.0.3 (9d1355b) ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,17,2012-04-14 19:50:26,1004.58,,1,,"b'b"" While 3.0.3 fixes the issue of not being able to find the file as others mentioned above"," I now get the following: NoMethodError: undefined method  summarize_hash\' This is caused by a missing Ruby 1.9 String function. I have created pull request #863 with a fix to unblock this for Ruby version <1.9 users.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,18,2012-04-14 19:50:26,127.35,,,1,"b'b"" I\'m still experiencing this issue with the latest source (and latest aws-sdk gem). Whenever I try to reprocess an image", I get this: This is breaking both newly uploaded images and existing ones. If I try to reprocess an existing image that has previously generated thumbnails," it wipes out those thumbnails and just keeps the original image. Any help would be sincerely appreciated -this is causing a pretty big problem for me.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,19,2012-04-14 19:50:26,79.03,,1,,"b""b' I should mention that my setup is extremely similar to @EpicDraws and uses Resque"," which makes me think the issue relates to #578 (this issue popped up for me after upgrading from 2.3.11).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,20,2012-04-14 19:50:26,1327.93,,1,,"b'b"" Hi", We\'re also having this issue: We\'re not using Fog, just aws-sdk," paperclip and paperclip-aws.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,21,2012-04-14 19:50:26,855.73,1,,,"b'b"" @krasio this is weird because your callstack does not take the S3 exec path"," actually should be executed instead of since S3 files are remote. Put a breakpoint in and check why fails:   should include and define the method  .And you should get log as @gorman : You can see code here: url url  Note that I have not tested the latest versions of paperclip yet and that I\'m still using my S3/Fog patch with the following line on my Gemfile:  Let me know if you have further information or new test results.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,22,2012-04-14 19:50:26,7.33,,1,,"b'b\' @gorman do you use a separate worker process to postprocess your paperclip attachments like @nextofsearch ?My quick S3 patch was developed and tested with the ""default"" pipeline: a single job for paperclip upload and postprocessing. If you do not use a single job like me", you will have to dig into this issue with your config until the paperclip authors have a look at it.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,23,2012-04-14 19:50:26,701.47,,,1,"b'b"" @sguignot Thanks for pointing this. We  use paperclip-aws gem so in our case includes instead of and that\'s why it doesn\'t respond to  . I\'ll fork paperclip-aws gem and fix it there.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,24,2012-04-14 19:50:26,312.85,,1,,"b""b' I am still suffering from the same issue. Rails 3.2.12 / Ruby 1.9.3p194 / paperclip (3.4.1 62264c6)  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,25,2012-04-14 19:50:26,999.0,,1,,"b""b' @sikachu Can you please take a look at this and reopen this ticket?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,26,2012-04-14 19:50:26,760.15,,,1,"b""b' I believe I am having a similar issue. I am using paperclip (3.4.1)", fog," and uploading to Rackspace CloudFiles. Regular peperclip use seems fine  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,27,2012-04-14 19:50:26,6.87,,1,,"b""b' This is an issue using aws-sdk (S3) on version 3.4.2. Getting  Avatar Paperclip::Errors::NotIdentifiedByImageMagickError whenever I run rake paperclip:refresh. Can this be re-opened please?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,28,2012-04-14 19:50:26,996.18,,1,,"b'b"" Considering the age difference in the original bug and this", I\'m going to assume it\'s a new problem," but I\'ll reopen the ticket until we can research and see for sure.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,reopened,2013-06-04 13:12:29,1119.82,3,15,12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,29,2012-04-14 19:50:26,401.32,,1,,"b'b"" I am also still having this issue. I can\'t reprocess attachments hosted on AWS S3. I followed this RailsCast: url  and now my attachments disappear after the reprocessing. Note: I have made the following change to the RailsCast  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,30,2012-04-14 19:50:26,1290.58,,1,,"b""b' This might be fixed on master? 5a06d85097c325905cd16b13c04d1d3e9d7ec0d9'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,31,2012-04-14 19:50:26,211.0,,,1,"b'b"" As @aripollak mentioned", there was a problem with reprocess on S3 that would cause files to go missing. This was smoothed over a bit, and it would be really good of you who\'ve had problems to try again. But when you do, please open a new ticket, as this one is old and probably references a different error. Thanks," all.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,closed,2014-01-03 20:55:23,462.9,3,17,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,827,closed,-,-,-,3,17,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,opened,2012-04-21 23:47:29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,title,2012-04-21 23:47:29,00:00,,1,,"b""b' Add expiring_url next to public_url to Fog Storage for S3'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,body,2012-04-21 23:47:29,00:00,,,1,"b""b' This pull request adds expiring_url to the Fog Storage module in the same way that it is used in the original aws-sdk S3 model. It adds the expiring_url method with tests and it refactors a bit of code for the dynamic hostname and subdomain recognition.  Also: I had a bit of trouble of finding out the structure of fog_ so please let me know if I modified and added my tests accordingly. Of course: any feedback on coding style"," method names or other stuff much appreciated!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,1,2012-04-21 23:47:29,1176.23,1,,,"b'b"" This is something I\'d pull in", but it doesn\'t seem to be raking green at the moment. It\'s complaining about the method," which is odd. Is it green for you?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,2,2012-04-21 23:47:29,765.6,,1,,"b""b' The test should fail on the context where the bucket name is a valid subdomain as per the Fog pull request. However"," everything else should be green. Can you show me the failing test?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,3,2012-04-21 23:47:29,90.5,,1,,"b""b' Ah. I see now. It appears that fog 0.9.0 does not contain this method yet. Fog 1.3.1 is the latest version. However"," fog Any ways of resolving this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,4,2012-04-21 23:47:29,10.92,,1,,"b""b' Ok", found it. The newer aws-sdk gem (1.4.1) will run on the newer nokorigi," which makes it able to update fog. Commited changes with updated gemspec. Now there should be two tests failing. I can correct them to pass on the currently bugged version of fog.  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,5,2012-04-21 23:47:29,270.23,,,1,"b'b"" I\'ve updated the dependency. Can you rebase your changes", squash your commit," and force push to your branch? Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,6,2012-04-21 23:47:29,226.62,,1,,"b""b' Done! This should work. Let me know if you want the commit message changed or like more details in it.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,7,2012-04-21 23:47:29,377.72,,,1,"b'b"" This is looking good. I\'ll hold off for 3.1 release soon.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,8,2012-04-21 23:47:29,421.07,,,1,"b""b' Awesome! Thank you very much.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,9,2012-04-21 23:47:29,509.53,,1,,"b""b' @michiels", with updated dependencies," does this rake green for you? I get two failures still.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,10,2012-04-21 23:47:29,22.42,,,1,"b""b' Yes they are the failing tests that will pass when a new gem release of fog comes out.  If you like"," I can fix the tests so they will pass on the current bug in fog! Op 26 apr. 2012 om 17:55 heeft Jon Yurekreply@ het volgende geschreven:'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,11,2012-04-21 23:47:29,57.33,,,1,"b""b' Release the hostage!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,12,2012-04-21 23:47:29,1356.6,,1,,"b'b"" There hasn\'t been a release of fog since March 27", and this PR was last updated in April. I\'m not going to tie a version of Paperclip to an unreleased version of fog, so if this needs to be backported to use earlier versions of fog," I\'ll pull it in when that\'s done.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,13,2012-04-21 23:47:29,1054.67,,1,,"b'b"" I can modify the tests so it passes on the current version of Fog. I don\'t believer this problem was ever solved in the history of Fog releases. Is this an idea?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,14,2012-04-21 23:47:29,40.85,,1,,"b'b"" Let\'s get this working on released gems"," then change it when newer versions of those gems come out.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,15,2012-04-21 23:47:29,392.9,,1,,"b""b' Just added a commit that passes on the current state of Fog 1.3.1.  When a new fog gem gets released", these tests will fail. So," I added comments around the important code parts might anyone stumble upon it. I will monitor myself as well.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,16,2012-04-21 23:47:29,1381.55,,,1,"b""b' This has been merged into master. Thank you.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,closed,2012-06-15 15:42:13,954.73,1,10,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,17,2012-04-21 23:47:29,49.2,,,1,"b""b' Awesome. Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,18,2012-04-21 23:47:29,1073.92,,,1,"b'b"" Seems Fog 1.4.0 released! Will probably break these tests when paperclip is going to be updated against Fog 1.4.0 so I\'ll put in another pull request for fixing ze tests.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,19,2012-04-21 23:47:29,5.32,,1,,b'b\' I think this has a bug. The time is relative to epoch," not relative to now. So the default value of 3600 expires the url ""1970-01-01T01:00:00Z"" (quoted from AWS response).\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,reopened,2012-06-29 08:21:24,999.18,1,11,9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,20,2012-04-21 23:47:29,1310.8,,1,,"b""b' Indeed"," these tests are now broken.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,21,2012-04-21 23:47:29,401.15,,1,,"b""b' Will try to get them working this weekend. Do I send a new pull request or force push new updates to this one?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,22,2012-04-21 23:47:29,9.92,,1,,"b""b' Force push to this branch", and add a comment here," please.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,23,2012-04-21 23:47:29,1288.32,,1,,"b""b' This pull request [passes]url  (merged bd6b0833 into 029fe02f).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,24,2012-04-21 23:47:29,10.67,,1,,"b""b' This pull request [passes]url  (merged ea964fc5 into 029fe02f).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,25,2012-04-21 23:47:29,1.08,,1,,"b'b"" Ok. Added 2 rebased commits for the new Fog release and to fix the expiring timestamps. Raking green for me and Travis seems to like it as well.  Tested on a personal project and works too with correct S3 subdomain URLs. Let me know if there\'s something to improve.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,26,2012-04-21 23:47:29,333.07,,1,,"b""b' This pull request [fails]url  (merged 68f0a000 into 813c8c8f).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,27,2012-04-21 23:47:29,817.6,,1,,"b""b' Anyone up for reviewing this? Should all work now.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,28,2012-04-21 23:47:29,29.28,,,1,"b""b' Merged"," thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,closed,2012-07-16 08:32:32,11.13,1,19,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,29,2012-04-21 23:47:29,48.05,,,1,"b""b' Awesome! Thanks. _updates Gemfiles to upstream_'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,837,closed,-,-,-,1,19,11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,opened,2012-04-22 17:53:12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,title,2012-04-22 17:53:12,00:00,,1,,"b""b' IO_Adapter methods and rewind before saving to S3'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,body,2012-04-22 17:53:12,00:00,,1,,"b""b' I recently updated a project and needed to add missing methods on the new FileAdapter (readbyte"," readchar). Also I was using paperclip-aws and migrated to paperclip that switched to aws-sdk. But having a post_processors that extract informations from attachment make them unreadable on S3 cause of the missing rewind before write to S3 (as paperclip-aws does).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,1,2012-04-22 17:53:12,1231.97,,,1,"b""b' I understand that this is missing. However"," do you mind implementing the test for them as well? Thank you.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,2,2012-04-22 17:53:12,0.95,,1,,"b""b' sure ;)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,3,2012-04-22 17:53:12,242.45,,1,,"b'b"" May I ask what you need these methods for? I don\'t really want to proxy a bunch of methods to Tempfile", and if there\'s a way you can accomplish your task without them," that would be preferred.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,closed,2012-04-24 09:43:47,950.58,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,reopened,2012-04-24 09:43:52,0.08,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,4,2012-04-22 17:53:12,915.35,,1,,"b""b' I am using exifr to extract some data about the picture in post_process and it needs .'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,5,2012-04-22 17:53:12,270.1,,1,,"b""b' I was wondering why rewind had been removed for s3 in the latest versions. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,6,2012-04-22 17:53:12,118.62,,,1,"b'b"" @fjg", I assume you have the files locally, or you wouldn\'t be looking to add these methods to the FileAdapter. Is it possible for you to hand those files to exifr manually, without the Adapter intervening? The call can be merged in, though I would like to see a test for it that confirms the functionality. @fjg, can you resubmit this pull request preferably with a test, but even if not," can you submit it with just the commit and not the commit? I\'ll close this one for now. Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,closed,2012-04-24 16:12:38,388.77,0,6,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,7,2012-04-22 17:53:12,124.4,,1,,"b""b' @jyurek Actually using the attachment during a post_process is easier through the [:original] method. The file is already open and readable. I would not like to open it again and read it through . Does it make no sense? OK for the test and pull-request again'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,8,2012-04-22 17:53:12,924.15,,1,,"b""b' @jyurek @sikachu the rewind was already there. The merge introducing the IO_Adapter removed it url  Here is the previous commit with a test that you can merge again: url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,9,2012-04-22 17:53:12,930.05,,1,,"b""b' @jyurek will you add the  methods? Do you need a dedicated pull-request?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,838,closed,-,-,-,0,9,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,opened,2012-04-24 04:53:34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,title,2012-04-24 04:53:34,00:00,,1,,"b""b' Loading rails should be optional.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,body,2012-04-24 04:53:34,00:00,,1,,"b'b"" After upgrading from 2.7.0 to 3.0.2", my sinatra app won\'t start because paperclip tries to require rails. This patch checks if is defined," and conditionally load railtie.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,1,2012-04-24 04:53:34,577.82,,,1,"b'b"" I understand that. However", I don\'t think requiring is the right thing if you\'re not using Rails. The correct way to use this according to README is for you to include Paperclip::Glue to your model: However, I think there\'s something missing if you include that glue," such as migration helpers. I\'ll move that into Paperclip::Glue in the next release. Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,closed,2012-04-24 14:31:23,577.82,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,2,2012-04-24 04:53:34,82.07,,1,,"b'b"" No", I didn\'t require  .  in does, as it has in line 49. So it\'s either my patch or remove the line from and let Rails users have  ," or add as runtime dependency in  .""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,3,2012-04-24 04:53:34,1.15,,,1,"b'b"" Oh", then I\'ve done it wrong. Going to fix it now. Paperclip shouldn\'t require Railties," Rails should require that for us. Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,reopened,2012-04-24 15:55:29,84.1,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,closed,2012-04-25 00:19:05,503.6,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,4,2012-04-24 04:53:34,505.85,,,1,"b'b"" I\'ve pushed the fix. Thank you for reporting.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,843,closed,-,-,-,0,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,opened,2012-04-24 18:48:45,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,title,2012-04-24 18:48:45,00:00,1,,,"b'b"" Hard time with Can\'t mass-assign protected attributes""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,body,2012-04-24 18:48:45,00:00,1,,,b'b\' Hi all. I looked many places trying to find what\\\'s wrong with my application. I\\\'m getting this error (Can\\\'t mass-assign protected attributes: anexo) when I try to upload something with Paperclip, using the tutorial from Emerson Lackey url  Follows my  (model for the attachments): Now, my secnac_ (model for the table that will have some attachs linked to it): The _form partial has: The secnac_recebidas_: So, when I try to upload any file," never can ""mass-assign protected attributes: anexo"""," or ""uknown attribute: anexo"" Any tips?\''",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,1,2012-04-24 18:48:45,171.88,,1,,"b'b"" If you use then you should also use since that\'s what\'s being set as part of the hash. You won\'t need any of the other fields to be  "," as they are not being set by a mass-assignment. They\'re being set inside Paperclip.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,2,2012-04-24 18:48:45,59.53,,,1,b'b\' Jyurek," thanks for the tip. I changed the  model to: But i\\\'m still getting the same error: ""Can\\\'t mass-assign protected attributes: anexo"".\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,3,2012-04-24 18:48:45,109.08,1,,,"b'b"" That\'s odd", because I just confirmed that this works with a project I have on my machine. Can I see the code where you do the mass-assigning? You\'ve restarted the console or app you\'re trying this in," right?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,4,2012-04-24 18:48:45,4.62,,,1,"b""b' Thanks for the help. I attached the codes in you email box.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,5,2012-04-24 18:48:45,758.37,,,1,"b'b"" Thanks for the code. From the looks of it", nothing seems to be out of the ordinary. Are you able to create an Anexo from the console without trying to create it through the SecnacRecebida? Via for example. If you can, then the problem lies elsewhere," but if you can\'t then we\'ve at least narrowed it down.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,6,2012-04-24 18:48:45,347.92,,,1,"b'b"" I\'m going to close this as there hasn\'t been any motion on it in 7 months. If this is still a problem", @shayani," please let me know. Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,closed,2012-11-30 19:00:10,11.42,3,1,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,7,2012-04-24 18:48:45,482.45,,1,,"b'b"" I just ran into this today. Haven\'t been able to solve it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,reopened,2012-12-07 13:33:27,1113.28,3,2,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,8,2012-04-24 18:48:45,631.32,,1,,"b""b' @jrgifford", what are you trying to set," and what does your model look like?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,9,2012-04-24 18:48:45,575.7,1,,,"b""b' I just saw this"," and I deleted the (local-only) git branch already. Sorry! :('""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,closed,2013-01-18 14:21:41,48.23,4,3,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,10,2012-04-24 18:48:45,1011.35,,,1,"b""b' @jyurek you are right", I was with the same problem, but after your tip, I could fix it, the model that have the line has_attached_file :name must also have a line att_accessible :name Thanks for the help @jyurek ," @shayani '""",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,844,closed,11,2012-04-24 18:48:45,1432.12,,1,,b'b\' Hey so I recently updated my paperclip version from 2.3.11 to 4.1.1 to go along with upgrading rails to version 4.0. I am also unable to save an image using a form, though was working fine before. Here is my model: class ProductColorImage < ActiveRecord::Base  attr_accessible :sort_order belongs_to :product  belongs_to :product_color has_attached_file :image,   :storage =  :s3_credentials =  :styles =  validates_attachment_content_type :image, :content_type =end 1) If I do not include :image in attr_accessible, then I get this error:WARNING: Can\\\'t mass-assign protected attributes for ProductColorImage: image (Which is weird, since I believe that the paperclip documentation url  suggests that they removed the attr_accessible option for rails 4.0.)2) Then if I add :image to attr_accessible I get the following errors which have to do with my S3 bucket," and imagemagic:[AWS S3 0 retries] head_object(:bucket_name=>""myCompanyDevelopmentBucket""",":key=>""product_color_"") AWS::S3::Errors::NoSuchKey No Such Key [AWS S3 0 retries] head_object(:bucket_name=>""myCompanyDevelopmentBucket""",":key=>""product_color_"") AWS::S3::Errors::NoSuchKey No Such Key [AWS S3 0 retries] head_object(:bucket_name=>""myCompanyDevelopmentBucket""",":key=>""product_color_"") AWS::S3::Errors::NoSuchKey No Such Key [AWS S3 0 retries] head_object(:bucket_name=>""myCompanyDevelopmentBucket""",":key=>""product_color_"") AWS::S3::Errors::NoSuchKey No Such Key [AWS S3 0 retries] head_object(:bucket_name=>""myCompanyDevelopmentBucket""",":key=>""product_color_"") AWS::S3::Errors::NoSuchKey No Such Key [paperclip] An error was received while processing: #Command :: identify -format \\\'%wx%h",%[exif:orientation]\\\' \\\'/-11171-1gai5ej[0]\\\' 2>/ Finally if I remove attr_acessible altogether, or alternatively have:attr_accessible *column_namesThen I do not get a compiling error, but the image file simply does not load! I was wondering if you guys could shed some light on this frustrating issue.\'',,,,,,,,,,,,,,,,
paperclip,844,closed,-,-,-,4,4,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,opened,2012-05-16 09:02:48,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,title,2012-05-16 09:02:48,00:00,,1,,"b'b"" When uploading I\'m getting IOError (closed stream)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,body,2012-05-16 09:02:48,00:00,,1,,"b""b' Hi"," having this issue when trying to upload a file using Rails Admin and using: ruby 1.9.3p194Rails 3.2.3 with  Paperclip from @22a2a85d117ezbatery rack server behind nginx Right now this is killing me....  Upgrade Paperclip would fix this? Any notes about upgrading from 2.something to version3?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,1,2012-05-16 09:02:48,12.6,,,1,"b'b"" I can also confirm that the tmp file is still there when the error happens: (For a different test file I tried recently) Right now it seems broken. Yesterday It worked great. I can\'t upload any single file...  It looks like some locking issue or something like that"," maybe some OS file limit that is closing the File before the command ends?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,2,2012-05-16 09:02:48,71.53,,1,,"b""b' Restarting the zbatery server did worked. The cause of this is some file object leak?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,3,2012-05-16 09:02:48,296.47,,1,,"b""b' @sikachu @jyurek any clue about this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,4,2012-05-16 09:02:48,255.68,1,,,"b'b"" That\'s so weird. No"," I don\'t have any clue what would caused the issue. Do you still seeing the issue nowadays?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,5,2012-05-16 09:02:48,343.93,,1,,"b""b' Closing this for now. Please ping me if you still see this issue so I can reopen this.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,closed,2012-07-04 01:23:02,980.23,1,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,6,2012-05-16 09:02:48,934.32,,1,,"b""b' I am seeing this issue in production -I have not seen it before. Paperclip 2.7.0 and Ruby 1.9.3-p125'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,reopened,2012-07-21 16:58:16,935.23,1,6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,7,2012-05-16 09:02:48,1.1,,1,,"b'b"" Can you paste in the  trace you\'re seeing?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,8,2012-05-16 09:02:48,11.88,,1,,"b'b"" I looked at the log and I don\'t get one. I will try to find an instance that produces a backtrace.  On Jul 21",2012, at 12:58 PM," Prem Sichanugrist wrote:""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,9,2012-05-16 09:02:48,11.25,1,,,"b'b\' Here is what I do see... Command :: identify -format %wx%h \\\'/-27938-moong6.jpg[0]\\\'Command :: convert \\\'/-27938-moong6.jpg[0]\\\' -resize ""30x30>"" \\\'/-27938-moong620120721-27938-17zny7c\\\'Command :: identify -format %wx%h \\\'/-27938-moong6.jpg[0]\\\'Command :: convert \\\'/-27938-moong6.jpg[0]\\\' -resize ""x60"" -crop ""60x60+10+0"" +repage \\\'/-27938-moong620120721-27938-173vqgf\\\'Command :: identify -format %wx%h \\\'/-27938-moong6.jpg[0]\\\'Command :: convert \\\'/-27938-moong6.jpg[0]\\\' -resize ""100x100>"" \\\'/-27938-moong620120721-27938-1y0knti\\\'Command :: identify -format %wx%h \\\'/-27938-moong6.jpg[0]\\\'Command :: convert \\\'/-27938-moong6.jpg[0]\\\' -resize ""x100"" -crop ""100x100+17+0"" +repage \\\'/-27938-moong620120721-27938-10un5lb\\\'Command :: identify -format %wx%h \\\'/-27938-moong6.jpg[0]\\\'Command :: convert \\\'/-27938-moong6.jpg[0]\\\' -resize ""220x220>"" \\\'/-27938-moong620120721-27938-py1kbu\\\'Command :: identify -format %wx%h \\\'/-27938-fhw5[0]\\\'Command :: convert \\\'/-27938-fhw5[0]\\\' -resize ""30x30>"" \\\'/-27938-fhw5mh20120721-27938-1170umd\\\'Command :: identify -format %wx%h \\\'/-27938-fhw5[0]\\\'Command :: convert \\\'/-27938-fhw5[0]\\\' -resize ""x60"" -crop ""60x60+10+0"" +repage \\\'/-27938-fhw5mh20120721-27938-hf0z9z\\\'Command :: identify -format %wx%h \\\'/-27938-fhw5[0]\\\'Command :: convert \\\'/-27938-fhw5[0]\\\' -resize ""100x100>"" \\\'/-27938-fhw5mh20120721-27938-150aw4j\\\'Command :: identify -format %wx%h \\\'/-27938-fhw5[0]\\\'Command :: convert \\\'/-27938-fhw5[0]\\\' -resize ""x100"" -crop ""100x100+17+0"" +repage \\\'/-27938-fhw5mh20120721-27938-91udiq\\\'Command :: identify -format %wx%h \\\'/-27938-fhw5[0]\\\'Command :: convert \\\'/-27938-fhw5[0]\\\' -resize ""220x220>"" \\\'/-27938-fhw5mh20120721-27938-1ippvco\\\'[paperclip] Saving attachments.[paperclip] saving /[AWS S3 200 1.290835 0 retries] put_object(:acl=>:public_read",":bucket_name=>""thera-reader-prod""",":content_type=>""""",:data=>#<File:/-27938-fhw5>,":key=>"""") [paperclip] saving /Command :: file -b mime \\\'/-27938-fhw5mh20120721-27938-1170umd\\\'[AWS S3 200 0.192874 0 retries] put_object(:acl=>:public_read",":bucket_name=>""thera-reader-prod""",":content_type=>""""",:data=>#<File:/-27938-fhw5mh20120721-27938-1170umd>,":key=>"""") [paperclip] saving /Command :: file -b mime \\\'/-27938-fhw5mh20120721-27938-hf0z9z\\\'[AWS S3 200 0.202035 0 retries] put_object(:acl=>:public_read",":bucket_name=>""thera-reader-prod""",":content_type=>""""",:data=>#<File:/-27938-fhw5mh20120721-27938-hf0z9z>,":key=>"""") [paperclip] saving /Command :: file -b mime \\\'/-27938-fhw5mh20120721-27938-150aw4j\\\'[AWS S3 200 0.226635 0 retries] put_object(:acl=>:public_read",":bucket_name=>""thera-reader-prod""",":content_type=>""""",:data=>#<File:/-27938-fhw5mh20120721-27938-150aw4j>,":key=>"""") [paperclip] saving /Command :: file -b mime \\\'/-27938-fhw5mh20120721-27938-91udiq\\\'[AWS S3 200 0.211563 0 retries] put_object(:acl=>:public_read",":bucket_name=>""thera-reader-prod""",":content_type=>""""",:data=>#<File:/-27938-fhw5mh20120721-27938-91udiq>,":key=>"""") [paperclip] saving /Command :: file -b mime \\\'/-27938-fhw5mh20120721-27938-1ippvco\\\'[AWS S3 200 0.20837 0 retries] put_object(:acl=>:public_read",":bucket_name=>""thera-reader-prod""",":content_type=>""""",:data=>#<File:/-27938-fhw5mh20120721-27938-1ippvco>,":key=>"""") [paperclip] Saving attachments.[paperclip] saving /Completed 500 Internal Server Error in 12366ms IOError (closed stream):  :113:in \''",,,,,,
paperclip,875,closed,10,2012-05-16 09:02:48,13.85,,1,,"b'b"" And here is what Airbrake shows... [GEM_ROOT]/-sdk-1.3.9/:79:in  build_request\'[GEM_ROOT]/-sdk-1.3.9/:44:in  block in make_sync_request\'[GEM_ROOT]/-sdk-1.3.9/:234:in  make_sync_request\'[GEM_ROOT]/-sdk-1.3.9/:390:in  log_client_request\'[GEM_ROOT]/-sdk-1.3.9/:363:in  return_or_raise\'[GEM_ROOT]/-sdk-1.3.9/:362:in  put_object\'[GEM_ROOT]/-sdk-1.3.9/:315:in  block in flush_writes\'[GEM_ROOT]/-2.7.0/:281:in  flush_writes\'[GEM_ROOT]/-2.7.0/:214:in  block in save_attached_files\'[GEM_ROOT]/-2.7.0/:465:in  each\'[GEM_ROOT]/-2.7.0/:464:in  save_attached_files\'[GEM_ROOT]/-3.2.3/:553:in  __run_callback\'[GEM_ROOT]/-3.2.3/:385:in  run_callbacks\'[GEM_ROOT]/-3.2.3/:264:in  save\'[GEM_ROOT]/-3.2.3/:50:in  save\'[GEM_ROOT]/-3.2.3/:241:in  block in with_transaction_returning_status\'[GEM_ROOT]/-3.2.3/:192:in  transaction\'[GEM_ROOT]/-3.2.3/:293:in  block in save\'[GEM_ROOT]/-3.2.3/:252:in  save\'[GEM_ROOT]/-3.2.3/:213:in  block in with_transaction_returning_status\'[GEM_ROOT]/-3.2.3/:192:in  transaction\'[GEM_ROOT]/-3.2.3/:293:in  update_attributes\'[GEM_ROOT]/-1.3.1/:78:in  update\':113:in ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,11,2012-05-16 09:02:48,285.87,,1,,"b""b' A little more info...  /-1.9.3-p194@-sdk-1.3.9/:80if @body_stream(rdb:1) p @body_stream#File:/-40100-(rdb:1) c/-1.9.3-p194@-sdk-1.3.9/:80if @body_stream(rdb:1) p @body_stream#File:/-40100-vihycp20120721-40100-15w7v8t(rdb:1) c/-1.9.3-p194@-sdk-1.3.9/:80if @body_stream(rdb:1) p @body_stream#File:/-40100-vihycp20120721-40100-gmmoyj(rdb:1) c/-1.9.3-p194@-sdk-1.3.9/:80if @body_stream(rdb:1) p @body_stream#File:/-40100-vihycp20120721-40100-11rcp9e(rdb:1) c/-1.9.3-p194@-sdk-1.3.9/:80if @body_stream(rdb:1) p @body_stream#File:/-40100-vihycp20120721-40100-1vuezet(rdb:1) c/-1.9.3-p194@-sdk-1.3.9/:80if @body_stream(rdb:1) p @body_stream#File:/-40100-vihycp20120721-40100-1vkqjaz(rdb:1) c/-1.9.3-p194@-sdk-1.3.9/:80if @body_stream(rdb:1) p @body_stream# Notice that this last file", which represents the original file uploaded," is marked closed. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,12,2012-05-16 09:02:48,17.85,,,1,"b""b' This monkey patch solves the issue I am seeing... specifically", line 6. What seems to happen is the original file uploaded is closed before the file contents are read for upload. If I re-open it, as you see here," everything is happy again. Timing issue?  module AWS  class S3  class Request  def body    if @body_stream    @body_ if @body_?    string = @body_    @body_    string    else    nil    end  end  end  endend'""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,13,2012-05-16 09:02:48,1189.97,,1,,"b'b"" I\'m concerned that the fix would require reopening a file.  What in the process closed the file?  Keep in mind"," the request class handles non-file streams as well.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,14,2012-05-16 09:02:48,1276.97,,1,,"b'b"" So", there have been some bugs fixed with cocaine that could have been the case with the @brutuscat\'s original problem, and those have been fixed in later versions of the 2.7.\\\\* branch. I\'m not entirely sure what would be causing the problem that @martinstreicher is seeing," but I would have to ask to make sure that Paperclip and Cocaine are up to date and try to confirm the problem still exists.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,15,2012-05-16 09:02:48,1171.92,,1,,"b'b\' Seems problem still exists. If pass already closed Tempfile then raises ""IOError: closed stream"". I just rewrite my code to file closing after", but maybe we should mention about closed file in documentation or reopen file. Airbrake log:[GEM_ROOT]/-3.4.0/:15:in  cache_current_values\\\'[GEM_ROOT]/-3.4.0/:5:in  new\\\'[GEM_ROOT]/-3.4.0/:29:in  assign\\\'[GEM_ROOT]/-3.4.0/:199:in  block in assign_attributes\\\'[GEM_ROOT]/-3.2.11/:78:in  assign_attributes\\\'[GEM_ROOT]/-3.2.11/:227:in  block in with_transaction_returning_status\\\'[GEM_ROOT]/-3.2.11/:192:in  transaction\\\'[GEM_ROOT]/-3.0.1/:394:in  trace_execution_scoped\\\'[GEM_ROOT]/-3.0.1/:389:in  with_transaction_returning_status\\\'[GEM_ROOT]/-3.2.11/:226:in  area\\\'\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,16,2012-05-16 09:02:48,588.13,,1,,"b'b"" @ASnow ", please, can you post your code? I having the same issue, I\'m trying to solve this all week and until the moment I can\'t fix that :/ Please," help me posting your code or explaining better how you solve this :) closed stream/-2.0.0-p353@btcf2c670e233:15:in  cache_current_values\'/-2.0.0-p353@btcf2c670e233:5:in  new\'/-2.0.0-p353@btcf2c670e233:29:in  assign\'/-2.0.0-p353@btcf2c670e233:65:in  generate_data\'/-2.0.0-p353@btc4.0.0/:397:in  run_callbacks\'/-2.0.0-p353@btc4.0.0/:299:in  save\'/-2.0.0-p353@btc4.0.0/:51:in  save\'/-2.0.0-p353@btc4.0.0/:270:in  block in with_transaction_returning_status\'/-2.0.0-p353@btc4.0.0/:202:in  within_new_transaction\'/-2.0.0-p353@btc4.0.0/:202:in  transaction\'/-2.0.0-p353@btc4.0.0/:323:in  block in save\'/-2.0.0-p353@btc4.0.0/:281:in  save\'""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,17,2012-05-16 09:02:48,87.05,,1,,"b'b"" I solved the issue above. But now I\'m getting:  Command :: file -b mime \'-16131-18z44\'Command :: identify -format \'%wx%h","%[exif:orientation]\' \'/-16131-1[0]\' 2>/[paperclip] An error was received while processing: # In ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,18,2012-05-16 09:02:48,560.92,,,1,"b'b\' How are you guys solving the ""IOError: closed stream""? I\\\'m having the same issue.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,19,2012-05-16 09:02:48,502.77,,1,,"b'b"" I\'m noticing the same issue in v3.5.3"," with the error  however the error does not exist in v3.5.2""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,20,2012-05-16 09:02:48,167.75,,,1,"b'b"" @zhallett I downgraded to v3.5.2 and I think it is working now. I restarted my server and browser. If it happens again", I\'ll come back and ask for more help. Otherwise," thank you!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,21,2012-05-16 09:02:48,474.07,,,1,"b""b' Same problem! I downgraded to 3.5.2 and it is working now.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,22,2012-05-16 09:02:48,389.68,,1,,"b""b' +1 Getting this issue in  v3.5.3 downgrading to  v3.5.2 fixed it.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,23,2012-05-16 09:02:48,313.75,1,,,"b'b"" Sorry about this problem", all. I\'ve pushed 3.5.4 which removes the call here. It should help. If not, please let me know (in a new issue, preferably," so I can close this for bookkeeping purposes).""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,closed,2014-02-07 14:42:06,1303.83,3,17,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,24,2012-05-16 09:02:48,712.08,1,,,"b'b"" @jyurek This is still a problem in 3.5.4. Sorry I don\'t have time right this second to create a simple reproducible case or open a new issue but I thought I should at least let you know. In my app"," reverting to 3.5.2 fixes it but 3.5.3 and 3.5.4 have the problem.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,25,2012-05-16 09:02:48,463.17,,1,,"b""b' @jyurek I am with @BMorearty I revery back to 3.5.2 and all is well again. not sure why but I am experiencing the exact same. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,26,2012-05-16 09:02:48,471.12,,1,,"b""b' @corbanb do you have any custom processors that overwrite the file in place?  It appears the newer versions of paperclip assume that processors return an entirely new file"," which is why the original file handle gets closed.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,27,2012-05-16 09:02:48,473.47,,1,,"b""b' @phene guessing carrierwave or paperclip-compression might be causing the issue then in the new versions. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,28,2012-05-16 09:02:48,297.33,,1,,"b'b"" It turns out the  directory in the project I\'m working on had this: The noop processor wasn\'t copying the file. I fixed it with: The history of this seems to be [here]url  and [here]url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,29,2012-05-16 09:02:48,1206.45,,1,,"b'b"" So the solution for this is to ensure that if you have custom processor that it always returns a new file? I have processors that read from the original file just to extract meta data but don\'t alter the file in any way. It seems a little pointless to generate a new file in this instance. I assume I\'d have to do the same as above"," even if it\'s a 5Gb video file for example.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,30,2012-05-16 09:02:48,299.77,,,1,"b""b' I am on paperclip and still see this error. However", I believe I can shed some light on why it happens... 1. In my case, I found that I would only see the IO stream closed stacktrace when using a custom processor (e.g.  ). If I removed the processor definition I would no longer see the error. I believe that is because...  2. When trying to process a kind of file that is unknown to the processor, it seems to simply close the stream. For example, if I try to upload a video file for an attachment that is intended to be an image, I saw the closed stream stacktrace.  3. If the AR model calls then there is no fail safe for invalid file types, which allows # 2 to happen. If this method call is removed in place of the proper validations ( )," I see the expected error instead of the IO stream closed stacktrace.  This ended up being a sufficient solution in my case; my tests are passing :) Hopefully this helps someone save some hair!'""",,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,31,2012-05-16 09:02:48,63.58,,,1,"b'b"" I had two custom processors", both (under some conditions) simply passing through the file. For the first in the chain, it was fine to just return (ie the argument passed to the processor\'s constructor). But the second one gave this error, so perhaps it only applies to the last processor in the chain.  Also I was able to work around this by returning  ," so it seems there\'s no need to  the file. (Probably just works too.)""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,32,2012-05-16 09:02:48,546.18,1,,,"b'b\' I\\\'m wondering if must be done every time a processor is returning a file untouched (e.g. ""nothing to do here"")", or only on the first processor in the chain? Likewise, I believe paperclip\\\'s own code uses the flags, I wonder if those also need to be included in the call.  Also, this wouldn\\\'t affect the amount of temp files that Paperclip generates, right? Does it mess with Paperclip\\\'s ability to clean up after itself?\'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,875,closed,-,-,-,5,22,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,opened,2012-06-07 02:05:08,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,title,2012-06-07 02:05:08,00:00,,1,,"b""b' Make the refresh rake task save instances after reprocessing their attachments'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,body,2012-06-07 02:05:08,00:00,,,1,"b""b' ! updates fields of the instance such as attachment_updated_at. Thus we need to save the instance after reprocessing attachments"," which is missing from the refresh rake task.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,1,2012-06-07 02:05:08,925.82,,,1,"b'b"" Thanks for this test. I\'ve implemented a fix in 073152e"," so if you try master it should work for you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,closed,2012-06-08 17:30:57,925.82,0,1,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,2,2012-06-07 02:05:08,2.6,1,,,"b'b"" Whoops! I\'m sorry. I commented on the wrong pull request!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,reopened,2012-06-08 17:33:35,2.63,1,1,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,3,2012-06-07 02:05:08,1119.37,,,1,"b""b' Hi @thomas-kielbus ", please add a test demonstrating this change. Thanks,"-Mike'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,4,2012-06-07 02:05:08,258.43,,1,,"b""b' Just saw this issue now. I found this issue and fixed it (with test) independently in #913 and #914.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,5,2012-06-07 02:05:08,943.87,,1,,"b""b' Closing this"," moving discussions over to #914 (and #913 as needed).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,closed,2012-06-29 08:15:13,881.63,1,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,908,closed,-,-,-,1,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,opened,2012-06-20 03:45:02,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,title,2012-06-20 03:45:02,00:00,,1,,"b""b' type_from_file_command method error on windows'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,body,2012-06-20 03:45:02,00:00,,1,,b'b\' Because windows doesn\\\'t have the file command,"  so  this line (""file""",-b mime :file, :file =\'',,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,1,2012-06-20 03:45:02,1.77,,1,,"b'b"" can\'t be shown?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,2,2012-06-20 03:45:02,1260.45,,,1,"b""b' This was fixed in 1d22cdcad52477ed771a93c9f5b57a838cb47b1d. Thanks for reporting in.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,closed,2012-07-04 00:47:15,1262.22,0,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,3,2012-06-20 03:45:02,1363.0,,1,,"b'b"" (I\'ve posted this as a comment to the commit", but perhaps here is a better place) :  Hi," I\'m running windows 7 and getting  undefined method  type_from_file_command\'""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,4,2012-06-20 03:45:02,496.03,,1,,"b'b"" Yep"," still getting undefined method  type_from_file_command\'paperclip (3.1.4) :16:in cache_current_values\'paperclip (3.1.4) :5:in new\'paperclip (3.1.4) :29:in post_process_style\'paperclip (3.1.4) :402:in each\'paperclip (3.1.4) :401:in block (2 levels) in post_process\'...""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,reopened,2012-07-31 12:49:15,722.0,0,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,5,2012-06-20 03:45:02,605.7,,,1,"b'b"" Thanks for reopening the issue", @sikachu. For now I\'ve just installed File package from GnuWin32 url  and it solved the problem. I also had to add to PATH and reboot. For me it was not a big deal since my production environment is Linux-based, but I understand this might not be considered a definitive solution for some people. At least now we know for sure that the issue is actually related to the command in (content_type_, line 54) on Windows. This is still strange though since the method was not supposed to be executed at all. I ran in the console and it returned a non-null array as expected," so (line 38) should return and the method (line 10) should bypass the call for  . It seems that is returning when performed by paperclip instead. My system specs:Ruby: 1.9.3p194Gem: 1.8.23Rails: 3.2.6Paperclip: 3.1.4ImageMagick: 6.7.8-Q16: 5.03OS: Win 7 (32-bit) I hope this helps.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,6,2012-06-20 03:45:02,1387.87,,1,,"b""b' Submitted pull request for fix url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,7,2012-06-20 03:45:02,568.62,,,1,"b""b' The fix for this was pulled into master not too long ago. If anyone has recurring problems from here"," please open a new ticket on the issue so we can start fresh. Thanks.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,closed,2012-11-27 02:28:28,819.22,0,6,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,926,closed,-,-,-,0,6,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,opened,2012-06-29 21:29:34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,title,2012-06-29 21:29:34,00:00,,1,,"b""b' [#940] Raise error when style defined & not in path'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,body,2012-06-29 21:29:34,00:00,,1,,"b""b' Add StyleTokenNotFound in ErrorsAdjust tests to make sure :style present where not currently defined'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,1,2012-06-29 21:29:34,6.83,,1,,"b""b' This pull request [fails]url  (merged d01b07ce into 029fe02f).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,2,2012-06-29 21:29:34,182.48,,1,,"b""b' I have 1 comment. Can you update that and force-push to your branch?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,3,2012-06-29 21:29:34,20.48,,1,,"b'b"" Will do", Prem.  I\'m on it. On Tue, Jul 3, 2012 at 8:38 PM," Prem Sichanugrist <reply@""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,4,2012-06-29 21:29:34,51.85,,,1,"b""b' Looks good. Merging ...'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,5,2012-06-29 21:29:34,5.65,,,1,"b""b' Merged in b7b2b8437d3ead21633fc29a434b2bf1a36dd150. Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,closed,2012-07-04 01:56:52,267.3,0,5,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,6,2012-06-29 21:29:34,0.87,,1,,"b""b' This pull request [fails]url  (merged a5d6189d into 0958e6fc).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,7,2012-06-29 21:29:34,0.83,,1,,"b'b"" That failure is a lie. I\'m investigating why it\'s sometime fail sometimes pass now.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,8,2012-06-29 21:29:34,3.45,1,,,"b""b' Yeah I noticed the same. Something about an example file not writing to thefs but having no problem with subsequent runs. Really weird On Tue", Jul 3, 2012 at 9:58 PM," Prem Sichanugrist <reply@'""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,9,2012-06-29 21:29:34,1344.88,,1,,"b""b' What about those of us that use obfuscated file names that do not have style in them? I use the hash_data approach"," for example: I now have to monkeypatch style_not_in_custom_path? to use my code that worked before this merge.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,10,2012-06-29 21:29:34,1005.8,,,1,"b'b"" I agree with @inspire22", Im having a big problem with this error in production," because some of my models don\'t have :styles hash defined.  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,11,2012-06-29 21:29:34,1401.78,,1,,"b""b' +1 to @bhoggard we use only in the and this patch kinda renders our entire app dead :)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,reopened,2012-07-21 16:53:07,896.25,1,9,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,12,2012-06-29 21:29:34,20.47,1,,,"b'b"" I\'ve reverted this one in master for now. What we will need is a paperclip option which turns off this feature", so that people can still using path without interpolation. Going to merge this again soon and do a minor release instead. Doing a patch release was a bad idea," sorry about that.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,13,2012-06-29 21:29:34,5.92,,1,,"b""b' This pull request [fails]url  (merged a5d6189d into 0958e6fc).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,14,2012-06-29 21:29:34,24.1,,1,,"b""b' 3.1.4 is out with this patch revert. Please test it out an see if it fixed your issue.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,15,2012-06-29 21:29:34,143.08,,,1,"b""b' Everything ok now. Thank you!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,16,2012-06-29 21:29:34,394.82,,,1,"b""b' Worked for me as well. Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,17,2012-06-29 21:29:34,1244.52,,,1,"b""b' Works for me too. Thank you.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,18,2012-06-29 21:29:34,1089.4,,1,,"b'b"" I\'m going to close this. When we figure out what we want to do"," we\'ll make a new one.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,closed,2012-08-17 17:16:47,23.67,2,12,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,943,closed,-,-,-,2,12,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,opened,2012-08-18 18:45:15,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,title,2012-08-18 18:45:15,00:00,,1,,"b""b' colon symbol in file name'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,body,2012-08-18 18:45:15,00:00,,1,,"b'b"" I have an error on uploading image with colon-symbol in file name"," like this:1image: Gen an error: /tmp/1:120120818-17045is not recognized by the \'identify\' command. Error from console: Command :: identify -format %wx%h \'/tmp/1:120120818-17045-[0]\'[paperclip] An error was received while processing: # The same file with 1.png name is uploading ok. ruby 1.9.3rails 3.2.3paperclip 3.1.4ImageMagick 6.6.9-7ubuntu 12.04""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,1,2012-08-18 18:45:15,236.87,,,1,"b'b"" Fixed it with rails help:params[:post][:image].original_!(/:/"," \'\')""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,2,2012-08-18 18:45:15,723.62,,,1,"b""b' good day Nicklasos like to know how you solved this problem because the same happened to me but it does not find any solution ...'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,3,2012-08-18 18:45:15,681.13,,,1,"b'b"" You can put this at your actionparams[:post][:image].original_!(/:/"," \'\')It will delete all colon symbols from file name""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,closed,2012-10-09 22:06:52,201.62,0,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,reopened,2012-10-09 22:07:19,0.45,0,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,4,2012-08-18 18:45:15,1225.73,,1,,"b'b"" I\'ve comitted a fix for this in master (83d8ec5a318cdf18c632faefd429940e862aec4c) which should solve the problem. I\'m going to close this ticket"," but if this fix doesn\'t work for you please let me know.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,closed,2012-10-19 18:32:36,1225.28,0,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,997,closed,-,-,-,0,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,opened,2012-09-20 20:09:29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,title,2012-09-20 20:09:29,00:00,,1,,"b""b' using Multiple storage in one enviornment'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,body,2012-09-20 20:09:29,00:00,,1,,"b""b' Is there a way to add multiple storage option in a single environment .I like to add few files to s3 storage but some files to only local server. so in my model: has_attached_file :file1", :path =           :storage =      :s3_credentials =      :bucket =      :s3_host_name =  has_attached_file :file2,"      :path =      :url =            :storage =file1 >>Is there a quick solution to this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,1,2012-09-20 20:09:29,16.68,,1,,"b""b' Yes"," it should work exactly as you have it here. Does this not work for you?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,closed,2012-09-20 20:42:07,32.63,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,reopened,2012-09-20 20:42:13,0.1,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,2,2012-09-20 20:09:29,866.12,,1,,"b""b'  got  i have to enter access token and secret inline instead of s3.yml has_attached_file :file1", :path =        :storage =    :s3_credentials =      :access_key_id =        :secret_access_key =    },    # :s3_credentials =    :bucket =    :s3_host_name = has_attached_file :file2,"   :storage =    :url  =    :path ='""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,closed,2012-09-21 10:52:18,850.08,0,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1026,closed,-,-,-,0,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,opened,2012-09-25 00:56:36,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,title,2012-09-25 00:56:36,00:00,,1,,"b""b' Same as issue 266'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,body,2012-09-25 00:56:36,00:00,,1,,"b'b"" I am using 3.1.4 and experiencing the same problem listed in issue #266. I\'m currently using the workaround described at the bottom of the issue. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,1,2012-09-25 00:56:36,892.78,,1,,"b'b"" Starting from Paperclip 3.0.0 those validation errors should already have been assigned to the attachment attribute and not their corresponding forum. If that\'s not the case please let me know. You can verify that by looking at the test cases here: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,closed,2012-10-19 15:49:23,892.78,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,2,2012-09-25 00:56:36,1407.4,1,,,b'b\' I\\\'m confused, as this issue still exists. For instance:  If I then try to upload a non-image, my User errors collection is: So error messages are not bubbling up to the name of the actual form attribute," which in this case would be ""photo"".\''",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,3,2012-09-25 00:56:36,17.62,,1,,"b'b"" Well"," that\'s not good. What version are you currently using?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,4,2012-09-25 00:56:36,4.63,,,1,"b""b' Haha no... :) latest and greatest"," 3.4.2.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,reopened,2013-05-24 15:42:34,1433.18,1,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,5,2012-09-25 00:56:36,89.65,,1,,"b""b' I confirm the issue still exists... :('""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,6,2012-09-25 00:56:36,44.02,,1,,"b""b' @deivid-rodriguez can you try this branch: url  and see if it fixes your error? We copy up presence validations but not content_type or size to the base attribute.  I will merge this on Friday once others have given it a look.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,7,2012-09-25 00:56:36,5.6,,,1,"b'b"" Sure", I\'ll try it as soon as possible," thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,8,2012-09-25 00:56:36,1026.27,,1,,"b'b"" I\'m not sure I can make it to test it today... but I\'ll try.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1029,closed,9,2012-09-25 00:56:36,102.72,,1,,b'b\' No prob. I will give it a shot today.On Jun 14, 2013 7:04 AM,"David Rodr\\xc3\\xadguez"" notifications@ wrote:\''
paperclip	1029	closed	10	maclover7	2012-09-25 00:56:36	495.95			+1	b'b"" Hi @beek and @uberllama ! Is this still an issue for you in Paperclip; I know this issue is from approximately 3 years ago. If it is still an issue, can you please provide the code that\'s causing you the error? Thanks!""'
paperclip	1029	closed	11	uberllama	2012-09-25 00:56:36	47.38			+1	b'b"" I don\'t even remember what I had for breakfast today. :)""'
paperclip	1029	closed	12	tute	2012-09-25 00:56:36	1222.65			+1	b'b"" If we can\'t replicate the error, I hope things are working well now for you. I\\xe2\\x80\\x99ll close the issue, happy to continue further discussion if we can find the problem (and potential fix) for it. Thanks for your input!""'
paperclip	1029	closed	closed	 - 	2015-05-09 18:13:16	150.7	1	8	5
paperclip	1029	closed	-	-	-	-	1	8	5
paperclip	1030	closed	opened	lephyrius	2012-09-26 09:47:12
paperclip	1030	closed	title	lephyrius	2012-09-26 09:47:12	00:00		+1		b""b' Refresh missing styles fails.'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,body,2012-09-26 09:47:12,00:00,1,,,"b""b' I get this message when I try to reprocess the missing styles.(I added some new styles)  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,1,2012-09-26 09:47:12,666.02,,,1,"b'b"" Please provide relevant code if you\'re still having this problem. Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,2,2012-09-26 09:47:12,1178.7,,1,,"b'b"" Since this was 2 months ago with no reply", I\'m going to close this. If you\'re still having the problem," please let us know.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,closed,2012-11-30 16:31:55,404.72,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,3,2012-09-26 09:47:12,365.28,,1,,"b""b' I am seeing the same problem with 3.4.2. The root cause is that the original image no longer exists (on S3 in my case)"," and so when fog attempts to download it to a local file it fails. In 3.4.2 this error is at line 165. Here is a fix:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,4,2012-09-26 09:47:12,1250.78,,,1,"b""b' @k1w1 your patch worked great for me"," thanks. This should be pulled into the latest release.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,reopened,2013-08-26 12:40:44,1208.82,1,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,5,2012-09-26 09:47:12,95.92,,,1,"b'b"" Hi @lephyrius and @k1w1 ! Is this still an issue for you in Paperclip; I know this issue is from approximately 3 years ago. If it is still an issue"," can you please provide the code that\'s causing you the error? Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,6,2012-09-26 09:47:12,1281.43,,,1,"b'b"" Given there\'s no activity around this issue any more", I hope things are working well for you now. I\\xe2\\x80\\x99ll close the issue," happy to continue further discussion if we can find the problem and potential fix for it. Thanks for your input!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,closed,2015-05-09 18:25:20,344.6,1,3,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,7,2012-09-26 09:47:12,1332.42,,1,,"b""b' @tute @maclover7 ran into this today when running It appears to un-scope the class and included deleted objects which caused it to not find the file on S3. Let me know if there are any additional details I can provide.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,8,2012-09-26 09:47:12,1395.58,,,1,"b""b' @JONBRWN on what version of paperclip? How can we replicate it? Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,9,2012-09-26 09:47:12,40.23,,1,,"b""b' @tute Paperclip  can be replicated with an attachment where the original file is no longer on S3 and then running  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,10,2012-09-26 09:47:12,278.92,,1,,"b'b\' @tute and @JONBRWN jumping in here. I believe this happens when using a gem like where records are ""soft"" deleted. The items on S3 are then deleted but the model instance is still in the DB with a column set. However when is run it unscopes the query and all records are trying to be reprocessed even if they are ""deleted."" The crux of this issue is that the wrong error is being raised in the method making the user believe something is wrong.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1030,closed,-,-,-,1,6,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,opened,2012-12-11 13:25:48,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,title,2012-12-11 13:25:48,00:00,,1,,"b""b' [3.3.1] Whitespaces and : should be escaped'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,body,2012-12-11 13:25:48,00:00,,1,,"b'b\' I\\\'m trying to import a file called ""Image C\\xc3\\xa9dric 21/12/2012.jpg"" The error is raised Here is the detail for this error The error occurs when trying to process a thumbnail.url \''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,1,2012-12-11 13:25:48,63.4,,1,,"b""b' Whitespace is escaped. That looks more like an encoding issue. There was a fix in the latest cocaine to manage encodings. I have to push that out this week so people can use it. But in the meantime"," can you give that a try?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,2,2012-12-11 13:25:48,6.52,,1,,"b'b\' I already use my own fork and this is how it behaves. I don\\\'t think it\\\'s an encoding issue. You can try using a Bourne Shell. Using exactly this name won\\\'t work. To make it work you have to escape the whitespace and the :  Maybe I missed something. I\\\'ll investigate further later but for now on this seems to be a filename issue. I did try with the master branch but I\\\'m faced to another issue on master branch (related to I have a nil value for the "" "" but not with the 3.3.1 branch) Need some time to investigate further too and to push a fix for those issues.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,3,2012-12-11 13:25:48,1129.38,,1,,"b'b"" BTW"," I\'m able to reproduce this using paperclip_demo. ![Capture d e cran 2012-12-17 a 10 24 41]url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,4,2012-12-11 13:25:48,279.5,1,,,"b""b' To make it work"," I had to remove the here url  and here url  Why do we have this  ? ![Capture d e cran 2013-01-15 a 15 03 25]url  The cat is an animated one  [EDIT] Removed the animated picture because it made me sick'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,5,2012-12-11 13:25:48,3.1,,1,,"b""b' BTW"," I had to change the source of the gem to allow accented characters. Definitely it would worth to update to include the already patched version of  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,6,2012-12-11 13:25:48,91.7,,1,,"b""b' This should be fixed in master.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,closed,2013-01-18 15:39:24,133.6,1,7,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,7,2012-12-11 13:25:48,2.02,,1,,"b""b' Should be fixed? why? Can you explain please?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,8,2012-12-11 13:25:48,9.07,,1,,"b""b' There was an update to Cocaine in '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,9,2012-12-11 13:25:48,1.15,,1,,"b""b' Alright but the issue is not about [EDIT] the update of cocaine was part of a comment.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,10,2012-12-11 13:25:48,8.57,,1,,"b""b' Cocaine is used by paperclip to shell out commands", and there were fixes inrecent cocaine releases that make it more capable of handling differentcharacter sets correctly. On Fri, Jan 18, 2013 at 10:51 AM," FABIANSKI C\\xc3\\xa9dric <notifications@'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,11,2012-12-11 13:25:48,7.35,,,1,"b""b' I still have this issue even with this in the of the app ![Capture d e cran 2013-01-18 a 17 06 16]url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,12,2012-12-11 13:25:48,14.37,,,1,"b""b' I can reproduce this locally thanks for being persistent!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,reopened,2013-01-18 16:21:55,42.52,1,11,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,13,2012-12-11 13:25:48,2.13,,1,,"b""b' haha yw :-)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,14,2012-12-11 13:25:48,1338.65,,1,,"b""b' @djcp btw"," do you know what does stand for?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,15,2012-12-11 13:25:48,100.6,,1,,"b'b\' @cfabianski: [0] is for image_magick it refers to the first ""frame"" of an animated image and is harmless for images like jpgs. Please try out the ""djcp_restricted_characters"" branch", which fixes this issue for me in paperclip_demo.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,16,2012-12-11 13:25:48,27.28,1,,,"b'b"" It fixes the issue for me too \\\\o/I\'m sorry to bother you but I don\'t get your commit url How actually does it remove the here ? BTW is there a plan to push this on master and to tag it soon?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,17,2012-12-11 13:25:48,323.7,,,1,b'b\' Glad it\\\'s fixed, and thanks for your help. This has been merged into master as of a few hours ago. What we needed to do was use the original_filename setter to set the filename value," as the code to remove the "":"" already exists in Paperclip::AbstractAdapter.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,18,2012-12-11 13:25:48,587.0,,1,,"b""b' Gotcha url  thxAny Idea about a tag?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,19,2012-12-11 13:25:48,488.63,,1,,"b""b' Not sure about when a new release will happen"," but soon.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,closed,2013-02-08 16:09:55,1428.0,2,16,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1107,closed,-,-,-,2,16,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,opened,2013-01-09 18:54:07,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,title,2013-01-09 18:54:07,00:00,,1,,"b""b' Feature request: persist image dimensions'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,body,2013-01-09 18:54:07,00:00,,1,,"b'b"" I imagine this topic has been raised before but... I\'d like to request to that paperclip provide a simple facility to persist image dimensions (width x height) and file size"," something like the following API: I think it\'s silly that I\'m required to schlep around with 3rd party gems (paperclip-meta and paperclip-dimension) for what should be an out-of-the-box feature. I would be glad to implement it if there\'s a willingness to include this feature.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,1,2013-01-09 18:54:07,4.47,,1,,"b""b' +1'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,2,2013-01-09 18:54:07,131.88,,,1,"b""b' Hi @johnnyshields ! I know this issue is a bit old (from almost 2 years ago). If this is still something you want"," would you be willing to send in a PR?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,3,2013-01-09 18:54:07,64.38,,1,,"b""b' @maclover7 this is a feature request and yes it is something we should keep open. I do not have a PR currently.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,4,2013-01-09 18:54:07,258.25,,1,,"b'b"" Paraphrasing @jyurek:Closing"," as he doesn\'t want paperclip to handle this. I would appreciate a longer description on why he thinks that way.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,closed,2015-05-29 02:33:06,458.98,0,5,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,5,2013-01-09 18:54:07,5.6,,1,,"b'b"" @tute I think we should leave this issue open until we get a better explanation. I\'m actually curious how people can live **without** storing the image dimensionshow do you know what size image you\'re going to display in advance"," especially if variable dimension Rmagick settings are being used?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,6,2013-01-09 18:54:07,4.8,,,1,"b'b"" I think the same! And the lack of people complaining about this seemingly for us important lack makes me think we might be missing something", or it\'s actually not a common use case. I\'d leave it open, but we are overwhelmed with issues and PRs for now, and there\'s higher priority bug reports in it. I also want to hear more of @jyurek\'s thoughts, but knowing he doesn\'t consider this an issue in the library, I\'m ok with leaving it closed for now, signaling it doesn\'t await a fix. Discussion should continue though. @johnnyshields, in the past month we\'ve been working heavily on the issues, finding duplicates, doing code reviews, etc. We didn\'t find time yet to write new code though. If you\'d rather have this feature in, don\'t hesitate to help on this work, continuing discussion of this one, and probably discussing over code," too! Specially if the addition would be small. Thanks!""'",,,,,,,,,,,,,,,,
paperclip,1129,closed,7,2013-01-09 18:54:07,7.0,,1,,b'b\' Well," it\\\'s a bit of a human deadlock here as I\\\'m unlikely to spend time on a well-crafted PR if @jyurek is going to deny it on the basis of ""don\\\'t want this feature."" @jyurek please help us by chiming in.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,8,2013-01-09 18:54:07,588.38,1,,,"b'b"" It\'s not something I\'m immediately opposed to", but I would wonder how it\'s going to be implemented. The sample in the OP was that we could do  , which implies that we store all the dimensions for all the styles. This would lead to a bunch of columns potentially. However, Paperclip does already have the ability to store data in columns that may or may not exist, so this might not be as bad as I fear. Let\'s go with :+1:, and we can discuss the specifics of the PR when it hits. Thanks," @johnnyshields ""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,9,2013-01-09 18:54:07,85.97,,,1,"b'b"" @jyurek thanks! Will add this to our team\'s development queue. I use Mongoid and I store image dimensions as a Hash (which Mongoid supports natively) something like: Then would return  . My memory is hazy here I\'m not sure that\'s what it actually does currently"," but at a bare minimum you can do For ActiveRecord we could store the same as a JSON string which is read in using . Thoughts?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,10,2013-01-09 18:54:07,116.05,,,1,b'b\' Well, I\\\'d want to let ActiveRecord handle the serialization rather than do JSON parsing ourselves," but I suppose that could work. I don\\\'t know if the serialization ""just works"" with Postgres\\\' JSON or hstore columns", but that would be super nice.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,11,2013-01-09 18:54:07,16.53,,,1,"b""b' +1 to this feature. I had to create seperate columns to cache dimension as retrieving it is a rather slow operation. It would be nice the caching isbuilt in.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,reopened,2015-05-29 16:59:19,866.22,1,7,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,12,2013-01-09 18:54:07,42.05,,1,,"b'b\' It does ""just work"".\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,13,2013-01-09 18:54:07,13.45,,,1,"b'b"" Great"," I think serialization is the right choice as the data is variable-length (depends on model definition of sizes) and I don\'t think there is any practical requirement to deep-query for specific sizes.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,14,2013-01-09 18:54:07,5.58,,,1,"b'b\' That\\\'s why I was hoping that the  columns ""just work"" because you _can_ deep query if needed. So that\\\'s awesome.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,15,2013-01-09 18:54:07,172.78,,1,,"b""b' Thank you for the feature request. Unfortunately we will be deprecating Paperclip and therefore will no longer be accepting new features.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,closed,2018-04-27 20:11:18,191.98,1,9,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1129,closed,-,-,-,1,9,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,opened,2013-02-16 08:06:29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,title,2013-02-16 08:06:29,00:00,,1,,"b""b' Request for gem release'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,body,2013-02-16 08:06:29,00:00,,1,,"b'b"" Hi Thoughtbot team"," I\'m waiting on an official gem release for this commit url  done one month ago. Please help at your convenience.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,1,2013-02-16 08:06:29,441.95,,1,,"b'b"" You can update your Gemfile to point at a specific git commit"," thusly: So don\'t let us hold you back.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,closed,2013-02-19 15:28:26,441.95,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,2,2013-02-16 08:06:29,5.67,,,1,"b""b' At the same time"," I have been lax in actually releasing new gems. This is a good reminder to get that done on Friday.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,reopened,2013-02-19 15:34:06,5.67,0,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,3,2013-02-16 08:06:29,57.78,,,1,"b""b' @jyurek thanks mate :beers:'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,4,2013-02-16 08:06:29,138.0,,,1,"b""b' Oh"," forgot to update this. I released 3.4.1 last week. Thanks for the reminder!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,closed,2013-03-01 18:49:53,195.78,0,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1166,closed,-,-,-,0,3,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,opened,2013-04-16 23:58:56,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,title,2013-04-16 23:58:56,00:00,,1,,"b'b\' NoHandlerError (No handler found for """")\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,body,2013-04-16 23:58:56,00:00,,1,,"b'b"" When my form submits with a blank file field", my server returns a 500 error, and the log has the following: I can\'t guess why it\'s trying to handle a blank value. Here\'s the entire log for that action: url  When I run the app on a co-worker\'s machine, though," I cannot reproduce the problem. (We\'re both on Windows 7. I\'m 32-bit; he\'s 64-bit.) I tried restarting the machine and reinstalling the gem but to no avail. I have tried this on two different forms for two different models. I am stymied.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,1,2013-04-16 23:58:56,711.38,1,,,"b""b' It seems to work on Ruby 1.8.7", but not on Ruby 2.0. Also trying to fix the issue. Sorry, I was confused. The difference is the Paperclip version," not the Ruby version. Did you find a workaround?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,2,2013-04-16 23:58:56,227.23,,1,,"b""b' I believe this has been fixed since this was reported. @korny (and @Vaselinessa if you still see the problem)"," can you try using the latest version of Paperclip (3.4.2 as of this comment) and see if the problem still exists?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,3,2013-04-16 23:58:56,58.77,,1,,"b'b"" Thanks. After having changed computers and cloned the source anew", I\'m unable to reproduce this error. (And I can\'t get at the old code because the hard drive was reformatted. Yet I am still puzzled over it because my code should\'ve been the same as the code on the new computer," since it was all pulled from a git repo.)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,closed,2013-05-24 16:36:19,997.38,1,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,4,2013-04-16 23:58:56,1080.2,,1,,"b'b"" 3.4.2 is not working for us on Ruby 2.0.0p195. I\'m trying to track down the problem.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,5,2013-04-16 23:58:56,1376.82,,1,,"b'b"" @jyurek Can you hint at the change that supposedly fixed the issue? I can\'t find anything even remotely related to this in the last month\\xe2\\x80\\xa6""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,6,2013-04-16 23:58:56,264.8,,1,,"b""b' Okay", it seems that using []url  provokes that an AJAX submit using a file field always posts a value," even if the file field was empty (in this case it is set to an empty string). Our workaround for this was: Not sure if this should be patched in Paperclip.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,7,2013-04-16 23:58:56,28.42,1,,,"b'b"" Hmm", looking at the source, I was wrong. Sorry about that. I was thinking #1178 has already been merged," but it hasn\'t. I\'ll see what I can do about getting that merged soon.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,reopened,2013-05-28 14:26:35,1310.27,2,7,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,8,2013-04-16 23:58:56,91.57,,,1,"b""b' Actually", #1178 does something different; in interprets an empty string as an explicit **deletion** of the attachment! This would cause destructive behavior when saving forms with ; you submit a form without uploading a new image," and after saving the old one is gone.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,9,2013-04-16 23:58:56,97.87,1,,,"b'b"" That sounds like terrible behavior on the part of "," if it passes values to things that aren\'t correct instad of not passing anything. I\'ll look into solutions for this.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,10,2013-04-16 23:58:56,1220.38,,,1,"b'b"" Possibly. I agree that it seems more natural not to send anything in this case"," but I don\'t know what the HTML specs say\\xe2\\x80\\xa6""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,11,2013-04-16 23:58:56,1344.42,,1,,"b'b\' I was thinking about this wrong. For some reason I thought """" should delete", but it should definitely preserve in all cases, since it\\\'s being submitted when there\\\'s no file selected. Deletions via form need to be explicit since forms often aren\\\'t. I\\\'ve fixed this with e54b5bdf4273714835d6b4d33523529ac66ca9df.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,closed,2013-07-17 12:20:48,1314.22,3,8,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1220,closed,-,-,-,3,8,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,opened,2013-07-07 13:45:26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,title,2013-07-07 13:45:26,00:00,,1,,"b""b' Stop rewriting original style file while reprocess'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,body,2013-07-07 13:45:26,00:00,,1,,"b'b"" Right now", when I\'m trying to reprocess images using the rake tasks, the original style images modification date is changed," but not contents (md5sum stays not the same). Is there are any mechanizm that stops paperclip of rewriting the original filename while reprocessing?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,1,2013-07-07 13:45:26,10.08,,1,,"b""b' You can force paperclip to not use timestamps automatically"," but that will mean more difficult cache busting when they actually _do_ change. You would probably need to write a custom processor that compares md5 sums across runs.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,closed,2013-07-12 13:55:31,10.08,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,reopened,2013-07-12 13:55:37,0.1,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,2,2013-07-07 13:45:26,35.22,,1,,"b'b"" May be it\'s possible somehow to do it that way", while images reprocessing, original file should not be replaced with the file with the same contents? Because it\'s not logical, contents doesn\'t change," but file\'s modification date changed (that is for the caching and for seo isn\'t good)... only styles been changed.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,3,2013-07-07 13:45:26,1413.68,1,,,"b'b"" I was a little confused by your question", sorry. Yeah, that\'s the behavior as it\'s basically re-attaching the file to ensure it goes through the entire validation / processing chain (and probably because it\'s easier). url may help keep URLs the same.  Otherwise," we\'d be happy to entertain a pull request to change this behavior.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,closed,2013-07-19 14:04:25,8.8,1,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1275,closed,-,-,-,1,4,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,opened,2013-07-24 17:24:09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,title,2013-07-24 17:24:09,00:00,,1,,"b""b' 3.5 multiple validation errors'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,body,2013-07-24 17:24:09,00:00,1,,,"b'b"" I upgraded to 3.5 and some specs are failing. In my spec I\'m expecting one error message for a failed validation"," but now I\'m getting two that does not appear to be very much consistent:   Is this expected?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,1,2013-07-24 17:24:09,35.15,,1,,b'b\' Yes," one of the latest changes is that the errors are placed on the attribute (e.g. ""artwork"") as well as the attributes that make up the attachment (e.g. ""artwork_file_size"") so that the errors actually show up on forms. Though the quoting on [1] of the bottom example is wrong and I\\\'ll have to look into that.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,closed,2013-07-24 17:59:18,35.15,1,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,2,2013-07-24 17:24:09,851.42,,1,,"b""b' +1'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,3,2013-07-24 17:24:09,164.45,1,,,"b'b"" Same issue as #1294 .I\'ve setup some custom messages for _content_type_ and _size_ validations for the avatar attachment.The _size_ validation returns correctly the message But the _content_type_ validation give me an array With both So under the avatar file input (I use SimpleForm)", when the content_type isn\'t valid," users see this :""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,reopened,2013-08-07 02:31:11,511.88,2,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,4,2013-07-24 17:24:09,936.55,,,1,"b'b"" Thanks for the details"," we\'ll look into it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,5,2013-07-24 17:24:09,957.75,,1,,"b""b' @colderis please check out the commit above"," which should fix this bug. Let me know if it works for you.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,closed,2013-08-09 19:57:47,1046.6,2,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,6,2013-07-24 17:24:09,125.27,,,1,"b""b' Thanks!"," 0b080ee solved the problem for me.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,7,2013-07-24 17:24:09,183.32,,1,,"b'b"" Compiled the latest build from the master branch. But the fix doesn\'t work for me. I\'m getting the \'image\' and \'image_file_size\' or \'image_content_type\' as a duplicated error.  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,8,2013-07-24 17:24:09,1123.68,1,,,"b'b\' @loed20 These ""duplicated error messages"" are by design. The content_type validation errors were", unfortunately, copied directly to the base object as an array and that\\\'s what this fixes. Please see the relevant commit about the original behavior change: url  and the original issue: url \'',,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,9,2013-07-24 17:24:09,1165.77,,,1,"b'b"" @djcp I didn\'t know that"," thanks for the heads up!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,10,2013-07-24 17:24:09,1395.8,,1,,"b""b' I did not understand very well"," have the version 3.5.1 and did not work. I need to modify directly the file attachment_content_type_ or to create PaperclipExtensions like url  ?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,11,2013-07-24 17:24:09,1130.35,,,1,"b""b' @paulogirao It should work fine. The only behavioral change is that error messages from a paperclip validation will now also appear on the base object"," this was necessary to make paperclip work well with simpleform.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,12,2013-07-24 17:24:09,1312.23,,1,,"b""b' @djcp There is some incompatibility with version of rails ? I uninstalled and installed again"," but it not appears the changes in the files according to url  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,13,2013-07-24 17:24:09,918.75,,1,,"b""b' I am using Rails 4.0 with Ruby 2.0 and still experiencing this issue with 2 errors instead of one on both _attachment_size_ and _attachment_content_type_ validations.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,14,2013-07-24 17:24:09,386.7,,1,,"b""b' Commit 0b080ee worked for me"," using Rails 3.2.12 with Ruby 1.9.3; the content_type validator is no longer returning a nested array within an array.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,15,2013-07-24 17:24:09,144.47,,1,,"b""b' I have the same problem as @webproworker Any updates on this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,16,2013-07-24 17:24:09,1113.12,,1,,"b""b' +1 with rails 4"," ruby 1.9.3 and paperclip 3.5 2'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,17,2013-07-24 17:24:09,751.62,,1,,"b'b"" I\'ve opened a PR against this issue #1418 I think that should be the solution""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,18,2013-07-24 17:24:09,1358.57,,1,,"b""b' this issue is still showing on mine. duplicate error. using rails 4.1 with paperclip 4.2'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1292,closed,-,-,-,3,13,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,opened,2013-08-29 14:02:50,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,title,2013-08-29 14:02:50,00:00,,1,,"b""b' Deep merge Attachment options into default_options'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,body,2013-08-29 14:02:50,00:00,,1,,"b'b"" This is especially useful when a default option which takes a hash contains the key (e.g.  ). Without deep merging it would be impossible to add convert options for another style without overriding the convert options for styles: In the example above the convert options for are ignored"," while I\'d expect them to be applied since I didn\'t override them explicitly.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,1,2013-08-29 14:02:50,288.9,,,1,"b""b' Has anyone reviewed this yet? Cheers.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,2,2013-08-29 14:02:50,2.53,1,,,"b'b"" Sorry", I hadn\'t gotten to look at it yet," but this seem straightforward enough to include.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,3,2013-08-29 14:02:50,1253.5,,,1,"b""b' Cool. Can you merge it? That would be really helpful.Thanks.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,closed,2013-11-04 15:47:46,104.93,1,2,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,reopened,2013-11-04 15:47:51,0.08,1,2,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,4,2013-08-29 14:02:50,36.0,,,1,"b""b' Pulled this in"," thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,closed,2013-11-08 16:23:46,35.92,1,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1329,closed,-,-,-,1,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,opened,2013-09-30 21:37:28,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,title,2013-09-30 21:37:28,00:00,,1,,"b""b' Quick change to make it possible to ignore the :geometry option when defining styles'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,body,2013-09-30 21:37:28,00:00,,1,,b'b\' Hey, I\\\'ve made this little change because I found it frustrating that I couldn\\\'t make Paperclip avoid resizing my thumbnail by itself in order to resize it myself using  : I had to make a thumbnail of a picture which is just a cropped version of it, without any resizing.  After some trial and error I realized that it didn\\\'t look like it was possible unless I specified an empty string for geometry (which, using the old format, would end up making my styles look like  , which is kind of ugly.  I figured out that I could pass my styles as a hash by looking at the code, but not passing a geometry still gave me an error (because line 33 in  , won\\\'t work if geometry is not a string).  To solve that, I added a call to where the geometry is fetched from the options. This will make it so that if it\\\'s  , it\\\'ll just be turned into an empty string, with which Paperclip happily chugs along and doesn\\\'t resize the picture.  This is the use case: I haven\\\'t been able to test this change (and I\\\'m sorry for that) because I couldn\\\'t get the test suite to pass at all on my machine for some weird reason," but it would be great if you could run a quick test on it for me and let me know if there are any issues. To ""validate"" my change", I still tried pointing Paperclip in my app\\\'s gemfile to my local repository and trying to add a picture using my model without the geometry definition, and the error was gone. It\\\'s probably not enough to be 100% sure that it\\\'s a good change, but I tried my best and I\\\'m hoping that it\\\'s good enough for you to accept it. Thanks! **Commit message:****EDIT:** crap, I just realized I accidentally made this change on master. I hope that\\\'s not a problem for you.\'',,,,,,,,,,,,,,,
paperclip,1353,closed,1,2013-09-30 21:37:28,988.82,,1,,"b""b' Looks like this is merged.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,closed,2014-05-26 14:06:17,988.82,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,reopened,2014-05-26 14:07:07,0.83,0,3,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,2,2013-09-30 21:37:28,0.92,1,,,"b""b' I was mistaken.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,3,2013-09-30 21:37:28,703.77,,,1,"b'b"" I\'ve pulled this in and added a test for it. Normally we don\'t accept a PR without them"," so don\'t make a habit of this. :) Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,closed,2014-05-31 01:50:58,703.85,1,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1353,closed,-,-,-,1,3,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,opened,2013-10-25 11:40:55,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,title,2013-10-25 11:40:55,00:00,1,,,"b""b' Making duplicate error messages configurable'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,body,2013-10-25 11:40:55,00:00,,1,,"b'b"" Hi", After a little investigation into why validation messages are being duplicated," paperclip now sets errors on both the base and attribute. #1253  I\'m suggesting that we make this configurable so that those of us who only want them on base (or the attr) can easily allow this. As suggested ( @djcp  ) I\'m opening an issue so that this can be discussed and get everyone\'s feedback. So any suggestions on how this could be implemented? What the defaults should be? If its even a good idea to add the config? etc..""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,1,2013-10-25 11:40:55,228.23,,1,,"b'b"" We always set errors on base for presence failures", but didn\'t for size and content type failures. One idea I was tossing around was to look for simpleform / formtastic constants and then only copy errors to base when they are present.  Now that I remember that this was really a bug fix and not an additional feature, I\'m not sure about that. If we want to be able to skip copying errors to base," then it\'d probably be best as a global config option that doesn\'t change the current behavior by default.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,closed,2013-10-31 12:05:33,24.63,1,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,reopened,2013-11-22 12:18:08,12.58,1,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,2,2013-10-25 11:40:55,182.62,,1,,"b""b' +1'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,3,2013-10-25 11:40:55,222.65,,,1,"b""b' Hi @scottsherwood ! Is this still an issue for you in Paperclip; I know this issue is from approximately 2 years ago. If it is still an issue"," would you be willing to send in a PR to solve the problem? Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,4,2013-10-25 11:40:55,940.02,1,,,"b'b"" Hi @maclover7 Yes this is still an issue with paperclip"," but I\'m afraid my workload at the minute is a little to high and i\'m unlikely to have any time to work on this anytime soon. SorryScott""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,5,2013-10-25 11:40:55,106.13,,,1,"b""b' Will close this issue in favor of discussions in the two open PRs. Thank you all.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,closed,2016-05-09 15:40:34,202.43,2,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,6,2013-10-25 11:40:55,121.12,,1,,"b""b' Reopening this issue", as the two PRs were not good solutions for the problem. The issue persists," and a suggested workaround in application code is:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,reopened,2016-05-09 17:41:41,121.12,2,4,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,7,2013-10-25 11:40:55,880.85,,,1,"b""b' @tute: thanks for this workaround"," works great :)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,8,2013-10-25 11:40:55,109.22,1,,,"b'b"" Hi @tute", I think a proper configurable fix should be pursued because the solution you mention here: url  fails to take into account the validation that is only added to  , thus this error gets deleted and we end up with a similar problem that form builder users were having with regards to missing or hidden messages.  I think we all agree that this should be something handled internally to Paperclip rather than scattering these callbacks across a bunch of models in an app, especially considering the workaround isn\'t 100% working.  Perhaps we could decide on what the configuration option looks like," then work from there on a PR?  Something like:?   The presence validation would always be added to base regardless.  What do you think?""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,9,2013-10-25 11:40:55,916.32,,1,,"b'b"" I\'ve created a PR to fix this. I hope it meets your requirement in #2090:  > As stated in the other PR", I\'ll consider a fix that, without adding much complexity," takes care of both use cases.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,10,2013-10-25 11:40:55,1126.02,,1,,"b""b' Thank you for the feature request. Unfortunately we will be deprecating Paperclip and therefore will no longer be accepting new features.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,closed,2018-04-27 20:14:06,152.42,3,6,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1367,closed,-,-,-,3,6,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1396,closed,opened,2013-12-06 19:49:17,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1396,closed,title,2013-12-06 19:49:17,00:00,,1,,"b""b' IO Adapter for nginx_upload Module'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1396,closed,body,2013-12-06 19:49:17,00:00,,,1,"b'b"" This has been raised in issue #22 before", but would there be interest in a pull request adding an IOAdapter along the lines of this gist: url I\'ve only written the code today. But so far I see the following upsides:No copying of files during Rails request.No parsing of the multipart request body during the Rails request.drop in replacement: you can simply do (if you use bulk assignment," you will have to make sure that you permit to also be hash).""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1396,closed,1,2013-12-06 19:49:17,797.62,1,,,"b'b"" I\'ve updated the gist with an important security caveat. Basically", if the adapter is used without the correct nginx configuration, attackers could pass a temp filename just like the one nginx upload puts into the request, only have it point to some private location on the file system. Maybe there should be some kind of whitelist expression for the parameter. But still then attackers might be able to access user\'s running uploads. All of this is not an issue if nginx is configured correctly since it strips out post parameters for nginx upload endpoints,"'
paperclip	1396	closed	2	jyurek	2013-12-06 19:49:17	676.87			+1	b'b"" I would be interested in this, actually. However, I\'m not super interested in maintaining it, as I don\'t use nginx myself (I stick with heroku mostly). So what might be better is making another gem that sits alongside paperclip that adds this functionality. If you can\'\'t do this, then I\'d still consider a PR as this would be useful to others. Thanks for asking!""'
paperclip	1396	closed	3	jyurek	2013-12-06 19:49:17	0.87			+1	b'b"" Oh, I\'m going to close this request for now, but if you want to continue discussion on it, I\'ll reopen it. Thanks!""'
paperclip	1396	closed	closed	 - 	2014-01-02 20:24:38	35.35	1	1	3
paperclip	1396	closed	4	tf	2013-12-06 19:49:17	737.17		+1		b'b"" Thanks for your answer. While I generally like the idea of packaging this functionality as a separate gem, Paperclip\'s current io adapter architecture provides no good extension point for this scenario. As io adapters are being looked up in a global registry, I see no easy way to enable certain adapters only for certain attachments. This is problematic since the nginx upload adapter requires certain nginx configuration do be present in order to prevent severe security issues (see my comment above). Ideally, there would be a way to specify further adapters to be used with an attachment just like processors can be provided on a per attachment basis. This would probably require every attachment to have its own io adapter registry instead of depending on the global one. Alternatively, I could imagine extending to also pass the attachment itself to the proc. That way, the nginx upload adapter could look for a special option on the attachment in its block. To me this rather feels like a hack though. Does that make sense?""'
paperclip	1396	closed	5	jyurek	2013-12-06 19:49:17	442.15		+1		b'b"" Having the adapter be specified is rather against the idea of the adapter, which would take whatever\'s given and wrap it in an object so that Paperclip can use it. Looking at the testing lambda and testing the object as you have it in the gist should be more than enough, as no object will be passed to Paperclip that looks like that without the nginx module being used, correct?""'
paperclip	1396	closed	6	tf	2013-12-06 19:49:17	102.95	+1			b'b"" The problem comes up if for example a controller does not verify params viastrong parameters. Let\'s say there is an update action of the followingform somewhere in the codebase: If I now install the hypothetical paperclip_ningx_upload gem to increaseupload speed for some different endpoint of the application, the aboveaction becomes a security vulnerability unless I remember to also configurenginx upload for it. Otherwise an attacker could make a request whichresembled the hash passed by nginx to access arbitrary files on thefilesystem. I can think of no way the adapter could tell this apart from arequest correctly rewritten by nginx. I therefore would like to make enabling the nginx adapter for an attachmentmore explicit. 2014/1/6 Jon Yurek notifications@""'
paperclip	1396	closed	reopened	 - 	2014-01-07 14:11:31	1066.88	2	3	3
paperclip	1396	closed	7	jyurek	2013-12-06 19:49:17	1228.32		+1		b'b"" Well, for one, we can limit the places that the adapter will look for files to a specific directory, so you can\'t, for example, get /. After that, if someone wanted to look at the other uploaded files, they\'d need to guess nginx\'s naming scheme, which is likely unfeasible. But what mechanism would you propose for specifying that this upload would be done via nginx? I can\'t think of one that isn\'t, as you said, a hack.""'
paperclip	1396	closed	8	tf	2013-12-06 19:49:17	457.02			+1	b'b"" I guess you are right. The whitelist should probably be empty initially, so installing the gem alone does not automatically enable the adapter. At least the security caveat caused by unsafe assignment of attachments as described above would only concern attachments for which nginx upload is used. I\'ll package the adapter as a gem, add a security note to the README and post a link here once it\'s done. You can close the issue for now if there is nothing else to discuss. Thanks for help!""'
paperclip	1396	closed	9	tf	2013-12-06 19:49:17	1196.72		+1		b'b"" For reference, I\'ve started developing the gem in [-nginx-upload]url ""'
paperclip	1396	closed	10	jyurek	2013-12-06 19:49:17	1249.18			+1	b'b"" That\'s awesome. Thanks for your work, here.""'
paperclip	1396	closed	closed	 - 	2014-01-13 14:38:08	26.62	2	5	5
paperclip	1396	closed	11	tf	2013-12-06 19:49:17	1420.1		+1		b'b"" I\'ve updated the README with more complete usage instructions and notes about security concerns. Also the code is now available as a gem.""'
paperclip	1396	closed	-	-	-	-	2	6	5
paperclip	1419	closed	opened	calebthompson	2014-01-15 18:17:55
paperclip	1419	closed	title	calebthompson	2014-01-15 18:17:55	00:00	+1			b""b' After three long, hard years... we know how to upgrade'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1419,closed,1,2014-01-15 18:17:55,3.78,,1,,"b""b' :+1:'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1419,closed,closed,2014-01-15 18:21:42,3.78,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1419,closed,reopened,2014-01-15 18:21:51,0.15,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1419,closed,closed,2014-01-15 18:22:49,0.97,1,1,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1419,closed,2,2014-01-15 18:17:55,206.85,,1,,"b""b' Do you also want to remove the file?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1419,closed,3,2014-01-15 18:17:55,214.2,,,1,"b""b' It seems fine to me to leave it. The information is also in the release notes", though. My primary purpose was to have paperclip stop yelling at me when I bundle a new project. On Wed, Jan 15, 2014 at 4:48 PM," Mike Burns notifications@wrote:'""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1419,closed,-,-,-,1,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,opened,2014-04-24 20:49:01,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,title,2014-04-24 20:49:01,00:00,,1,,"b""b' ContentType detector backends'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,body,2014-04-24 20:49:01,00:00,,,1,"b'b"" I had a semi-urgent need to run paperclip based Rails apps on a linux CI host without command installed.  While I could ask the admin to install them", I chose to implement (mostly for a demo purpose) a monkey patch to override the command with [the mimemagic gem]url  and it turned out to work fine: [paperclip-mimemagic]url  If there were a proper hook to register a separate backend to detect content types for a file," i could write it as a proper plugin rather than a monkey patch. I wonder if there\'s any interest in it.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,1,2014-04-24 20:49:01,1345.5,,1,,"b'b"" We used to use gem before", but then we have to switch since people could spoof the file by changing the extension. By switch to gem, we\'d definitely open for the same vulnerability again. So, if you have a platform-independent filetype detection, please let us know. Otherwise," we\'ll have to stick with this for now.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,closed,2014-05-09 19:14:31,1345.5,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,2,2014-04-24 20:49:01,19.98,,1,,"b'b"" My understanding is that gem uses the magic match to detect file types", which is similar to what command does. I understand that there\'s always a way to spoof such implementations," but I\'d say it\'s not the same level with simply changing the extension. Having said that i understand the decision.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,3,2014-04-24 20:49:01,13.07,,,1,"b""b' Right. I missed the part. Hmmm ... Reopening this. This might be a good alternative for cross-platform solution.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,reopened,2014-05-09 19:47:34,33.05,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,4,2014-04-24 20:49:01,1405.1,,1,,"b""b' Is this fixed with #1839 ?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,5,2014-04-24 20:49:01,259.5,,1,,"b""b' ping @sikachu: is this fixed now?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,6,2014-04-24 20:49:01,1275.13,,,1,"b'b"" The gem and command are necessary for security purposes. You can disable them if you know what you are doing to get your desired behavior. This doesn\'t seem to be an issue in paperclip anymore"," so I\'m closing this issue. Thanks for reporting!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,closed,2016-05-09 20:47:18,59.73,0,5,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1523,closed,-,-,-,0,5,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,opened,2014-06-05 14:04:52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,title,2014-06-05 14:04:52,00:00,,1,,"b""b' Resumable uploads?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,body,2014-06-05 14:04:52,00:00,,,1,"b'b"" #### Use Case [url  does a pretty good job of explaining the problem", everyone reading this should check out that site. **Excerpts from url &bull;#### User Story In my case, we\'ve built an iOS application that uploads large high definition videos to a server. If an upload fails or is incomplete (maybe because the user\'s device backgrounded the application, they lose their connection, etc.) we don\'t want the upload to have to start from scratch. This would allow users to begin uploading a video from say a coffee shop," leave the coffee shop (thereby pausing the upload) and then resume the upload from home at a later time picking up where it left off.  **Examples of Resumable Uploads**[Dropbox API]url [Vimeo API]url [Amazon Web Services]url [TUS Protocol]url ""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,1,2014-06-05 14:04:52,592.3,,,1,"b""b' Hi @MarkMurphy ! Is this still an issue for you in Paperclip; I know this issue is from approximately 1 year ago. If it is still an issue"," would you be willing to send in a PR to solve the problem? Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,2,2014-06-05 14:04:52,65.58,,1,,"b""b' I believe it does not. @jyurek?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,3,2014-06-05 14:04:52,916.45,,,1,"b'b"" I don\'t think this is easily done in the gem. Happy to discuss how can we implement it! Thanks for your question.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,closed,2015-05-13 16:19:12,134.33,0,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,4,2014-06-05 14:04:52,1352.02,,,1,"b'b"" I\'d love to tell you about how we\'ve implemented this and what role Paperclip has played in it. There\'s lots of room for improvement. Is this where you\'d like to have the conversation?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,5,2014-06-05 14:04:52,315.92,,,1,"b""b' A new page in url  seems like a great place to publish that knowledge. Thank you so much!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,6,2014-06-05 14:04:52,0.27,,1,,"b'b"" If you\'d rather discuss"," we might reopen and continue here.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,7,2014-06-05 14:04:52,1008.77,,1,,"b'b"" @tute I think an open discussion would be more appropriate. I\'ve updated this issue so so that we all have a bit more context"," and a use case to base our discussions on.  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,reopened,2015-05-15 13:47:42,1288.5,0,4,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,8,2014-06-05 14:04:52,56.75,,1,,"b'b"" So here\'s what we use for our api currently:url  I\'ve also added the documentation for it there.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,9,2014-06-05 14:04:52,0.83,,,1,"b""b' That is great"," thank you! Do you have tests for that code?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,10,2014-06-05 14:04:52,3.1,,1,,"b'b"" @tute I do not yet", no. It\'s still very much experimental but that being said we are using it in production :blush: without any issues. Also, as I said above," I think there\'s lots of room for improvement.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,11,2014-06-05 14:04:52,0.27,,1,,"b""b' :+1: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,12,2014-06-05 14:04:52,2.02,,,1,"b""b' You might also be inspired by this server side implementation of the TUS protocol: url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,13,2014-06-05 14:04:52,16.08,,,1,"b'b"" Here\'s what I don\'t like about our implementation:The file is copied twice: Once the file is uploaded to our server we then hand it off to paperclip to process and upload to Amazon S3. This may be unavoidable but maybe there\'s a way to make this more efficient in terms of time eg. proxy the upload to S3 right off the bat instead of storing it locally first or upload the chunks to S3 in parallel as they come to the server.It uses the file system to store data (via json) about each upload which obviously isn\'t very efficient not to mention that you lose the abilty to query for info about uploads. Upload info storage should be configurable.To commit the upload involves having a model watch for the assignment of an upload id:  Not sure how else to accomplish this"," maybe it\'s as simple as turning this functionality into a model concern or maybe there\'s a totally different and cleaner way.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,14,2014-06-05 14:04:52,86.05,,1,,"b'b"" Another improvement that could be made is to checksum each chunk instead of or in addition to the file as it\'s modified. Keeping a record of each chunk the way AWS does would also be handy.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,15,2014-06-05 14:04:52,138.93,,,1,"b'b"" @MarkMurphy That looks really awesome", but considering we\'re piggybacking on , there\'s, sadly, really not room in Paperclip for that kind of code. I would absolutely polish it and publish it as its own gem, though. I\'m going to close this. If you want our input on this code and perhaps help making it better," make a new github project and drop a link here. That looks really cool.""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,closed,2015-05-15 18:00:12,252.5,0,8,9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1560,closed,-,-,-,0,8,9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,opened,2014-08-05 15:02:27,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,title,2014-08-05 15:02:27,00:00,,1,,"b""b' Handle AWS::S3::Errors::SlowDown'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,body,2014-08-05 15:02:27,00:00,,,1,"b'b"" Today we\'ve seen this error Our upload rate is far from high", plus we use a single Resque (concurrency = 1) to process thumbnails, and also confirmed by the log that there was no other records created around the same time. So probably we were just unlucky to hit this error, but when that happened, we observed that the original picture was uploaded successfully, but none of six thumbnails were created. Has anyone experienced this, and how do you deal with it? I think I\'d just rescue and retry with incremental backoff," but I\'d appreciate if I could get some insight on this topic. Here\'s related discussion on SO: [Amazon Web Services S3 Request Limit]url ""'",,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,1,2014-08-05 15:02:27,141.25,,1,,"b'b"" Hello"," I addressed this in e8c1dc8. While we can\'t fix it _permanently_ I hope this prevents you from seeing the error in the future.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,closed,2014-08-29 17:23:42,141.25,0,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,2,2014-08-05 15:02:27,28.75,,,1,"b'b"" @jyurek Wow", thank you! This is exactly what I wanted. However, is this backoff timer what you really intended? This means you retry after 8.3 minutes, 33 minutes, and 75 minutes, then give up. This is far too long lock-up for process-based concurrency like Unicorn or Resque (in fact, most popular config for Unicorn would kill the worker when it\'s unresponsive for 15-60 seconds). Normally, S3 wouldn\'t throttle unless you send like 1,000 PUTs per second. I would have expected more like that is, 5 seconds," 20 seconds and 45 seconds. WDYT?""'",,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,3,2014-08-05 15:02:27,3.55,,,1,"b'b"" Huh! Nope that\'s not what I meant. I meant not  ", so it will sleep 0.5 seconds, 1 second," and then 2 seconds. I guess I should add one or two more for 4 and 8 seconds. I don\'t expect those errors to happen very often. Good catch!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,reopened,2014-08-29 17:56:00,32.3,0,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,closed,2014-08-29 17:56:03,0.05,0,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1619,closed,-,-,-,0,2,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,opened,2014-09-07 00:28:09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,title,2014-09-07 00:28:09,00:00,,1,,"b""b' Paperclip copies too many files to the file system'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,body,2014-09-07 00:28:09,00:00,,1,,"b'b"" I don\'t want to depend on the file system.  Providers like Heroku like to pull the file system out from under running servers at inconvenient times", and those errors are just a load of fun to track down.  So, I try to use IO streams whenever possible.  In particular, if I save some content I\'ve generated (say, in a background task), I feed that content in to Paperclip using a StringIO object, or something similar. Up until recently this worked great.  Now, with spoofing detection and content type validation (which seems like good ideas, btw, just maybe not so great in practice yet) Paperclip feels the need to copy my stream to the file system.  Multiple times. First, the StringioAdapter creates a temporary file so it can run the content type check using a file command.  Two problems with this: first, if it\'s content I created I want to tell Paperclip to trust me and skip this step; second, the file command seems to be wrong about 60% of the time, creating validation errors for perfectly valid files.  For instance, it returns \'\' for a CSV file, and \'\' for an XLSX file; not great for anyone generating spreadsheet reports. Later, in order to do the spoof detection validation, Paperclip wraps my attachment in another adapter (AttachmentAdapter), which copies the content from the first temporary file to another temporary file.  Let\'s hope that first temporary file is still there.  And, again, if I generated the content myself then I\'m fairly certain there\'s no spoofing going on.  Again, Paperclip has no option to turn off this validation. Finally, when saving to the file system, Paperclip assumes that temporary files already exist and it can simply do a file copy from one place to another; sadly, those temporary files don\'t exist because I patched that nonsense out.  Now, no sensibly minded person stored content on the file system on a deployed application, and the S3 storage adapter treats the content (appropriate) as a stream.  So, this is just an annoyance for development.  But, an annoyance all the same. I\'ve solved these problems in a little library here: url  I\'m happy to turn these changes into pull requests, if they have any chance of being a) considered in some soft of timely fashion," and b) accepted.""'"
paperclip,1642,closed,1,2014-09-07 00:28:09,16.62,,,1,"b""b' Hi @amilligan ! Is this still an issue for you in Paperclip; I know this issue is from approximately 1 year ago. If it is still an issue"," would you be willing to send in a PR to solve the problem? Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,2,2014-09-07 00:28:09,871.27,,,1,"b""b' Thanks for your report. Closing in favor of duplicate url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,closed,2015-05-16 15:16:02,887.88,0,2,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,3,2014-09-07 00:28:09,256.65,,1,,"b""b' #1326 does not solve this issue", does it? As far as I can understand," it still relies on a filesystem and we are still not able to circumvent the spoof detection for trusted content. The issue raised here is related to using paperclip in memory only scenarios with StringIO.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,4,2014-09-07 00:28:09,53.68,1,,,"b'b"" No"," that issue isn\'t actually related.  I chose not to fight that battle.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,reopened,2016-08-19 15:12:48,1436.77,1,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,5,2014-09-07 00:28:09,72.32,,1,,"b""b' Merged in url  that uses links instead of files when possible.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,6,2014-09-07 00:28:09,1382.68,,1,,"b""b' Solved via #2290.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,closed,2018-04-27 20:41:23,328.58,1,5,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1642,closed,-,-,-,1,5,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,opened,2014-09-19 17:09:26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,title,2014-09-19 17:09:26,00:00,,1,,"b""b' 4.2.0 :styles are not creating image '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,body,2014-09-19 17:09:26,00:00,,1,,b'b\' UsingRails 4.2.0 (beta1)paperclip 4.2.0 I\\\'ve tried to get the Rails 4 example from the README running: In the log file," I can see: But only the ""original"" folder containing the original image file gets created. No ""medium"" and no ""thumb"" .\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,1,2014-09-19 17:09:26,948.73,,1,,"b'b"" I\'m having this same issue. I have to go into the rails console currently and run which then works.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,2,2014-09-19 17:09:26,878.4,,1,,"b""b' Does it work if you define it like this?  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,3,2014-09-19 17:09:26,603.6,1,,,"b'b"" Strangely this works in a new project and the version of paperclip is the same in both (4.2.0) so I\'m presuming this could be an issue with something else.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,4,2014-09-19 17:09:26,906.3,,,1,"b'b"" Hi everybody! Is this still an issue for you in Paperclip; I know this issue is from approximately 1 year ago. If it is still an issue"," can you please provide the code that\'s causing you the error? Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,5,2014-09-19 17:09:26,1116.7,,,1,"b'b"" Given there\'s no activity around this issue any more", I hope things are working well for you now. I\\xe2\\x80\\x99ll close the issue," happy to continue further discussion if we can find the problem or a fix for it. Thanks for your input!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,closed,2015-05-15 19:23:10,133.73,1,4,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,6,2014-09-19 17:09:26,862.32,,,1,"b""b' Still now working on my end. Aside from original"," styles are not generated. See my code below ![ppclip]url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,reopened,2015-09-18 00:54:12,331.03,1,4,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,7,2014-09-19 17:09:26,974.42,,,1,"b'b"" I\'ve got 2 paperclip installed in my end. I\'ve got this working by uninstalling the lower version of paperclip. Thank you!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,closed,2016-05-09 20:39:16,1185.07,1,4,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1656,closed,-,-,-,1,4,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,opened,2014-11-15 05:54:34,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,title,2014-11-15 05:54:34,00:00,,1,,"b""b' Fast to slowly spec'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,body,2014-11-15 05:54:34,00:00,,1,,"b""b'   to at trim indent'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,1,2014-11-15 05:54:34,865.77,,,1,"b'b"" Can you remove the whitespace changes in this? I\'m all for fixing formatting", but that should be a different change. Also, there are no version specifications for activerecord-import. Its README is clear about which version to use with a given version of Rails. It seems like including it should not go in the main gemspec," but instead in the Appraisal files. Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,2,2014-11-15 05:54:34,310.6,,1,,"b""b' How about this"," I tried to change?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,3,2014-11-15 05:54:34,1174.37,,,1,"b'b"" I\'ve pulled this in. Thanks!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,closed,2014-12-05 21:05:18,910.73,0,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,4,2014-11-15 05:54:34,2.17,1,,,"b'b"" Wait", sorry. I can\'t pull it in," until we get the version problem with activerecord-import sorted out.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,reopened,2014-12-05 21:07:28,2.17,1,3,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,5,2014-11-15 05:54:34,1129.83,,,1,"b""b' Berry Nice Hound'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,6,2014-11-15 05:54:34,6.03,,1,,"b""b' was through smoothly and because I have done a setup of gemfiles.local done.  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,7,2014-11-15 05:54:34,289.8,,,1,"b""b' Hi @soramugi ! Is this still an issue? If so"," can you please rebase your PR and make sure everything is passing? Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,8,2014-11-15 05:54:34,868.55,,1,,"b""b' @jyurek I wonder if had not been through the test when I think I had been once merge . But what with this because this time can be confirmed that the test has been through .'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,9,2014-11-15 05:54:34,253.77,,,1,"b""b' Thanks @soramugi! I rebased your history into this commit: url  But before I merge", can you please tell me why do we need the new gem? And also, is the spec still testing what it has to test," even after your division in 100 chunks? Thank you!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,10,2014-11-15 05:54:34,578.68,,,1,"b'b"" @soramugi we are close to merge! Please don\'t forget those questions! :+1: ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,11,2014-11-15 05:54:34,1315.32,,1,,"b'b"" Quoting from the project\'s README to answer my question:""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,closed,2015-09-11 13:21:58,974.5,1,6,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,12,2014-11-15 05:54:34,853.35,,,1,"b""b' Thank you! :clap: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1700,closed,-,-,-,1,6,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,opened,2014-11-22 19:51:59,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,title,2014-11-22 19:51:59,00:00,,1,,"b""b' Change MD5 Fingerprints to SHA1 Fingerprints'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,body,2014-11-22 19:51:59,00:00,,1,,"b""b' MD5 can collide.  SHA1 is better.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,1,2014-11-22 19:51:59,20.8,,1,,"b'b"" I\'m not sure why the paperclip spec for fog is failing...""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,2,2014-11-22 19:51:59,1354.65,1,,,"b""b' :+1: @jyurek Please merge this change. On modern hardware SHA1 is even faster than MD5 and at the same time it is less prone to collision attacks. The travis error has nothing to do with this change. According to the Travis build history the fog test failure did also occur with other PRs.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,3,2014-11-22 19:51:59,87.2,,,1,"b'b"" This seems fine. But this is a pretty big change", given that people currently have fingerprints in MD5 format. But, anyway," collisions are problems with hashing functions in general. Are collisions actually something you\'ve had problems with in Paperclip?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,4,2014-11-22 19:51:59,22.0,1,,,"b'b"" It\'s known for a long time that MD5 is vulnerable to collision attacks. For SHA1 on the other hand", there are still no known collisions, although that might just be a matter of time. I did not have problems yet, but I am using it in a critical environment, so I\'d rather be safe than sorry. I don\'t fear the probability of accidentally colliding filenames, but a deliberate collision attack by a malicious user. (Maybe I am a little paranoid :D) Regarding backwards-compatibility:It is likely that some paperclip users relied on the fact that it uses MD5 for the fingerprint. What do you think about letting the user choose the hash algorithm?I\'d use MD5 as a default," so existing apps won\'t be affected. The rails generator could then add the SHA1 setting for new apps.""'",,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,5,2014-11-22 19:51:59,16.9,1,,,"b'b"" @jyurek With a carefully crafted file", an attacker cam create two distinct files that make the same MD5, and given the nature of paperclip, I think it would be best to move to SHA1. @clemensg I don\'t like the idea of making MD5 default.  The Rails Way\\xe2\\x84\\xa2 is convention over configuration, so they should have to choose to use MD5; not to say that the compatibility thing isn\'t an issue," though. Maybe have a converter that updates the hash to SHA1 whenever it can?""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,6,2014-11-22 19:51:59,29.58,,1,,"b""b' Maybe a rake task to regenerate all fingerprints and a warning in the README and NEWS file? @jyurek Do you expect any issues with backwards-compatibility?What is your opinion on the configurability of the hash function and how do you want to proceed?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,7,2014-11-22 19:51:59,1330.07,,,1,"b'b"" Yes", I expect issues with backwards compatibility! If we\'re going to add this, then an option for which Digest class to use should be in place, but I\'m not 100% sure  to add it yet. The method is in ," which doesn\'t have access to the Paperclip options.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,8,2014-11-22 19:51:59,80.45,,,1,"b""b' Hi everybody! Is this still an issue? If so"," can you please rebase your PR and make sure everything is passing? Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,9,2014-11-22 19:51:59,116.58,,1,,"b'b"" Yeah", I\'ll rebase this," give me a little while.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,10,2014-11-22 19:51:59,40.13,,1,,"b'b"" Updated"," but I\'m not sure what\'s going on with travis...""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,11,2014-11-22 19:51:59,878.12,,1,,"b""b' This looks set to go. paging @jferris @jyurek '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,12,2014-11-22 19:51:59,204.18,,1,,"b""b' Any progress on the status of this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,13,2014-11-22 19:51:59,473.88,,,1,"b'b"" Hi @medcat! Currently just waiting on @jyurek or @jferris to say if this is ready to be merged into Paperclip. I think it\'s ready"," but we need to wait for one of them (I don\'t have write permissions to the repo).""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,14,2014-11-22 19:51:59,781.57,,,1,"b'b"" Hi! What about existing projects who update to this version.. shouldn\'t there be a way to automatically migrate their MD5 fingerprints to SHA1? A rake task to force the regeneration of all fingerprints would be nice.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,15,2014-11-22 19:51:59,376.43,,1,,"b""b' paging @jferris @jyurek @mike-burns '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,16,2014-11-22 19:51:59,1279.17,,,1,"b'b"" This isn\'t going to get merged without a way to either automatically update the hashes or a way to switch between which class is doing the digesting. As I said before"," there are a LOT of people already using MD5 hashes and this would break every single one. Please address this or it won\'t get merged. Thanks.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,17,2014-11-22 19:51:59,163.68,1,,,"b""b' Alright"," that should be all of the changes. Hound is frustrating...'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,18,2014-11-22 19:51:59,2.98,,1,,"b""b' If you like"," I can attempt to rebase it on to the master.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,19,2014-11-22 19:51:59,1338.43,,1,,"b""b' Please rebase on master. @jyurek @mike-burns Status here?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,20,2014-11-22 19:51:59,190.33,,,1,"b""b' Great work @medcat !  :+1: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,closed,2015-08-01 00:55:22,303.38,4,11,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,reopened,2015-08-01 01:58:49,63.45,4,11,7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,21,2014-11-22 19:51:59,928.32,,1,,"b'b"" What\'s the status here on this PR? @jyurek @mike-burns @maclover7 @medcat ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,22,2014-11-22 19:51:59,1.9,,,1,"b'b"" There\'s one more modification I want to make before I\'m going to be happy with it"," give me a little bit to get it working""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,23,2014-11-22 19:51:59,38.9,1,,,"b'b"" OK. Some thoughts regarding MD5 being insecure and switching to SHA-1:Maybe we should just use SHA-2 with 256 bits instead of SHA-1", otherwise we\'ll be switching again in a few years? It\'s already in sight that SHA-1 is unusable," especially since url  and we can expect it to become worse every year. So I would suggest using SHA2 with 256 bit or maybe even SHA3 (Keccak) with 256 bit ? But SHA2 would definitely be much faster on current hardware as it is already hardware accelerated on most processors. What do you think?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,24,2014-11-22 19:51:59,420.82,,1,,"b""b' I chose SHA1 because it was still decently short", and was still more secure than MD5.  However, if there are questions on the security of SHA1, I can (and will) move the default to SHA256/SHA384/SHA512. On another note, a side effect of this pull request allows developers to choose the digest that they want; so, the more security conscious can go with a more secure hashing mechanism. The change only requires a contract of  ,  , and  ," meaning that it would be trivial to support other hashing mechanisms than those provided by Digest and OpenSSL.'""",,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,25,2014-11-22 19:51:59,19.93,,1,,"b""b' I believe I am content with it.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,26,2014-11-22 19:51:59,292.63,,1,,"b""b' It defaults to MD5 now.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,27,2014-11-22 19:51:59,638.8,1,,,"b'b"" I believe defaulting to MD5 is a mistake with this change possibly getting released with Paperclip 5.0 (#1991", #2049), where you can \'get away\' with breaking changes. Keep it around as an option for existing users to add so they can upgrade the hashes at their own pace, but keep it secure by default. Go with SHA2," based on url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,28,2014-11-22 19:51:59,6.32,1,,,"b'b"" I second that. SHA-256 seems to be a safe default for Paperclip 5.0.The upgrade rake task makes the update process easy. I think it is a mistake to switch to SHA1 which has several known flaws. If we update then let\'s go straight to SHA2 (with 256 bits). SHA2-512 and SHA3 are probably overkill. This PR is sitting around since the end of 2014. Any remaining objections from the maintainers? @jyurek @tute @mike-burns @maclover7 ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,29,2014-11-22 19:51:59,358.22,,1,,"b""b' Deferring to @jyurek.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,30,2014-11-22 19:51:59,1414.47,,,1,"b""b' I agree that if we change the hashing algorithm", it should be by default, and it should be configurable so users upgrading can continue to use until needed. We can make this decision until we release the next major version, which is soon upcoming. We want to comply with the coding standards and Hound comments for changed code, but leave alone the preexisting code. That way the changeset is smaller and easier to review. If there are only stylistic changes and you can undo them," please do. Thanks! Can you please rebase on top of latest master? Thank you all for your input and work.'""",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,31,2014-11-22 19:51:59,1141.22,,1,,"b'b"" Unless somebody beats me to it", I\'m willing to work the next week on rebasing this PR with SHA256 as default, incorporating the feedback from Hound and the above comment from @tute," so this can ship in Paperclip 5.0.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,32,2014-11-22 19:51:59,8.58,,,1,"b'b"" Closing in favor of @bdewater\'s url  Thank you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,closed,2016-08-16 14:09:15,730.43,7,17,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1708,closed,-,-,-,7,17,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,opened,2015-07-06 04:50:25,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,title,2015-07-06 04:50:25,00:00,,1,,"b""b' CSV upload: has contents that are not what they are reported to be'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,body,2015-07-06 04:50:25,00:00,,1,,"b'b\' I am getting this error while uploading csv file  in paperclip -v 4.3. For image files it is working. Error: ""has contents that are not what they are reported to be"".\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,1,2015-07-06 04:50:25,1160.47,,,1,"b'b"" I am getting the same error while uploading images as well. gem \'paperclip\'", \'~If I use the latest version," it goes in an infinite loop !""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,2,2015-07-06 04:50:25,951.78,,,1,"b'b\' This is because it\\\'s hitting the media-type validation. This means that either the name or content type of the file being uploaded does not match the content type of the file as determined on the server. What is the name of the file you\\\'re trying to upload? Does it end in "".csv""? Are you using a custom server or hosting on heroku?\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,3,2015-07-06 04:50:25,130.23,,1,,"b""b' while uploading .csv file. It is not a content type validation. same file working well with paperclip 4.2.1. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,4,2015-07-06 04:50:25,1399.37,,,1,b'b\' I\\\'m seeing the same thing with PDF attachments. Works fine with 4.2.1," but gets the ""has contents that are not what they are reported to be"" error in 4.3.  The error doesn\\\'t show up in dev environment where the attachment is being saved locally. It only happens in staging or production on Heroku where the attachment is being saved to S3.\''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,5,2015-07-06 04:50:25,427.77,,1,,"b'b"" I see this problem for CSV files...  for uploads from chrome and ie on windowssee:url reported there that this content type comes from the windows registry.This is such a standard case that I don\'t think users should have to configure special mime types.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,6,2015-07-06 04:50:25,15.62,,1,,"b""b' @bwlang i was able to fix a similar situation (csv files"," windows) with this in the initializer:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,7,2015-07-06 04:50:25,45.9,,1,,"b'b"" @sgringwe Yes your suggestion works... I did this instead;  (which avoids the deprecated index_extensions method) [:content_type_mappings] = {:csv =However", I suspect this will bite almost anyone who want to handle csv file uploads from windows.  I\'m thinking about how to reasonably make this a better experience for devs. options that occur to me:extend url  to include csv for -excel modify paperclip to stop caring about application/\\\\* not sure yet if this is a security problem (maybe we don\'t care if application a attempts to parse data from billed as application b)code in this kind of special case to paperclip, maybe via some default content_type_mappings (undocumented config option used by media_type_spoof_detector) currently the default for content_type_mappings = {}," it could be {csv: \'\'} but this seems like a slippery slope toward reimplementing  in paperclip. Now that I think more about it... we should probably not be trusting anything the client has to say about the file type anyway (who\'s to say the client is friendly)What about just comparing the results from with the developer specified content type?I\'ll submit a pull request to that effect unless I hear a better idea. any other ideas?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,8,2015-07-06 04:50:25,1011.88,,1,,"b""b' I also ran into this and fixed it using  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,9,2015-07-06 04:50:25,35.73,,,1,"b""b' Also seeing this error. We tried the fix suggested by @sgringwe and still had the same error on Windows. For now we just rolled back to a previous version. @dcromer fancy seeing you in this thread!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,10,2015-07-06 04:50:25,1331.3,1,,,"b""b' I see the same message with webrick and nginx when uploading this json file", which contains embedded html: url  Once I remove the embedded html," the error disappears.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,11,2015-07-06 04:50:25,1305.1,,,1,"b'b"" I\'m running into this error when trying to generate the image from a url from Amazon S3: It was working in 4.2.1.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,12,2015-07-06 04:50:25,889.7,,1,,"b'b"" @bwlang\'s solution works for also.  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,closed,2015-09-01 05:55:16,64.85,1,8,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,13,2015-07-06 04:50:25,1098.6,,1,,"b'b"" @bwlang I tried your solution and didn\'t work for me. Basically I created a initializer file and added the config there.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,14,2015-07-06 04:50:25,1099.2,1,,,"b'b"" @jyurek sorry man"," I still having this issue and it\'s with every type I used. Right now I am trying to upload file. You say something about the content type. I had this content type for the file I am trying to upload but even that I got this in the output this is my validation  Please I need help with this.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,reopened,2015-09-08 03:36:27,1301.18,2,9,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,15,2015-07-06 04:50:25,578.58,,1,,"b""b' @yordis I am having this issue also"," have  you fixed it?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,16,2015-07-06 04:50:25,20.83,1,,,"b'b"" @metrue nop", every single validation fail for me," no matter what type I used :disappointed:  and I can\'t rollback because is locked :cry: ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,17,2015-07-06 04:50:25,12.03,,1,,"b""b' @yordis  in my case", the validation for image works well, but for audio, like .mp3," it always meets this issue.here is my validation condition:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,18,2015-07-06 04:50:25,479.27,,1,,"b""b' @metrue try to use for too and see if that works'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,19,2015-07-06 04:50:25,148.48,,1,,"b'b"" I\'ve hit this issue as well but with a user uploading a pdf (on ).  Here\'s the log notice: To me it looks like the header\'s \'\' lines up with the Extension\'s \'\'"," so why does it think it\'s a spoof?  I was able to upload the file without issue with Chrome on Linux.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,20,2015-07-06 04:50:25,163.4,,1,,"b""b' Using Fixed the issue for my client.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,21,2015-07-06 04:50:25,1153.42,1,,,"b""b' I was seeing this message in an app I was working on that had set should the content spoofing code respect that setting or does it cover a slightly different use case?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,22,2015-07-06 04:50:25,421.52,1,,,"b""b' In this article (see the very bottom): url  There is this line:This is crazy! For my app I only have trusted users (verified admins) uploading files"," and its OK to upload arbitrary files. How can I disable this validation all-together?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,23,2015-07-06 04:50:25,35.42,,1,,"b""b' @ruckus monkey patch this url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,24,2015-07-06 04:50:25,1256.82,,1,,"b'b"" I get the following spoof when uploading a .csv on -v 4.3.1 on Windows machines:  I\'ve tried the initializer:  I\'ve tried the attachment:  any suggestions? ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,25,2015-07-06 04:50:25,269.83,1,,,b'b\' This is still very buggy. The question was raised several months ago; why are we listening to what the client has to say about the filetype? Simple MIME validation reveals that CSVs, correctly saved," are going to be """" or """" -yet with content type validation", by default, we get THREE errors on CSV upload! The initializer only takes care of the one of errors. Paperclip still says it\\\'s not a valid CSV type... so we must turn off file type validation completely? Seems like a horrible idea... I am going to test rolling back to an older version of Paperclip, as mentioned above.\'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,26,2015-07-06 04:50:25,1117.3,,1,,"b""b' Hi All", Still I am facing this issue with paperclip 4.2.1(meanwhile tried with 4.3.0, then did rollback to 4.2.1 ). I think," contributor added few MIME types in the latest version. But worth trying the below  work around which was added  by the contributor in paperclip wiki. It works with few MIME type deprecated warnings. you may wish to add your custom extension to the list of file extensions allowed for your MIME type configured by the mime-types gem:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,27,2015-07-06 04:50:25,121.4,,1,,"b""b' I had a similar problem with mp3 files being detected as Spoofs.To fix it I had to add the following to  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,28,2015-07-06 04:50:25,49.62,,1,,"b""b' @rossinkiwi just in case. Are you using Postman?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,29,2015-07-06 04:50:25,1233.07,,1,,"b""b' No.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,30,2015-07-06 04:50:25,202.2,,1,,"b'b"" I am running into this issue as regards .zip files.  So far the below is fixing it for me", but I won\'t be surprised if another variant of a zip mime type shows up. I wonder if isn\'t looking in too many places, as it tries to match content-types from headers, file inspection," and as implied from filename extension?  Wouldn\'t it be cleaner to simply rely on the results of file inspection?""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,31,2015-07-06 04:50:25,1129.38,,1,,"b'b"" @ruckus and others in a similar situation\\xe2\\x80\\x93when only admins are authorized to upload anyways\\xe2\\x80\\x93here\'s a monkey patch __ initializer we use: Use with care.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,32,2015-07-06 04:50:25,1346.57,,1,,"b""b' For the problem uploading CSV on Windows"," I came up with the following solution: add to the model:  and to the initializer:  It worked for me. It was tested using Windows 7 Professional'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,33,2015-07-06 04:50:25,1409.6,,1,,"b'b"" please note that CSV files come through as _if you don\'t have Excel install on your Windows machine_. Once you install Excel"," your CSV files come trough as  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,34,2015-07-06 04:50:25,452.37,,1,,"b'b"" @tute I guess the actual problem is in running the file command used to discover the content-type.Some how system in not able to find the \'file\' executable"," if we specify the command_path explicitly then it solves the issue. url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,35,2015-07-06 04:50:25,1178.63,,,1,"b'b"" After 16+ months", there is still no solution?  Why can\'t the option to disable the  logic be added in.  It\'s an imperfect solution, but since it appears there is no perfect solution and actual implementers are likely to understand their use-case and exposure better," making such an option available at least allows windows users the basic option to upload CSV and other files.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,36,2015-07-06 04:50:25,317.47,1,,,"b'b"" I\'ve added the code below to fix this bug and while it has removed the messages about \'File is invalid\' and \'File content type is invalid\'"," I still get the \'File has contents that are not what they reported to be\' model:  mime_ initalizer: Paperclip initializer:  Any other suggestions?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,37,2015-07-06 04:50:25,1117.07,1,,,"b'b\' I implemented what jake-007 posted and it works (put it into a """" file in the initializers directory).  It does yield a warning (about redefining a constant)", but at least my users can upload files again.  Silly that you have to go to this extent so an end user can upload a file with this.\'',,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,38,2015-07-06 04:50:25,66.9,,,1,"b""b' @gduprey that worked"," thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,39,2015-07-06 04:50:25,808.43,,1,,"b'b"" My opinion is this (take it with a grain of salt", though, because I am probably missing some critical context, since I have no familiarity with Paperclip internals or it\'s history):1. Rejecting uploads because the mime-type **as reported by the client** doesn\'t match the mime-type **as determined by the server** seems like the incorrect approach. If the server can determine what the actual mime-type is, then I don\'t think the mime-type reported by the client is actually useful, since it can\'t be trusted. Instead, I think the only matter of concern is:  Is the mime-type **as determined by the server** a mime-type that we want to accept?2. Having a validation that can\'t be turned off seems like a bad idea. I think enabling it by default is a good idea, but being able to turn it off is critical. After all," a developers using Paperclip understands their app and use case best and I think they should be allowed to ignore some strident warnings and turn the validation off if that\'s what they think is best for their situation. I would be willing to help get a PR together for this if somebody who is more familiar with the codebase and architecture can point me in the right direction and perhaps enumerate some of the issues I should consider.""'",,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,40,2015-07-06 04:50:25,656.12,,,1,"b'b"" I think @rico-icecable comments are spot on: the MIME sent by the client can\'t be trusted and thus should be completely ignored", and there should be a way to disable the validation. In my case, Firefox would sometimes set the MIME to when sending a PDF. Although the file was a perfectly valid PDF," the spoof detector rejected the file because the browser said it was a instead of a  . I don\'t care what the browser thinks the file is if it\'s a valid PDF it should be accepted. I was able to make it work for me setting the validation as follows: And adding the following in an initializer:  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,41,2015-07-06 04:50:25,1410.38,,1,,"b'b"" Just as an aside", I\'m also having type detection issues with webfonts (which are detected as -stream) and minified javascript files (which are detected as text/x-csrc or text/x-matlab) I\'ve attempted the above approaches with the paperclip options and addition of the MIME::Types  in an initializer but this doesn\'t seem to make any difference. This has been an issue ever since 4.0.0 when changes were first made to the mime detection setup, currently holding me down at 3.x which is now causing problems with bringing Rails up to date. Don\'t mind if hacks are quick and dirty," but would love to find a working option.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,42,2015-07-06 04:50:25,20.55,,,1,"b'b"" Further hunting around seems that the monkey patch proposed in #1713 seems to get things working for me in the short term"," although I appreciate it\'s not a problem workable option.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,43,2015-07-06 04:50:25,64.7,,1,,"b""b' Still running into this -still having to use the monkey patch.  Wish there was a better resolution...'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,44,2015-07-06 04:50:25,750.33,,1,,"b'b"" I\'m not confident that my above PR will get merged"," considering the maintainer\'s attitude towards security (as that setting will reduce security) but it should be better than having people monkey patching.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,45,2015-07-06 04:50:25,1290.28,1,,,b'b\' using paperclip 5.0.0.. the weird part is there is no error yesterday with my code.. can upload images like it suppose to be.. and today," i run again.. this error of ""Image has contents that are not what they are reported to be"" occur", even with the same image i upload yesterday.. the problem solved after i add validate media type command:  has_attached_file :image, { validate_media_type: false }  Even the problem solved, it still bugging me.. i don\\\'t do any changes yesterday. I run the same code and image.. today suddenly got error  *sorry for my bad english ^^\\\'  \'',,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,46,2015-07-06 04:50:25,448.63,,1,,"b""b' Was Microsoft Excel installed on either the computer from yesterday or today? The MIME type is reported by your operating system. If you switch OSes", install Excel, etc," you could see a difference Sent from my iPhone'""",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,47,2015-07-06 04:50:25,915.0,,1,,"b""b' Nope. I installed Microsoft Excel about 6 month ago. @jasonfb '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,48,2015-07-06 04:50:25,289.62,,1,,"b""b' @jake-007 solutions saves me with regards to issue in .m4a file.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,49,2015-07-06 04:50:25,874.85,,,1,"b'b"" lol", the birthday of this issue is approaching," let\'s make the party \\xf0\\x9f\\x8e\\x89 ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,50,2015-07-06 04:50:25,127.88,,,1,"b""b' @MrEmelianenko yeaaaaaaah!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,51,2015-07-06 04:50:25,497.78,,1,,"b""b' Same issue with Axlsx gem. File is created through the #serialize method. Using mongoid_paperclip gem. '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,52,2015-07-06 04:50:25,1407.2,,1,,"b""b' Just encountered this error trying to import a follower list from g0 to  (but it worked with an export from ...)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,53,2015-07-06 04:50:25,639.5,,,1,b'b\' Is there an official workaround for this? I tried the suggestions above," and they don\\\'t seem to work on 5.0.  Edit: turning off validation altogether with does seem to ""work"" but ideally there\\\'d be a way to keep it", and just tell it that most of the world uses these other acceptable names for this content type.  I\\\'d rather not open up to people being able to upload executable files when I\\\'m expecting a CSV, but I have to let people upload CSVs, so I\\\'m not sure what other option I have if we want to continue using paperclip, which has otherwise been fantastic!\'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,54,2015-07-06 04:50:25,861.23,1,,,"b'b"" I\'ve been fighting with XLS and PPT files for two days now.  Seems to be an ever-present error with Paperclip.  I wish our production app didn\'t rely so much on Paperclip", or Paperclip didn\'t rely so much on MimeMagic (which is stale), but we can\'t get around it.  Paperclip team: this has been an issue that\'s gone back as far as 2015 on Github, as far as I can tell.  When will you all provide us some alternative ways of specifying mime types without having to monkey patch stuff (which always has unexpected results), or at least provide the community with guidelines on how to either use Paperclip with files that are not images," or what you all are looking for in a pull request?""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,55,2015-07-06 04:50:25,965.9,,,1,"b'b"" If anyone watching this thread is interested in putting together a PR (I think @rico-icecable\'s suggestion [here]url  seems most promising"," I\'d be happy to sponsor its development. Just comment here or email me if you are interested and we can make it happen.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,56,2015-07-06 04:50:25,791.5,,,1,"b'b"" @ghiculescu -the never-ending MIME type issue with paperclip may one day see a fix? I never thought I\'d live to see the day ;)  I corresponded on this issue (and ran into it) over several years. The *essence* of my understanding is that the client-side MIME reporting of the file\'s type can\'t actually be trusted", but the authors of the gem have make an implementation that explicitly has a philosophy that conflicts with this \\xe2\\x80\\x94 it explicitly trusts client-side sent MIME types, and has a validation that cannot be turned off. (It\'s that last part that seemed most problematic to us, since turning off the client-side MIME validation seemed like a good work around to us.)  The only *true* fix is to actually somehow verify your file input *on the server side*. The MIME-type sent by the client is just a convenience but does little from a security perspective because it can be spoofed. So... i\'d be happy to offer to work on this but I\'d recommend the following:  1) the option to turn *off* the MIME type validation be added back into the gem if it hasn\'t already. (I think it was there, then got removed, etc)  2) there will be some added documentation that MIME-type detection is not foolproof, and does nothing from a security perspective, and that CSVs, Windows operating systems,"  and other files have known quirks when using MIME-type detection (explained in copious detail across this issue). I will of course document the known work-arounds which all seem like acceptable work-around to me.  do you think that direction would be welcomed by the gem\'s authors? I just don\'t want to start down a path if it is inconsistent with the philosophy of the gem. ""'",,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,57,2015-07-06 04:50:25,626.62,,1,,"b'b"" @jasonfb I agree that paperclip should only care about the server-side MIME.  I think if you add an option to disable", you need to very clearly explain the risks associated. Honestly I can\'t think of a good use case for disabling that can\'t be better solved by doing server-side MIME validation properly. My suspicion is that everyone who disables by monkey patching at the moment does so because client-side validation is always wrong for popular file types on popular operating systems. So if that problem goes away, the incentive to disable might go away too.  re: added documentation, basically same as above. I would be interested to understand how important that is in light of paperclip doing validation in a more sensible way.  My understanding (or at least, my use case) is that point of all these checks to protect your app from someone uploading an exe but putting a .csv on the filename, because otherwise you might trust that file, and allow another user to download it, and then they would run the bad exe. As far as I can tell, all the problems come about when you do client-side MIME validation that catches this use case, but also catches legitimate CSVs for a multitude of reasons. If we remove client-side validation and just check on the server and if this use case still works then it should be happy days.  In terms of the gem\'s authors, I have no idea what their philosophy on this is. But I think the gem\'s userbase (or at least," me) are very keen for a proper solution here.""'",,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,58,2015-07-06 04:50:25,66.97,,1,,"b'b"" @ghiculescu @jasonfb I made a PR a while back that is supposed to add an option to disable MIME-validation. However"," one of the comments there is that it\'s already available on a per-model basis.  Here\'s the comment & my PR: url I haven\'t verified the comment but perhaps it can help you.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,59,2015-07-06 04:50:25,683.38,,,1,"b'b\' \\xf0\\x9f\\x91\\x8d  is there a good option out there for doing the server side validation that you know of? (like an existing gem) I\\\'m just thinking out loud here but thinking how we could point someone in the right direction for ""doing server-side MIME validation properly"" as you say. \''",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,60,2015-07-06 04:50:25,479.7,,1,,"b'b"" If this is still open in a couple of months", I\'ll take a crack at it then. In the meantime, if anybody is going to tackle it now, the README has a bit of text that suggests Paperclip already does server side MIME type checking: That is at the very bottom of the [Validations section]url After further digging," it looks like a [comment on @rystraum\'s PR]url  is saying that Paperclip uses to do file type checking.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,61,2015-07-06 04:50:25,67.85,,1,,"b'b"" Random thought.  Reading through alot of the error reports seem to be windows application based things.  Is it possible the detector just needs to ignore the byte order mark at the beginning of some windows files?  I ask because I\'m getting a similar issue to this when uploading an svg file with a BOM on it. It only happens when I\'m using the google cloud file storage and not when I\'m storing to my local file system in dev.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,62,2015-07-06 04:50:25,1088.75,1,,,"b""b' OK", so I had the same problem, but with JSON files with .json extension.   utility reported MIME type to be  , while gem said it was  . Comparison happens in file on 41 line. So," two possible solutions: 1) Add to list of extensions for type (this is what I ended up doing):  '""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,63,2015-07-06 04:50:25,50.92,1,,,"b""b' @hiphip90 the MIME type comes from the browser"," not detected on the server. Several others I think have come before you with same confusion because it is not intuitive. The proble is what the browser sends which we cant control in the wild'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,64,2015-07-06 04:50:25,1.1,,1,,"b""b' Yes .json should be in allowed extensions list for the  type that is :+1:'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,65,2015-07-06 04:50:25,101.88,,1,,"b'b"" @jasonfb This is not true in general", and especially not true in my particular case since I upload from my backend code, this is not some user\'s attachment I\'m talking about.  If you look closely in the code within the file I\'ve mentioned, you can actually see that there are two checks for spoofing performed. First compares MIME detected by gem with the one provided with the file either by the browser, as you suggested, or any other way.  The gem performs it\'s check based on a file extension, and it considers anything with .json extension to be of type.  The second one compares what mime-types returns with what file utility returns, which is for json, so this is absolutely server-side. If any of the two fails, spoofing error is added to the model. So in this particular case I believe this is failure to acknowledge the fact that it does not comply with what widely-used file util returns for JSON file type. This is further complicated by the fact, that the correct MIME type for json files is, indeed,"  .""'",,,,,,,,,,,,,,,,,,
paperclip,1924,closed,66,2015-07-06 04:50:25,1046.2,,1,,"b""b' Ah yes I see the code you are referring to. Nonetheless", this issue, which is years and years old, is related to the incorrect passing of the MIME-type by the browser," which is the root of the CSV problem. I think your problem is different. '""",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,67,2015-07-06 04:50:25,12.35,,1,,"b""b' @jasonfb Indeed it is", but most questions regarding problems with MIME types and paperclip uploads get redirected to this thread," so I think it may be helpful to someone struggling with the same JSON upload problem :)'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,68,2015-07-06 04:50:25,510.97,1,,,"b'b"" Got this error too. I\'m just parsing all my email box via IMAP and saving all its attachments. I don\'t want to validate shit.  Stacktrace:   Error on saving:  In my model I have:  Very confusing. not helping. Which documentation and how do I allow this?  P.S. it\'s just an old starcraft2 replay from old popular player Brat_OK", so no any spoofing here," lol""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,69,2015-07-06 04:50:25,13.8,,,1,"b""b' Hmmm"," got this! It works with that: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,70,2015-07-06 04:50:25,1396.45,,1,,"b""b' Looks like we found a workaround"," closing.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,closed,2018-04-27 20:41:04,1024.62,13,43,16,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,71,2015-07-06 04:50:25,14.77,,,1,"b""b' Can you say what the official workaround is?  Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,72,2015-07-06 04:50:25,17.63,1,,,"b""b' No official workaround; I was referring to url  .  Unfortunately"," we will be deprecating Paperclip and therefore will not have the bandwidth to address this issue further.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,73,2015-07-06 04:50:25,1230.23,,1,,"b'b\' Sorry for the thread revival but I\\\'m still running into this in 2019.  Please don\\\'t use that ""workaround"". It opens up ANY uploads to content spoofing without warning to anyone else using in your app.  option on the class method _should_ work", although it once again does open you up to spoofing. It\\\'s a great option though since it\\\'s explicit about it. Although it didn\\\'t work for url  which is strange. It looks like it explicitly avoids the validation in  The problem is, in MediaTypeSpoofDetector, there\\\'s which straight up does not work for some content types. It compares the results of to the command. And those two implementations are not always in sync: eg. JSON returns from Mime but from the command.  I workaround I\\\'m using is to provide an override that matches the command, since that\\\'s what it checks in  . So for JSON, that would be  :   \'',,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,74,2015-07-06 04:50:25,1434.48,,1,,"b'b"" @Skipants you may still be running into this in 2019"," but you aren\'t going to see an update because Paperclip is deprecated in favor of ActiveStorage.  url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,75,2015-07-06 04:50:25,1437.97,1,,,"b'b"" I\'m working in a legacy codebase"," unfortunately. Hopefully my comment helps anyone in the same situation.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1924,closed,-,-,-,15,45,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,opened,2015-09-02 15:42:33,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,title,2015-09-02 15:42:33,00:00,,1,,"b""b' Fixed s3 live specs'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,1,2015-09-02 15:42:33,628.22,,1,,"b'b"" Don\'t we need to have both versions", as we support AWS v1 and v2? You say you correct the specs, but they are green either way, how is that possible? @jyurek @maclover7," until when do you think we should support AWS v1?""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,2,2015-09-02 15:42:33,0.18,,,1,"b""b' Thank you for your contributions! :clap: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,3,2015-09-02 15:42:33,603.5,,1,,"b'b"" @tute The S3 live specs don\'t run on travis.  Certain environment variables ( ",  ,  , and  ) need to be defined for them to run, and unless somebody volunteers to make their S3 credentials public," there\'s no way to set those environment variables on travis.""'",,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,4,2015-09-02 15:42:33,6.12,,1,,"b'b"" I\'m pretty sure with this PR"," S3 live specs pass with both AWS v1 and AWS v2""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,5,2015-09-02 15:42:33,428.32,,,1,"b'b"" Hi @betesh. Why do we need this change? CI is red", can we get it green? Also," I\'d solve Hound comments. Thank you for your work.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,closed,2016-03-24 04:56:50,794.28,0,4,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,6,2015-09-02 15:42:33,1163.58,,1,,"b'b"" The change was needed because these tests are broken. These tests don\'t run on travis. I didn\'t introduce the Hound violationsthey were already there.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,7,2015-09-02 15:42:33,3.02,,,1,"b""b' So"," this specs where red before but with your changes green?  How can I replicate that? Thanks!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,8,2015-09-02 15:42:33,8.12,,1,,"b""b' There are some environment variables that you need to set:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,reopened,2016-03-25 15:13:32,616.7,0,6,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,9,2015-09-02 15:42:33,10.37,,,1,"b""b' Can you please squash your commits together", and rebase against latest master? Also," if you can paste the exact command to run this spec I will appreciate it. We can add it as documentation wherever needed. Thank you! :+1: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,10,2015-09-02 15:42:33,31.62,,1,,"b""b' There is no exact command.  You need to fill in the blanks above with your S3 credentials.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,11,2015-09-02 15:42:33,208.1,,,1,"b'b"" @betesh thanks for your work and help. Indeed the syntax in the file is old", but when I set up the command with my AWS credentials in latest master, surprisingly," it doesn\'t fail. Why would that be?""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,12,2015-09-02 15:42:33,0.85,,1,,"b""b'  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,13,2015-09-02 15:42:33,5.03,,1,,"b""b' I perform changes to the file meaning to break it", but it does not. Before fixing it," I want to see it broken. How can we test for that?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,14,2015-09-02 15:42:33,480.05,,1,,"b'b"" @tute These tests aren\'t particularly thorough.  It may be that they aren\'t exercising enough of the S3 features to make all the setup code actually used. I am surprised by this too.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,closed,2016-08-24 17:53:30,159.97,0,10,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,15,2015-09-02 15:42:33,874.08,,,1,"b""b' Merged into master. Thank you for your help!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,1985,closed,-,-,-,0,10,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,opened,2015-10-21 14:23:28,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,title,2015-10-21 14:23:28,00:00,,1,,"b""b' Fixed typos'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,body,2015-10-21 14:23:28,00:00,,1,,"b'b"" Removed the comma on line 54: \'based on size and presence", if required\' -Removed the comma on line 166: \'ahead of the latest released version," if you\'re\' -Added a comma on line 571: \'was chosen because on standard Capistrano deployments\' -Changed line 627: \'For backwards compatibility reasons\' -Changed line 822: \'By default Paperclip outputs ... in to your\' -""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,1,2015-10-21 14:23:28,703.6,,,1,"b'b"" Thanks for these grammar fixes! Would it be okay if we left the comma in line 54? Doesn\'t read right to me without it. Thanks again for your PR! :)""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,2,2015-10-21 14:23:28,9.83,,,1,"b""b' Yeah is cool'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,3,2015-10-21 14:23:28,9.52,,,1,"b""b' Cool -can you update the PR? Thanks again!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,4,2015-10-21 14:23:28,162.0,,,1,"b""b' :+1:. Feel free to rebase and merge Jon (adding to keep the link) or just push the green button. Thank you both!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,closed,2015-10-22 11:29:39,1266.18,0,2,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,reopened,2015-10-22 11:29:53,0.23,0,2,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,closed,2015-10-22 11:30:50,0.95,0,2,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,reopened,2015-10-22 11:34:11,3.35,0,2,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,5,2015-10-21 14:23:28,972.05,1,,,"b""b' @lemuelbarango", sorry," can you rebase on master please? Travis build is failing for some reason.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,6,2015-10-21 14:23:28,3.37,1,,,"b'b"" Just restarted the jobs. In this matrix we sometimes get random timeouts"," or similar. On commits that don\'t change code we can add to the commit message to avoid running it (and it potentially failing).""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,7,2015-10-21 14:23:28,35.02,,,1,"b""b' Bingo"," all set @lemuelbarango. Thanks for your patience! :heart: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,closed,2015-10-22 21:58:55,624.73,2,2,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2032,closed,-,-,-,2,2,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,opened,2016-03-25 21:24:31,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,title,2016-03-25 21:24:31,00:00,,1,,"b""b' S3: The bucket you are attempting to access must be addressed using the specified endpoint.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,body,2016-03-25 21:24:31,00:00,,1,,"b""b' The S3 link generated for the images is incorrect. It needs to use a different endpoint format. Actual:**s3** in:  Expected:**** in response of GET requesting the URL above: '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,1,2016-03-25 21:24:31,51.52,,1,,"b""b' Workaround for now:Configure to like so:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,2,2016-03-25 21:24:31,762.02,,1,,"b""b' did you try setting option to  ?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,3,2016-03-25 21:24:31,136.83,,1,,"b""b' Should we drop the unsupported option?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,4,2016-03-25 21:24:31,151.75,,1,,b'b\' I believe the URL without region, if region was configured, should not occur. Based on the following documentation," looks like the legacy ""default"" (without region) URL points to ""N. Virginia"" region. We should not assume anything about business-oriented defaults of AWS: url  I don\\\'t know if this proposed change would make the whole solution less generic for other uses. Setting the sounds like an alternative to  ", but both seem redundant to me if I\\\'ve already set my  . Correct form per above documentation is: To maintain backwards compatibility for legacy users, if the region ENV variable is not specified, nothing should be dash-appended to the url prefix.\'',,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,5,2016-03-25 21:24:31,714.28,,,1,"b'b"" AWS SDK v2 requires to specify the region. This should not be a problem anymore in paperclip. If it is"," please let us know and we\'ll address!""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,closed,2016-05-10 03:40:55,376.4,0,6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,6,2016-03-25 21:24:31,719.87,,1,,"b""b' I also had this issue with Paperclip 5.0.0.beta2"," the workaround presented by aminariana fixed the issue for me.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,7,2016-03-25 21:24:31,1385.85,,1,,"b'b"" @tute It doesn\'t look like the AWS SDK V@ change resolves the issue. So this is still a real work problem in Paper 5.0.0. Without @aminariana workaround images will not display. ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,8,2016-03-25 21:24:31,8.9,,1,,"b""b' I just confirmed the issue is still present in the latest 5.1.0 release @tute Should we re-open this issue?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,reopened,2016-09-01 18:02:01,861.1,0,9,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,9,2016-03-25 21:24:31,1124.27,1,,,"b""b' I am also facing this issue: Error occurred while GetObject. S3 Error Code: PermanentRedirect. S3 Error Message: The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint. Can you pls suggest how to fix this?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,10,2016-03-25 21:24:31,359.82,,1,,"b""b' I found this article to be very useful url '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,11,2016-03-25 21:24:31,782.6,,1,,"b""b' @mariaae you could solve the problem with that post? I could not'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,12,2016-03-25 21:24:31,528.92,,,1,"b""b' @faldunate yes"," I was able to solve the issue with this article :) But I think I ended up creating a new bucket with the right region as well (which was also part of the problem).'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,13,2016-03-25 21:24:31,31.68,,,1,"b""b' thank you @mariaae"," I finally resolved by changing the region too'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,14,2016-03-25 21:24:31,305.57,1,,,"b'b"" This is still an issue for me with Paperclip 5.1.0 and aws-sdk 2.9.6. It doesn\'t look like it has anything to do with the region; it\'s just the S3 URL format.  Exactly as @aminariana described above: Actual: Expected", per S3 error message:  @morgoth\'s fix (setting the option to  ) solved this for me, but if that\'s a necessary adjustment," it should really be in the docs somewhere obvious.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,15,2016-03-25 21:24:31,476.58,,,1,"b'b"" This wasn\'t an issue when I had to use **paperclip** with **s3** last month", it just popped out of nowhere. @aminariana post was really helpful, but I\'ll just show how I did it pushing to **heroku**: ** =>**  = {   storage: :s3,   s3_credentials: {   bucket: (\'S3_BUCKET_NAME\'),   access_key_id: (\'AWS_ACCESS_KEY_ID\'),   secret_access_key: (\'AWS_SECRET_ACCESS_KEY\'),   s3_region: (\'AWS_REGION\'),   s3_host_name: (\'AWS_ENDPOINT\'),   } }  **on your terminal =>** heroku config:set S3_BUCKET_NAME=test heroku config:set AWS_ACCESS_KEY_ID=000000000000 heroku config:set AWS_SECRET_ACCESS_KEY=0000000000000000000000000000000000000 heroku config:set AWS_REGION=us-west-2 heroku config:set AWS_ENDPOINT=s3-us-west-2 where test = your bucket name, region as provided by s3," keys as provided by aws""'",,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,16,2016-03-25 21:24:31,676.58,,1,,"b""b' The solution of setting a s3_host_name works but what if I want to access my uploaded files at some other client application? My rails app acts as an API to my android app", so if the URL is returned to the Android client," would that also work without any other implementations? '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,17,2016-03-25 21:24:31,1210.02,,1,,"b'b"" I\'m having same issue.  Following is my aws-cli version:  aws -1047-aws I tried to create presigned url to distribute downloading of corresponding object. But it is redirecting me at following error.  ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,18,2016-03-25 21:24:31,247.02,,1,,"b'b"" @tarunjangra from what I can see", I\'m guessing its your **endpoint**.  Your **endpoint** has the bucket name before _.s3_.  = Instead of the bucket name, try prefixing with your region. . .   Its been a while, so this may not be the best solution," but you could give it a try""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,19,2016-03-25 21:24:31,5.78,,1,,"b""b' For now you can use config like this: where **:path** is nessesary and **:url** do the job )'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,20,2016-03-25 21:24:31,426.45,,1,,"b""b' The region in and must match the region in which the bucket was created. My full configuration is:  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,21,2016-03-25 21:24:31,1353.05,,1,,"b""b' Looks like there are workarounds", and Paperclip 6 should address the issue as well," closing.'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,closed,2018-04-27 20:23:52,141.85,2,17,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,22,2016-03-25 21:24:31,1344.1,1,,,"b'b"" Don\'t know if this caveat will help anyone", but in [S3 Docs]url  they mention that if you create an *S3* bucket in *Virginia*, you\'ll get  url But if you create the bucket in any different region, you get:  url A bit arbitrary if you ask me. Also," makes for a nasty gotcha.""'",,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,23,2016-03-25 21:24:31,1316.53,,1,,"b'b"" hey guys this did it for me: ( all the values are dummies so replace them with the actual table name", your s3 bucket region," and actual credentials. So the error occurs when you are trying to move data from one region to another. So we need to specify the region as well in the UNLOAD query.  UNLOAD (\'SELECT * FROM table1\') TO \'s3://mybucket/\' REGION \'us-west-1\' credentials \'\'aws_access_key_id=ASGAGASGASGASGA;aws_secret_access_key=ASGWQTEQGXAVASGWTQS\'""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2151,closed,-,-,-,3,18,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,opened,2016-09-12 05:48:09,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,title,2016-09-12 05:48:09,00:00,,1,,"b""b' Add support for proc arg for fog_public'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,body,2016-09-12 05:48:09,00:00,,1,,"b""b' This mirrors the implementation for many other args including  '""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,closed,2016-09-12 06:49:59,61.83,0,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,reopened,2016-09-12 06:50:02,0.05,0,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,closed,2016-09-12 06:50:06,0.07,0,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,reopened,2016-09-12 06:50:57,0.85,0,2,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,1,2016-09-12 05:48:09,510.1,,,1,"b""b' This looks good", thank you! Why does it fail on Ruby 2.2.2," though?'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,2,2016-09-12 05:48:09,180.27,,1,,"b'b"" No clue"," I don\'t believe the failures are related to this PR.""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,3,2016-09-12 05:48:09,39.52,,1,,"b'b"" Indeed it\'s not: url ""'",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,closed,2016-09-12 21:33:14,882.28,0,4,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,4,2016-09-12 05:48:09,215.28,,,1,"b""b' Thank you!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,5,2016-09-12 05:48:09,708.22,,,1,"b""b' Thanks for merging so quickly!'""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
paperclip,2302,closed,-,-,-,0,4,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

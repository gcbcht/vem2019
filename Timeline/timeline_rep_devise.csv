REPOSITORY,ISSUE_ID,STATUS,EVENT,CREATED_AT,TIME DURATION,NEGATIVE,NEUTRAL,POSITIVE,MSG,,,,,,,,,,,,,,,,,,,,,
devise,666,closed,opened,2010-11-18 12:07:34,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,666,closed,title,2010-11-18 12:07:34,00:00,,1,,"b""b' Added text views to mailers'""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,body,2010-11-18 12:07:34,00:00,,1,,"b'b"" Hi"," I\'ve added text views to the Devise mailers in order to send multipart  emails.""'",,,,,,,,,,,,,,,,,,,,
devise,666,closed,1,2010-11-18 12:07:34,2.1,,,1,"b""b' Thanks mate"," but it needs tests. :)'""",,,,,,,,,,,,,,,,,,,,
devise,666,closed,2,2010-11-18 12:07:34,444.03,,1,,b'b\' @jaimeiniesta, thanks for writing these. I just discovered that my users were getting useless emails with the HTML stripped that would say, for example,"Change my password"" without any link. Devise needs text views for the mailers. These seem quite straight forward. @josevalim, what should the tests test?\''
devise	666	closed	3	josevalim	2010-11-18 12:07:34	68.98		+1		b""b' Hrm, Rails 3 actually now makes very easy to add text views to existing mailers... in any case, maintaining two views is cumbersome. Maybe we should add the merb template handler I mention in my book?'",,,,,,,,,,,,,,,,,,
devise,666,closed,reopened,2011-04-22 20:42:53,515.32,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,666,closed,4,2010-11-18 12:07:34,24.77,,1,,"b""b' Point taken about maintaining two views. MERb (Markdown + ERb) seems a little eccentric"," but it would just be for the default views to avoid the problem describe above. Anyone could still make their own * and * views as before.'""",,,,,,,,,,,,,,,,,,,,
devise,666,closed,5,2010-11-18 12:07:34,6.32,,,1,"b""b' I have been using MERb successfully in some projects. But if I am going to open source it"," it definitely needs a better name. :) Why do you think it is eccentric? :D'""",,,,,,,,,,,,,,,,,,,,
devise,666,closed,6,2010-11-18 12:07:34,639.2,,1,,"b""b' @turadg Ping? :)'""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,7,2010-11-18 12:07:34,1102.95,1,,,b'b\' hey," sorry for the slow reply. I didn\\\'t ""eccentric"" pejoratively. :) I just meant it\\\'s a different way of doing things and could lead to some confusion. Since Devise is so popular", that could be multiplied over many people. That said, maintaining two views has has potential for confusion so a single Markdown view is, in my very humble opinion, a good idea. With you on the better name! (especially since Merb is a famous Ruby project already) How about  ?\'',,,,,,,,,,,,,,,,
devise,666,closed,8,2010-11-18 12:07:34,271.82,,,1,"b""b' I love markerb. :)'""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,9,2010-11-18 12:07:34,83.93,,1,,"b""b' url '""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,10,2010-11-18 12:07:34,282.93,,,1,"b'b"" That\'s sound so cool -I can\'t wait to receive your book :)""'",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,11,2010-11-18 12:07:34,355.53,,,1,"b""b' @josevalim"," way to go! That makes it really easy to write one view for emails. How now to get this into Devise? Just add to the Gemfile and turn the * mail views into *.markerb?'""",,,,,,,,,,,,,,,,,,,,
devise,666,closed,12,2010-11-18 12:07:34,3.58,,1,,"b""b' Unsure yet how Devise integration will work. @carlosantoniodasilva pointed that adding markerb would add at least two more dependencies: markerb and redcarpet. Maybe it should be a new generator?'""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,13,2010-11-18 12:07:34,1071.08,,,1,"b'b"" I agree a generator is a good approach", it\'d not add such dependencies to Devise and won\'t force users to install / use it. Besides," we always copy the views to our application and change them.  Just need to be clear in the docs that people have to add to their Gemfiles and use the generator (so we don\'t end up having issues as we had with for instance).""'",,,,,,,,,,,,,,,,,,,
devise,666,closed,14,2010-11-18 12:07:34,1083.22,,1,,"b'b"" What\'s happening with this?""'",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,15,2010-11-18 12:07:34,144.93,,,1,"b""b' There is no progress on this for awhile. Are you interested in tackling the issue?'""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,16,2010-11-18 12:07:34,2.87,,,1,"b""b' Maybe what is the desired functionality exactly? Was the originalrequest fine except for tests?'""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,17,2010-11-18 12:07:34,80.72,,1,,"b'b\' The idea is to have a generator that generates [markerb]url  templates. The generator should likely add a ""markerb"" entry to the Gemfile if one does not exist yet.\''",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,18,2010-11-18 12:07:34,381.73,,1,,"b""b' here is my pull request for this feature : url '""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,19,2010-11-18 12:07:34,1098.15,,1,,"b""b' Closing this in favor of #1326.'""",,,,,,,,,,,,,,,,,,,,,
devise,666,closed,closed,2011-09-29 11:16:25,873.53,1,12,8,,,,,,,,,,,,,,,,,,,,,,
devise,666,closed,-,-,-,1,12,8,,,,,,,,,,,,,,,,,,,,,,
devise,979,closed,opened,2011-04-10 03:54:48,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,979,closed,title,2011-04-10 03:54:48,00:00,,1,,"b""b' Make it possible to unit-test extensions to Devise::SessionsController'""",,,,,,,,,,,,,,,,,,,,,
devise,979,closed,body,2011-04-10 03:54:48,00:00,,1,,"b""b' This addresses issue #806 in the  repository on GitHub.'""",,,,,,,,,,,,,,,,,,,,,
devise,979,closed,1,2011-04-10 03:54:48,2.18,,,1,"b'b"" Actually", I lied. Now that I re-read the issue," it\'s only tangentially related to #806. That issue just pointed me in the right direction to solve a similar problem. :-)""'",,,,,,,,,,,,,,,,,,,
devise,979,closed,2,2011-04-10 03:54:48,403.48,,,1,"b""b' Hey mate"," do you think you could write a test case that reproduces the error? Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,979,closed,3,2011-04-10 03:54:48,347.27,,1,,"b'b"" To be honest", I feel like a jerk for not having done so in the firstplace, but I\'m not sure how to write that test within the projectitself. Are there existing tests that specifically exerciseDevise::SessionsController with Devise::TestHelpers mixed in to thetests? ##  Regards,John Wilger On Apr 10,2011, at 3:40 AM," josevalimreply@wrote:""'",,,,,,,,,,,,,,,
devise,979,closed,4,2011-04-10 03:54:48,113.78,,1,,"b""b' There are not"," feel free to create a new one.'""",,,,,,,,,,,,,,,,,,,,
devise,979,closed,5,2011-04-10 03:54:48,1070.62,,,1,"b""b' I had this problem too with a cucumber test that ran fine in earlier versions of Devise but with 1.2+ I would get undefined controller errors when testing a user signing in with an incorrect password. I looked at the actual sessions_ and compared it to mine and noticed a change in ! and the two calls in place of sign_in_and_redirect. Using the newer calls fixed it for me. HTH'""",,,,,,,,,,,,,,,,,,,,,
devise,979,closed,6,2011-04-10 03:54:48,672.82,,1,,"b'b"" I\'ve not got the time to figure out how to add this test to the Devise project", since there don\'t seem to be any existing tests of  . At any rate, it\'s trivial for someone to just re-implement  in it\'s entirety in a subclass anyway. I\'ll leave the branch up for reference. I will note that this may not be a complete solution if you are actually going to fully-test the #create method, since it doesn\'t account for the fact that the FailureApp would render something other than this action. If testing with RSpec with the views disconnected," this is probably not an issue.""'",,,,,,,,,,,,,,,,,
devise,979,closed,closed,2011-04-13 23:24:57,1170.15,0,5,3,,,,,,,,,,,,,,,,,,,,,,
devise,979,closed,7,2011-04-10 03:54:48,6.43,,1,,"b'b\' We have tests for Devise::TestHelpers here: url  You just need to create a new test case and set it to ""tests Devise::SessionsController""", right? Or am I missing something?\'',,,,,,,,,,,,,,,,,,,,
devise,979,closed,8,2011-04-10 03:54:48,275.47,,1,,"b'b"" Ah", OK. That\'s what I was asking about in the first place when yousaid there weren\'t. I guess there was just some misunderstanding. Iwill take another look this weekend. ##  Regards,John Wilger On Apr 13,2011, at 4:31 PM," josevalimreply@wrote:""'",,,,,,,,,,,,,,,,
devise,979,closed,reopened,2011-04-15 01:01:33,96.6,0,7,3,,,,,,,,,,,,,,,,,,,,,,
devise,979,closed,9,2011-04-10 03:54:48,271.57,,,1,"b""b' Merged"," thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,979,closed,closed,2011-04-15 08:38:25,456.87,0,7,4,,,,,,,,,,,,,,,,,,,,,,
devise,979,closed,-,-,-,0,7,4,,,,,,,,,,,,,,,,,,,,,,
devise,980,closed,opened,2011-04-11 07:55:16,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,980,closed,title,2011-04-11 07:55:16,00:00,,1,,"b""b' Readme outdated?'""",,,,,,,,,,,,,,,,,,,,,
devise,980,closed,body,2011-04-11 07:55:16,00:00,,,1,"b'b"" As far as I can tell", it\'s no longer necessary to include Devise from the git master branch, in order to use the Omniauthable module? If so," the Readme should reflect that.Thanks""'",,,,,,,,,,,,,,,,,,
devise,980,closed,1,2011-04-11 07:55:16,2.38,,,1,"b""b' Oh yeah"," thanks for the pointer. I will update it now.'""",,,,,,,,,,,,,,,,,,,,
devise,980,closed,closed,2011-04-11 07:57:39,2.38,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,980,closed,2,2011-04-11 07:55:16,4.13,1,,,"b""b' Sorry", I just checked the readme," I could not find the outdated part. Could you please point it to me or send a pull request fixing what you think it is wrong?'""",,,,,,,,,,,,,,,,,,,
devise,980,closed,reopened,2011-04-11 08:22:16,24.62,1,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,980,closed,3,2011-04-11 07:55:16,20.95,,,1,"b""b' Just sent a pull req. Thanks for your quick answer!url '""",,,,,,,,,,,,,,,,,,,,,
devise,980,closed,closed,2011-04-11 08:26:08,3.87,1,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,980,closed,-,-,-,1,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,opened,2011-04-15 06:18:37,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,title,2011-04-15 06:18:37,00:00,,1,,"b""b' Accept: */* causes problems'""",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,body,2011-04-15 06:18:37,00:00,1,,,"b'b"" This issue is related to issue #420 but since that is closed I was not sure if my comments would cause a notification", the circumstances are also slightly different so I am creating a new ticket to be sure. I have just come across an issue on one of our websites and accept headers. Some of our users using Internet Explorer are getting 401 response from the website instead of a 302. I have figured out that the problem IEs are sending in the headers while the non-problem IE\'s are sending a string full of  etc. I have no idea why this is the case, some of the problem and non-problem IEs are the same version and don\'t appear to have any settings changed! This problem ONLY occurs when the user tries to access a protected page and gets redirected. For example with Accept */* in the headers will result in a 401 instead of a  302 to url However if the user accesses url  directly then there is no problem. So I think there may be a problem in the redirection code? Either way, this is causing devise to return 401 prompts which throws up windows basic authentication boxes which is hugely confusing for everyone involved. Would it be possible to do 2 things.  A) If the accept header is */* assume HTML response?B) Instead of using HTTP 401 response code which is monumentally confusing (and, after doing some checking," is not in accordance with the spec) because if causes authentication boxes to popup could we use 406 Not Acceptable which seems to be the suitable code and doesn\'t have this side-effect in the browser.""'",,,,,,,,,,,,,,,,
devise,999,closed,1,2011-04-15 06:18:37,2.23,,1,,"b'b\' Add ""_/_"" and :""_/_"" to your navigational_formats array in your initializer.\''",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,closed,2011-04-15 06:20:51,2.23,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,2,2011-04-15 06:18:37,10.37,,1,,"b""b' Also worth pointing out that (Again"," god knows why) Internet explorer will send the normal Accept: header when the URL is entered directly but will sometimes send Accept: */* when it is spawned by outlook when the use clicks the URL in the email pane.'""",,,,,,,,,,,,,,,,,,,,
devise,999,closed,reopened,2011-04-15 06:38:14,17.38,1,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,3,2011-04-15 06:18:37,7.12,,1,,"b'b\' I would say that ""*/*"" and :""*/*"" should be added by default since internet explorer", in some cases can send these headers. \'',,,,,,,,,,,,,,,,,,,,
devise,999,closed,4,2011-04-15 06:18:37,3.63,,1,,"b""b' It is. Check master.'""",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,closed,2011-04-15 06:41:58,3.73,1,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,reopened,2011-04-28 12:01:34,319.6,1,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,5,2011-04-15 06:18:37,327.33,,,1,"b'b"" (disclaimer: I\'ve read both this and issue #420 and I\'m using Devise  and Rails 3.0.5)  I still have problems with IE though and are reproducible with curl: as you can see I get the correct 302 HTTP code", but it pass the format=_/_if I try to follow the redirect with curl, I get: How can I fix it? I think that returning html as default if _/_ is passed should be enough," but I don\'t know how to fix it. thanks!""'",,,,,,,,,,,,,,,,,,
devise,999,closed,6,2011-04-15 06:18:37,9.4,,1,,"b""b' You are not supposed to pass _/_ in format. Just in accept headers.'""",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,closed,2011-04-28 12:18:43,17.15,1,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,reopened,2011-04-28 12:25:11,6.47,1,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,7,2011-04-15 06:18:37,6.52,,1,,"b'b"" I don\'t pass it"," it\'s all automatic.""'",,,,,,,,,,,,,,,,,,,,
devise,999,closed,8,2011-04-15 06:18:37,1.35,,1,,"b'b"" I mean"," your CURL results don\'t tell me anything as I don\'t expect passing */* in the ?format= to work. Can you try providing a test case to Devise?""'",,,,,,,,,,,,,,,,,,,,
devise,999,closed,closed,2011-04-28 12:26:34,1.38,1,8,1,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,9,2011-04-15 06:18:37,2.27,,1,,"b'b"" I\'ll check if I can provide a test case"," but why does devise redirect with a ?format in the URL? that\'s a Devise bug IMO.""'",,,,,,,,,,,,,,,,,,,,
devise,999,closed,10,2011-04-15 06:18:37,2.02,,1,,"b'b"" That\'s not Devise bug. That\'s how Rails work. Whenever a format is given", it will be in params[:format] and that is what Rails uses in respond_with," respond_to and similar things.""'",,,,,,,,,,,,,,,,,,,
devise,999,closed,11,2011-04-15 06:18:37,3.15,1,,,"b'b"" No"," I mean: when I do Devise responds with a 302 and set Location to: this is Devise acting weird. I really don\'t know why.""'",,,,,,,,,,,,,,,,,,,,
devise,999,closed,12,2011-04-15 06:18:37,1.67,1,,,"b'b"" AHHHHHHHHHHH. Now I finally understand what is happening", sorry for the confusion. I have no idea why this is happening," it surely doesn\'t happen on my apps. Can you provide a test case reproducing the error?""'",,,,,,,,,,,,,,,,,,,
devise,999,closed,13,2011-04-15 06:18:37,173.22,,1,,"b'b\' Just a quick note to say I am also experiencing exactly the same as ecarnevale: Started GET ""/"" for  at 2011-04-28 15:47:07 +0100  Processing by DashboardController#index asCompleted in 0ms Started GET ""/?format=%2A%2F%2A"" for  at 2011-04-28 15:47:07 +0100  Processing by Devise::SessionsController#new asCompleted 406 Not Acceptable in 1ms\''",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,14,2011-04-15 06:18:37,2.53,,1,,"b""b' @nilocj-d Which Devise and Rails versions? @ecarnevale have you checked if it happens on Devise 1.2?'""",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,15,2011-04-15 06:18:37,4.3,,1,,"b'b"" @nilocj-d thanks for the comment. As a temporary workaround (the app is already deployed in the client\'s intranet and I did not want to mess with the gems today) I\'ve made this Rack middleware and it works.url  @josevalim not yet"," will try later today and I\'ll also try to provide a  case.""'",,,,,,,,,,,,,,,,,,,,
devise,999,closed,reopened,2011-04-28 16:39:35,253.02,3,13,1,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,16,2011-04-15 06:18:37,1150.48,1,,,"b""b' Same issue. Rails 3.0.7 + Devise 1.3.3 : It was happening after rails was updated to 3.0.7 but was on [2bd5e0287e]url  3.0 stable branch.  UPD: Opps. Devise was updated too from 1.3.0 to 1.3.3'""",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,17,2011-04-15 06:18:37,4.15,,,1,"b""b' If you guys can find when the regression was introduced"," it would help me a great deal. Questions: 1) Does this issue also exist on Rails 3.0.5?2) Does this issue also exist on Devise 1.2.x?'""",,,,,,,,,,,,,,,,,,,,
devise,999,closed,18,2011-04-15 06:18:37,13.13,,1,,"b'b"" I\'m using a before_filter in my application controller while I can\'t discover what is causing that. But that broke an  that was being used with script_tag.""'",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,19,2011-04-15 06:18:37,78.82,,1,,"b""b' Fixed and Devise 1.3.4 released.'""",,,,,,,,,,,,,,,,,,,,,
devise,999,closed,closed,2011-04-29 12:22:18,1182.72,4,15,2,,,,,,,,,,,,,,,,,,,,,,
devise,999,closed,20,2011-04-15 06:18:37,3.3,,,1,"b""b' Awesome!thanks! On Fri", Apr 29, 2011 at 2:22 PM," josevalim <reply@>wrote:'""",,,,,,,,,,,,,,,,,,
devise,999,closed,21,2011-04-15 06:18:37,1382.95,,1,,"b'b"" Hi", just to let you know devise 1.3.4 has fixed the issue for me. Sorry didn\'t respond with more information earlier," haven\'t been in the office. Thanks for the fix!""'",,,,,,,,,,,,,,,,,,,
devise,999,closed,22,2011-04-15 06:18:37,59.63,,,1,"b""b' Thanks guys"," fixed for me too!'""",,,,,,,,,,,,,,,,,,,,
devise,999,closed,-,-,-,4,16,4,,,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,opened,2011-04-22 18:04:57,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,title,2011-04-22 18:04:57,00:00,,1,,"b""b' ArgumentError: uncaught throw :warden'""",,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,body,2011-04-22 18:04:57,00:00,,1,,"b""b' This could well be just me but... since 1.3.1 I am getting this error consistently throughout an app which had all tests working on 1.3.0. It happens in each release up to 1.3.3. In my functional tests I have been logging in via a call and the uncaught exception thrown from warden occurs while in the call to in the actual controller(s).'""",,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,1,2011-04-22 18:04:57,114.27,,1,,"b""b' Can you post an example of your tests? Are you using ActionController::TestCase?'""",,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,2,2011-04-22 18:04:57,824.1,,,1,"b""b' Sure", this is the basic recipe for most of the tests involved: I will add that the app itself runs fine, just tests fail. Also," running the following: rails 3.0.7datamapper 1.1.0devise >= 1.3.1cacan 1.6.4'""",,,,,,,,,,,,,,,,,,
devise,1029,closed,3,2011-04-22 18:04:57,1328.75,,1,,"b""b' Can you post the full backtrace as well? This was indeed changed in Devise 1.3.x"," but I am still not sure on how to reproduce this in Devise suite.'""",,,,,,,,,,,,,,,,,,,,
devise,1029,closed,4,2011-04-22 18:04:57,23.2,,1,,"b""b' I have to manually catch the exception as the backtrace is just one line '""",,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,5,2011-04-22 18:04:57,11.78,,1,,"b""b' Ah... why are you not including Devise::TestHelpers in your test case? Did it work before? If so"," I am really surprised.'""",,,,,,,,,,,,,,,,,,,,
devise,1029,closed,closed,2011-04-25 08:27:03,862.1,0,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,reopened,2011-04-25 08:33:53,6.83,0,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,6,2011-04-22 18:04:57,7.42,,1,,"b""b' They are being included", in my test_ (which, yes, I failed to mention at the outset) like so: [Another github project here]url  also has this issue," just clone it and update the version of devise.'""",,,,,,,,,,,,,,,,,
devise,1029,closed,7,2011-04-22 18:04:57,1.88,,1,,"b""b' That is it. You should include them in your ActionController::TestCase.'""",,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,closed,2011-04-25 08:36:21,2.47,0,8,1,,,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,8,2011-04-22 18:04:57,13.6,,,1,"b'b\' Thanks for your time. As I said ""This could well be just me""!\''",,,,,,,,,,,,,,,,,,,,,
devise,1029,closed,9,2011-04-22 18:04:57,857.78,,1,,"b'b"" Where should be declared if you\'re using RSpec instead of the default tests? Sorry for opening up such an old thread", but it\'s proved insufferably hard to find almost _any_ resources on this subject matter. FYI, I do currently have it declared in my file like so: but I figured maybe I have declared incorrectly," because I keep getting an error when I try to test with _invalid_ credentials. I just created a SO question here: url  Thanks!""'",,,,,,,,,,,,,,,,,,
devise,1029,closed,10,2011-04-22 18:04:57,891.38,,1,,"b""b' @jeffdill2 you must also set the devise mapping"," [like shown in this wiki]url  Hope that helps.'""",,,,,,,,,,,,,,,,,,,,
devise,1029,closed,11,2011-04-22 18:04:57,390.55,,1,,"b""b' @carlosantoniodasilva yep"," I have that set  '""",,,,,,,,,,,,,,,,,,,,
devise,1029,closed,12,2011-04-22 18:04:57,762.3,,,1,"b'b"" @jeffdill2 I\'ve just encountered this -in my case I was requiring my support files and thereby performing the _before_ I was doing  .  That meant the inheritance hierarchy was in the wrong (unexpected) order"," and causing it break with the uncaught throw. HTH!""'",,,,,,,,,,,,,,,,,,,,
devise,1029,closed,13,2011-04-22 18:04:57,830.75,,,1,"b""b' @jeffdill2 I faced exactly the same situation than you", and @mjtko is right (thank you so much man!) All worked perfectly once I moved this include line (_ Devise::TestHelpers," :type ='""",,,,,,,,,,,,,,,,,,,
devise,1029,closed,-,-,-,0,11,4,,,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,opened,2011-04-22 23:06:59,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,title,2011-04-22 23:06:59,00:00,,1,,"b""b' UsersController conflicts with omniauthable'""",,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,body,2011-04-22 23:06:59,00:00,,1,,"b'b"" After generating  "," when I\'m trying to access I get I followed the structure in this wiki url ""'",,,,,,,,,,,,,,,,,,,,
devise,1030,closed,1,2011-04-22 23:06:59,463.1,,1,,"b""b' Put your users routes after devise ones.'""",,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,closed,2011-04-23 06:50:05,463.1,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,2,2011-04-22 23:06:59,4.72,,,1,"b'b"" Ah! It didnt work! Here\'s the routes Here\'s the error  ""'",,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,3,2011-04-22 23:06:59,2.85,,1,,"b""b'   url '""",,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,4,2011-04-22 23:06:59,0.63,,1,,"b""b' The problem is in the catch all route. Remove it from devise block. And pass a regexp to resources forcing id to be a number. Ping the mailing list of you have more questions.'""",,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,5,2011-04-22 23:06:59,554.07,,,1,"b'b"" Hey", It could be an issue, This is my routes: As I said before when am trying to access it works well. Also all other Devise behavior works! But When we come to the Omniauth," I give up!! Now when I try to access I\'m getting: I added to  this to prevent the conflict of routes name. So When I want to access I\'m getting Thanks""'",,,,,,,,,,,,,,,,,,
devise,1030,closed,reopened,2011-04-26 16:12:25,562.33,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,closed,2011-04-26 16:36:43,24.3,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,6,2011-04-22 23:06:59,25.2,,,1,"b""b' CLOSED I should have restart the server to get the new routes work! Thanks'""",,,,,,,,,,,,,,,,,,,,,
devise,1030,closed,-,-,-,0,5,3,,,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,opened,2011-04-26 22:01:56,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,title,2011-04-26 22:01:56,00:00,,1,,"b""b' require_no_authentication before_filter'""",,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,body,2011-04-26 22:01:56,00:00,,1,,b'b\' I\\\'m having a problem where users who are authenticated with remember_me set close their browser, then open, come back to the sign_in page, and are treated as if they are un-authenticated until they click a link on the sign_in page or go to another page on the site.  This is with using a cookie store for user session data. Based on some digging," it seems that when they any page they are redirected to the sign_in page.  After that first redirection they are then considering ""signed in"" and are redirected back to their original page.  The problem comes when a user bookmarks the sign_in page for instance and comes directly back their. I dug through the devise and warden code", and it seems like making the following change solves the problem: /: #94    if ?(resource_name)to  I\\\'m not sure I have enough context to understand if this is the correct fix, but I\\\'d like to get feedback from the devise team about the issue.\'',,,,,,,,,,,,,,,
devise,1036,closed,1,2011-04-26 22:01:56,4.97,,1,,"b""b' Right. This is a bug. The fix should simply change ? to ?. Could you please try providing a test case that reproduces the issue?'""",,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,2,2011-04-26 22:01:56,10.6,,,1,"b'b"" I\'ll put together a test case tonight when I have a few minutes and submit it with a patch if that\'s cool.""'",,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,closed,2011-04-26 22:17:30,15.57,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,reopened,2011-04-26 22:17:44,0.23,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,3,2011-04-26 22:01:56,6.58,,,1,"b""b' Sure! That would be awesome!'""",,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,4,2011-04-26 22:01:56,489.97,,1,,"b""b' Any news? :)'""",,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,5,2011-04-26 22:01:56,21.08,,1,,"b""b' Ah"," already fixed. :)'""",,,,,,,,,,,,,,,,,,,,
devise,1036,closed,closed,2011-04-29 06:58:51,521.12,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,1036,closed,-,-,-,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,opened,2011-05-05 21:22:23,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,title,2011-05-05 21:22:23,00:00,,1,,"b""b' devise and rails 3.1.0.beta1"," SyntaxError in Devise::SessionsController#new'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,body,2011-05-05 21:22:23,00:00,1,,,"b""b' Error Message trying to login SyntaxError in Devise::SessionsController#new ~/-1.9.2-p0/-3.1.0.beta1/:91: syntax error", unexpected keyword_end~/-1.9.2-p0/-3.1.0.beta1/:93: syntax error, unexpected $end," expecting keyword_end'""",,,,,,,,,,,,,,,,,,
devise,1050,closed,1,2011-05-05 21:22:23,274.7,,1,,"b""b' What are the columns in your model?'""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,closed,2011-05-06 03:41:46,379.38,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,reopened,2011-05-06 20:39:58,1018.2,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,2,2011-05-05 21:22:23,1123.3,,1,,b'b\' some custom fields, is this the problem? # == Schema Information## Table name: users##  id       :integer(4)  not null," primary key#  first_name     :string(255)#  last_name    :string(255)#  zip      :string(255)#  city       :string(255)#  country      :string(255)#  username     :string(255)#  address      :text#  email      :string(255)   default("""")"," not null#  encrypted_password :string(128)   default("""")", not null#  reset_password_token :string(255)#  remember_token   :string(255)#  remember_created_at  :datetime#  sign_in_count    :integer(4)  default(0)#  current_sign_in_at :datetime#  last_sign_in_at  :datetime#  current_sign_in_ip :string(255)#  last_sign_in_ip  :string(255)#  password_salt    :string(255)#  confirmation_token :string(255)#  confirmed_at   :datetime#  confirmation_sent_at :datetime#  failed_attempts  :integer(4)  default(0)#  unlock_token   :string(255)#  locked_at    :datetime#  authentication_token :string(255)#  created_at     :datetime#  updated_at     :datetime#  admin      :boolean(1)  default(FALSE)# \'',,,,,,,,,,,,,,,,,
devise,1050,closed,3,2011-05-05 21:22:23,24.32,1,,,"b'b"" They shouldn\'t be a problem but I am afraid this is not a Devise issue but a Rails one. Does loading this same object in console works fine?""'",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,4,2011-05-05 21:22:23,9.93,,1,,"b""b' no", its not loading properly: pry(main)SyntaxError: ~/-1.9.2-p0/-3.1.0.beta1/:91: syntax error, unexpected keyword_end~/-1.9.2-p0/-3.1.0.beta1/:93: syntax error, unexpected $end," expecting keyword_endfrom ~/-1.9.2-p0/-3.1.0.beta1/:83:in '""",,,,,,,,,,,,,,,,,
devise,1050,closed,5,2011-05-05 21:22:23,2.95,,1,,"b""b' Yeah"," not Devise. We need to find which column is causing the failure.'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,6,2011-05-05 21:22:23,2.67,,1,,"b""b' ok... I try"," one by one then. keep u up to date'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,7,2011-05-05 21:22:23,3.73,1,,,"b'b\' im having the same problem Here\\\'s what my table looks like:  create_table ""users"""," :force = ""email""","           :default = ""phone"" ""password"" ""name"" ""address"" ""city"" ""state"" ""zip"" ""business_name"" ""doh_licence"" ""mmj_tax_id"" ""type""  ""business_user_id"" ""encrypted_password""","   :limit = ""reset_password_token"" ""reset_password_sent_at"" ""remember_created_at""  ""sign_in_count""","         :default = ""current_sign_in_at"" ""last_sign_in_at"" ""current_sign_in_ip"" ""last_sign_in_ip"" ""confirmation_token"" ""confirmed_at"" ""confirmation_sent_at"" ""created_at"" ""updated_at""end add_index ""users"""," [""confirmation_token""]"," :name =add_index ""users"""," [""email""]"," :name =add_index ""users"""," [""reset_password_token""]"," :name => ""index_users_on_reset_password_token""", :unique => true \'',,,,,,,,,,
devise,1050,closed,8,2011-05-05 21:22:23,1.57,,1,,"b'b"" it isn\'t caused by the custom fields"," I checked. Am 06.05.2011 um 23:23 schrieb jtmkrueger:""'",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,9,2011-05-05 21:22:23,7.22,1,,,"b'b\' This is really weird. I am going to ask you guys to do some crazy debugging 1) Go to your project root and execute: ""bundle open activerecord"" 2) Open up this file . Go around to line 91 as here: url  3) Exactly after the else", please add: puts method_  puts access_ Restart your server and reproduce the error again. Please report what was printed on console. Also, which DB are you using?\'',,,,,,,,,,,,,,,,,,,
devise,1050,closed,10,2011-05-05 21:22:23,3.47,,1,,"b'b"" when I try that I get: probably don\'t have something turned on...""'",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,11,2011-05-05 21:22:23,0.93,,1,,"b'b"" I\'m using mysql with the mysql2 gem""'",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,12,2011-05-05 21:22:23,0.08,,1,,"b""b' enter this: (if you have textmate) export BUNDLER_EDITOR=mate Am 06.05.2011 um 23:36 schrieb jtmkrueger:'""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,13,2011-05-05 21:22:23,4.07,,1,,"b""b'  '""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,14,2011-05-05 21:22:23,4.18,,1,,"b""b' @jtmkrueger It seems the relevant info was not printed in your console. :('""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,15,2011-05-05 21:22:23,1.6,1,,,"b""b' @josevalim Here is where I stuck those inspects:  '""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,16,2011-05-05 21:22:23,10.17,1,,,"b'b"" I don\'t think it\'s hitting that method.  I stuck a raise on both sides of the else"," and didn\'t see my message""'",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,17,2011-05-05 21:22:23,0.08,,,1,"b""b' I found out!At least something: With sqlite3 it works","with mysql2 not. (basic dummy app) Am 06.05.2011 um 23:45 schrieb josevalim:'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,18,2011-05-05 21:22:23,1.78,,1,,"b'b\' Try ""bundle update mysql2"" in this new app", does it solve the issue?\'',,,,,,,,,,,,,,,,,,,,
devise,1050,closed,19,2011-05-05 21:22:23,0.42,,,1,"b""b' I take that back! when I put the raise on the other side of the else"," I got my exception.'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,20,2011-05-05 21:22:23,1.03,,1,,"b""b' @jtmkrueger can you pin point now exactly which method_name is failing? maybe you can put the puts statements before the . :)'""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,21,2011-05-05 21:22:23,0.38,,,1,"b""b' at my side"," it resolves the issue!  Am 06.05.2011 um 23:59 schrieb jtmkrueger:'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,22,2011-05-05 21:22:23,0.78,,1,,b'b\' Ok," so can everyone try ""bundle update mysql2"" and check if it solves the issue?\''",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,23,2011-05-05 21:22:23,0.6,,1,,"b""b'  '""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,24,2011-05-05 21:22:23,2.62,,,1,"b""b' Riiiiight"," this line: url  Is returning empty string for old mysql2 versions. Updating mysql2 should fix it! :D'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,closed,2011-05-06 22:04:58,85.0,6,16,4,,,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,25,2011-05-05 21:22:23,0.05,,,1,"b""b' updating the mysql2 gem worked for me as well!  Good work @josevalim'""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,26,2011-05-05 21:22:23,1.95,,1,,"b""b' thnx for helping"," jos\\xc3\\xa9 Am 07.05.2011 um 00:05 schrieb jtmkrueger:'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,27,2011-05-05 21:22:23,2.47,,1,,"b""b' here is what I get with mysql2:  '""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,28,2011-05-05 21:22:23,2.62,1,,,"b""b' and... sorry... acutally it was a bad debugging approach of mine.kinda to late"," it seems here ;-) Thnx for the good work btw. on devise! Am 07.05.2011 um 00:04 schrieb josevalim:'""",,,,,,,,,,,,,,,,,,,,
devise,1050,closed,29,2011-05-05 21:22:23,4.5,1,,,"b""b' (just stuck that up for brevity)'""",,,,,,,,,,,,,,,,,,,,,
devise,1050,closed,-,-,-,8,18,5,,,,,,,,,,,,,,,,,,,,,,
devise,1059,closed,opened,2011-05-10 16:14:57,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1059,closed,title,2011-05-10 16:14:57,00:00,,1,,"b""b' Cannot PUT to update a Devise registration with token authentication'""",,,,,,,,,,,,,,,,,,,,,
devise,1059,closed,body,2011-05-10 16:14:57,00:00,,,1,"b'b"" When I to with a JSON request and a token", I get a 401 error and the following response: Here\'s my request. I can successfully with my token to other Rails controllers that require authentication. I can to the registrations controller to create a new user and it returns JSON\\xe2\\x80\\x94thanks a lot for supporting JSON responses in edge Devise! I tried using along with setting the parameter to but that did not work\\xe2\\x80\\x94Rails thought I was creating a new user. I also tried including the token in the header as HTTP Basic Auth or as a URL-encoded parameter.I am using edge Devise (ref from 2011-05-04), Ruby 1.9.2p180, Warden 1.0.3, OrmAdapter 0.0.5, OAuth2 0.4.1, Faraday 0.6.1," and Rails 3.0.7. This issue is similar to a problem discussed on the mailing list last October:url ""'",,,,,,,,,,,,,,
devise,1059,closed,1,2011-05-10 16:14:57,154.27,,,1,"b""b' Thanks for your bug report! Do you think you can write a test case to Devise test suite? That would make fixing it much much easier!'""",,,,,,,,,,,,,,,,,,,,,
devise,1059,closed,2,2011-05-10 16:14:57,1397.07,,1,,"b""b' Ok"," closing until someone can distill this into a Devise test.'""",,,,,,,,,,,,,,,,,,,,
devise,1059,closed,closed,2011-05-20 18:06:17,111.33,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,1059,closed,3,2011-05-10 16:14:57,636.73,,1,,"b'b"" I\'m facing this exact same issue", i can\'t issue request with PUT using token.The culprit is in the  code, whereas: It should be: Unfortunately I have no idea on how to create a test for this. Edit: TokenAuthenticatable overrides the valid_request? method to return always true, so the above comment is not valid. I found that my problem was I was doing a PUT request with my model object User, trying to update it. Despite routed to one of my controllers, the auhenticate_user! filter before the action was detecting that the request key :user was actually my user model and tried to authenticate against my MODEL request, not against the token passed.To solve it, I have renamed the request key, using form_for @user," :as =""'",,,,,,,,,,,,
devise,1059,closed,4,2011-05-10 16:14:57,963.72,1,,,"b""b' Ouch"," that hurts.'""",,,,,,,,,,,,,,,,,,,,
devise,1059,closed,5,2011-05-10 16:14:57,1385.95,,,1,b'b\' @cvbarros I just experienced this same issue, I\\\'m glad you posted your solution. My scenario was very similar, I have a users_controller using inherited_resources that looks like this: class UsersController < InheritedResources::Base  before_filter :authenticate_user! actions :all, :except =  respond_to :html," :json def update   endend My PUT url was of the form url And the data object in the form {""foouser"":{""first_name"":""Jeff""","last_name"":""Jones""}} By changing user to foouser it allowed the authentication and update to occur.\''
devise	1059	closed	6	ziggythehamster	2011-05-10 16:14:57	621.45			+1	b'b"" I am also having this exact same issue. Attempting to PUT to /, keep getting 401 for no apparent reason. Using auth_token / token authenticatable. This is an effective workaround:   if !params[:_user].nil?  user_hsh = params[:_user]  else  user_hsh = params[:user]  end  And then from the token authenticatable client, send the user hash as _user instead of user. This only seems to happen when params[:blah] has the same symbol (:blah) as devise_for and you\'re using token authenticatable.""'
devise	1059	closed	7	tleach	2011-05-10 16:14:57	714.12		+1		b'b\' I\\\'m having this issue as well. I think the central issue is that when you PUT a ""user"" to /, the provided user model gets translated into a sub-hash stored under :user in the params hash. In token_ you have... So this method is returning the user model hash thinking it\\\'s a scoped auth hash. Subsequently  attempts to get the auth token from this hash and fails, causing authentication to fail.  Not sure what the solution is, there seems to be a bit of name collision between the scope for a given mapping and the name of the model which may occasionally be provided with a request.  For now, like others, I\\\'ll probably change the name of the model being provided with the PUT request (to something like ""_user""), but it\\\'s a bit sub-optimal as it makes my app\\\'s API somewhat inconsistent.  Otherwise though, loving this Devise shiznit. \''
devise	1059	closed	8	josevalim	2011-05-10 16:14:57	46.75		+1		b""b' Can someone provide a test case for this? We already have some token tests here: If someone provides a failing test case, I can likely fix this straight away.'",,,,,,,,,,,,,,,,
devise,1059,closed,reopened,2011-09-25 18:55:02,48.75,1,5,4,,,,,,,,,,,,,,,,,,,,,,
devise,1059,closed,9,2011-05-10 16:14:57,136.5,1,,,"b'b"" I think the problem is that we\'re trying to authenticate while doing an update but looking at the controller I don\'t think its supported"," unless i\'m misinterpreting the code which is possible. Unless i\'m mistaken such a request would hit the registrations controller\'s update method which checks for a password. Either way here is a test that fails trying to authenticate while doing an update to a user: url ""'",,,,,,,,,,,,,,,,,,,,
devise,1059,closed,10,2011-05-10 16:14:57,756.65,,,1,"b""b' Thanks everyone"," this should be fixed on latest Devise release.'""",,,,,,,,,,,,,,,,,,,,
devise,1059,closed,closed,2011-09-29 09:48:10,893.13,2,5,5,,,,,,,,,,,,,,,,,,,,,,
devise,1059,closed,-,-,-,2,5,5,,,,,,,,,,,,,,,,,,,,,,
devise,1101,closed,opened,2011-05-30 08:07:39,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1101,closed,title,2011-05-30 08:07:39,00:00,,1,,"b""b' Devise works in Rails 3.1rc1"," but login and register actions are too slow'""",,,,,,,,,,,,,,,,,,,,
devise,1101,closed,body,2011-05-30 08:07:39,00:00,,1,,"b'b\' Environment:ruby 1.9.2p204 (2011-05-12 revision 31519)Rails 3.1.0.rc1devise-97659a1193ac / the latest devise fetched from github Log: Started POST ""/"" for 127.0.0.1 at 2011-05-30 15:59:14 +0800  Processing by Devise::SessionsController#create as HTML  Parameters: {""utf8""=>""\\xe2\\x9c\\x93""","authenticity_token""=>""Zy4g+4djCK8ps1KMFPJX1OQVnN4XojX5SPv4P8aRTD8=","user""=>{""email""=>""xxxxxxx@","password""=>""[FILTERED]","remember_me""=>""1""}, ""commit""=>""Sign in""}  User Load (0.5ms)  SELECT  .\\\\* FROM WHERE  .  = \\\'xxxxxxx@\\\' LIMIT 1 (0.3ms)  BEGIN (1.1ms)  UPDATE SET = \\\'2011-05-30 08:00:27\\\', = \\\'2011-05-30 08:00:27\\\' WHERE  .  = 1 (1.0ms)  COMMIT (0.1ms)  BEGIN (0.2ms)  UPDATE SET = \\\'2011-05-30 07:41:36\\\', = \\\'2011-05-30 08:00:27\\\', = 3, = \\\'2011-05-30 08:00:27\\\' WHERE  .  = 1 (45.5ms)  COMMITRedirected to url Completed 302 Found in 72732ms\''
devise	1101	closed	1	chenillen	2011-05-30 08:07:39	1045.93	+1			b""b' quite weird, didnt find any things wrong '",,,,,,,,,,,,,,,,,
devise,1101,closed,closed,2011-06-02 01:33:35,1045.93,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1101,closed,reopened,2011-06-02 01:34:14,0.65,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1101,closed,2,2011-05-30 08:07:39,1.03,,1,,"b""b' anyone met the same problem?'""",,,,,,,,,,,,,,,,,,,,,
devise,1101,closed,3,2011-05-30 08:07:39,316.25,,1,,"b""b' I am having the same problem with Rails 3.0.7 and devise 1.3.4 ... using the RailsKit SaaS code base ... I will try in an empty rails app and see if I have the same problem ... with Ruby 1.9.2. What I noticed is that a ruby process runs at 100% of cpu for 89 seconds roughly and then the redirect happens.'""",,,,,,,,,,,,,,,,,,,,,
devise,1101,closed,4,2011-05-30 08:07:39,53.68,,1,,"b""b' I dug a little bit into the details and my app was using :authlogic_sha512 as the encryptor ... as I changed that to :sha1"," things went back to normal (I traced it by looking with dtrace through the ruby process and saw a few mentions of blowfish so thought that something was being triggered around and around or was very consuming CPU-wise).'""",,,,,,,,,,,,,,,,,,,,
devise,1101,closed,5,2011-05-30 08:07:39,481.9,,,1,"b'b"" I didn\'t even changed my encryptor"," still using the default one bcrypt. let me change to another one.thanks for the little tip""'",,,,,,,,,,,,,,,,,,,,
devise,1101,closed,6,2011-05-30 08:07:39,30.15,,,1,"b'b"" Okay", got the problem. it\'s about  in  file. I was occasionally changed to  = 20, not about the encryptors," it\'s only about the stretches.  thanks @bruno ! ""'",,,,,,,,,,,,,,,,,,
devise,1101,closed,closed,2011-06-07 16:16:36,882.37,1,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,1101,closed,-,-,-,1,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,opened,2011-06-08 17:43:46,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,title,2011-06-08 17:43:46,00:00,,1,,"b""b' undefined local variable or method '""",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,body,2011-06-08 17:43:46,00:00,,,1,"b""b' Dose anyone know why this error occur under the Rails 3.1.0.rc2? Many thanks.  -Alex'""",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,1,2011-06-08 17:43:46,1159.4,,1,,"b'b"" I\'m having the same error with Rails 3.1.0.rc4""'",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,2,2011-06-08 17:43:46,747.27,,1,,"b'b"" I ran \'rake routes\' and it looks like \'new_user_registration_path\' is now routed as \'new_registration_path\' in my app. Not sure why after upgrading the route changed...""'",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,3,2011-06-08 17:43:46,810.48,,1,,"b""b' I upgraded to the lastest version of Devise and these issues went away.'""",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,4,2011-06-08 17:43:46,159.4,,,1,"b""b' Thanks a lot for the past two comments and your input. I think this issue seems to be resolved. I am going to close it for now.'""",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,closed,2011-06-17 17:40:20,1436.57,0,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,5,2011-06-08 17:43:46,976.08,,1,,"b""b' Same problem here... but I use latest rails and latest devise... Using rails (3.1.0.rc4) Using devise (1.4.2) from git:// (at master)  How can I solve it ?'""",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,6,2011-06-08 17:43:46,5.58,1,,,"b'b"" Sorry"," it\'s solved.For other guys like me... don\'t forget to restart your server ^^""'",,,,,,,,,,,,,,,,,,,,
devise,1122,closed,7,2011-06-08 17:43:46,928.65,,1,,b'b\' rails 3.1.3devise 1.4.7I don\\\'t seem to have any path to the new user creation. I\\\'m a newbe (do people still use that term) to ruby," but I followed the steps outlined in the rails cast (#209). All the other paths are in my routes...     new_user_session GET  /(.:format)        {:action=>""new"""," :controller=>""""}      user_session POST /(.:format)        {:action=>""create"""," :controller=>""""}    destroy_user_session DELETE /(.:format)       {:action=>""destroy"""," :controller=>""""}     user_password POST /(.:format)       {:action=>""create"""," :controller=>""""}     new_user_password GET  /(.:format)       {:action=>""new"""," :controller=>""""}    edit_user_password GET  /(.:format)      {:action=>""edit"""," :controller=>""""}           PUT  /(.:format) \''",,,,,,,,,,,,,,
devise,1122,closed,8,2011-06-08 17:43:46,109.55,,1,,"b""b' rails (4.0.4)devise (3.2.4)The way I avoid this is add a route.  '""",,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,9,2011-06-08 17:43:46,329.55,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,1122,closed,reopened,2014-06-19 08:49:44,909.4,1,8,2,,,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,closed,2014-06-19 08:49:48,0.07,1,8,2,,,,,,,,,,,,,,,,,,,,,,
devise,1122,closed,-,-,-,1,8,2,,,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,opened,2011-06-15 22:09:55,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,title,2011-06-15 22:09:55,00:00,,1,,"b""b' Documentation at rdoc points to v1.2.rc'""",,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,body,2011-06-15 22:09:55,00:00,,1,,"b""b' Documentation at  url  says that you should overwrite the active? method in your model for custom checks. But in fact it is active_for_authentication? now.'""",,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,1,2011-06-15 22:09:55,56.22,,1,,"b""b' Right. Could you please provide a pull request fixing the documentation? :)'""",,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,2,2011-06-15 22:09:55,595.25,,,1,"b'b"" Documentation in the code () is fine both for versions 1.3.3 (which I am using) and master. Actually", I found out about active_for_authentication? from there :) What\'s interesting," documentation for 1.3.3 on rubydoc url  is also correct. But something is wrong with documentation for master. Do you generate it manually or is it some sort of post-commit hook in github?""'",,,,,,,,,,,,,,,,,,,
devise,1141,closed,3,2011-06-15 22:09:55,8.18,,1,,"b'b"" I don\'t do anything at all. Someone is checking and generating it for me.""'",,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,closed,2011-06-16 09:09:34,659.65,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,4,2011-06-15 22:09:55,9.12,,1,,"b'b"" Then something is wrong with generating documentation"," as \'master\' documentation is actually for \'1.2.rc\' you can see it here url  (const VERSION).""'",,,,,,,,,,,,,,,,,,,,
devise,1141,closed,5,2011-06-15 22:09:55,13.23,1,,,"b""b' Weird. Do you know if there is an easy way to force it to be rebuilt? (I have closed this by mistake"," reopening).'""",,,,,,,,,,,,,,,,,,,,
devise,1141,closed,reopened,2011-06-16 09:31:57,22.38,1,5,1,,,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,6,2011-06-15 22:09:55,10.58,,1,,"b""b' I never did it myself"," but you may check this page url  how to set up automatic documentation generation after each commit.'""",,,,,,,,,,,,,,,,,,,,
devise,1141,closed,7,2011-06-15 22:09:55,52.53,,,1,"b'b"" Thanks"," hook added. Let\'s see how it goes!""'",,,,,,,,,,,,,,,,,,,,
devise,1141,closed,closed,2011-06-16 10:35:03,63.1,1,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,1141,closed,-,-,-,1,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,opened,2011-07-21 15:03:00,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,title,2011-07-21 15:03:00,00:00,,1,,"b""b' Consider after_sign_up_path_for(resource) over stored_location_for(scope)'""",,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,body,2011-07-21 15:03:00,00:00,,1,,"b'b"" Because this don\'t work: url ""'",,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,1,2011-07-21 15:03:00,876.27,,1,,"b'b"" I am having the same issue with redirecting a user after sign_up. I followed the guidelines outlined on the wiki located here: url  It doesn\'t seem to work. I tried implementing the 10dd199 fix and it didn\'t seem to work either. Any help?""'",,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,2,2011-07-21 15:03:00,430.55,1,,,"b""b' @bhardin This is annoying", because this fix worked for me," using exactly the same method as that How To.'""",,,,,,,,,,,,,,,,,,,
devise,1208,closed,closed,2011-07-22 12:49:49,1306.82,1,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,reopened,2011-07-24 21:01:21,491.53,1,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,3,2011-07-21 15:03:00,687.5,,1,,"b""b' The default behavior is to always consider stored_location_for first. This is also what happens after sign in. If you want to change this"," simply override redirect_location instead.'""",,,,,,,,,,,,,,,,,,,,
devise,1208,closed,closed,2011-07-25 00:17:19,195.97,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1208,closed,-,-,-,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,opened,2011-07-24 22:27:20,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,title,2011-07-24 22:27:20,00:00,,1,,"b""b' ruby 1.9.3 head'""",,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,body,2011-07-24 22:27:20,00:00,,1,,"b'b"" I\'m trying to run a 1.9.2 project with ruby 1.9.3 head (from rvm). I do receive this error: bundle install...Using database_cleaner (0.6.7) Using orm_adapter (0.0.5) Using warden (1.0.4) Using devise (1.4.0) from git:// (at master) /-1.9.3-:1921:in  to_yaml\'    from /-1.9.3-:85:in ""'",,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,1,2011-07-24 22:27:20,116.27,,1,,"b""b' We are properly tagging everything as UTF8. Ruby 1.9.3 bug?'""",,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,closed,2011-07-25 00:23:36,116.27,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,2,2011-07-24 22:27:20,447.38,,1,,"b'b"" i tried with ruby 1.9.2p290", and i\'ve got the same error. Devise as gem worked, with both ruby," but from the repository don\'t.""'",,,,,,,,,,,,,,,,,,
devise,1217,closed,reopened,2011-07-25 11:58:42,695.1,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,3,2011-07-24 22:27:20,248.25,,1,,"b""b' This is weird. I am letting it open as documentation"," but it seems unlikely to be a Devise bug. Thanks for reporting.'""",,,,,,,,,,,,,,,,,,,,
devise,1217,closed,4,2011-07-24 22:27:20,527.17,,1,,"b""b' I know the cause of this problem: your gemspec file has UTF-8 characters.  I encountered something similar here: url '""",,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,5,2011-07-24 22:27:20,142.23,,1,,"b""b' But we are properly marking the encode as utf-8"," so it looks like a ruby bug?'""",,,,,,,,,,,,,,,,,,,,
devise,1217,closed,6,2011-07-24 22:27:20,819.55,1,,,b'b\' I still cannot explain why installing the gem doesn\\\'t present this problem," but I think I solved the github download: It turns out that for the default LANG environment variable wasn\\xe2\\x80\\x99t set by default on my system.  $ localeLANG=LC_CTYPE=""en_-8""LC_NUMERIC=""en_-8""LC_TIME=""en_-8""LC_COLLATE=""en_-8""LC_MONETARY=""en_-8""LC_MESSAGES=""en_-8""LC_PAPER=""en_-8""LC_NAME=""en_-8""LC_ADDRESS=""en_-8""LC_TELEPHONE=""en_-8""LC_MEASUREMENT=""en_-8""LC_IDENTIFICATION=""en_-8""LC_ALL= Since ruby relies on LANG to pick out the correct encoding"," it gets confused when trying to process the gemspecs containing the UTF-8 characters. This fixed it on my ubuntu box: $ sudo echo ""LANG=en_-8"" >again", not sure why installing as gem doesn\\\'t present the problem...\'',,,,,,,,,,,,,,,,,,
devise,1217,closed,closed,2011-08-02 08:21:29,1222.78,1,7,0,,,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,7,2011-07-24 22:27:20,444.65,,,1,"b'b"" @enrico Thanks for your explanation. I have spent hours trying to figure this out. The idea that user needs to set their language to UTF-8 in order to install a gem seems very wrong to me.  @josevalim Thanks so much for your contributions to the community. I rely on your code daily. That being said", I am sure that many people are starting to, or have run into this exact issue because your names\' containing unicode characters in the gemspec. To help prevent others spending hours in frustration," may I suggest that you address the problem in a note in the readme or something? Just something to let people know what to check for if they cannot install your gems from source.  Thanks!""'",,,,,,,,,,,,,,,,,,
devise,1217,closed,8,2011-07-24 22:27:20,446.5,,1,,"b'b"" It doesn\'t make sense to change the README when it seems to be a Ruby bug.The gemspec is properly marked as UTF8: url ""'",,,,,,,,,,,,,,,,,,,,,
devise,1217,closed,9,2011-07-24 22:27:20,455.85,,1,,"b""b' I understand that it is not a problem with your code. Not everyone (myself included) understands this though", and it would just be something helpful to do so that people understand that it is not a problem with devise, inherited_resources," etc.'""",,,,,,,,,,,,,,,,,,
devise,1217,closed,-,-,-,1,9,1,,,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,opened,2011-07-26 09:49:01,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,title,2011-07-26 09:49:01,00:00,,1,,"b""b' devise_for does not like optional parameter scopes'""",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,body,2011-07-26 09:49:01,00:00,,1,,"b'b"" In the routes", I was using a scope \'(:locale)\' for the entire application.  Since version 1.4.1 of devise," it generates an obscur RuntimeException(\'can not modify frozen hash\') and I was not able to have more information about the location of the problem.""'",,,,,,,,,,,,,,,,,,,
devise,1218,closed,1,2011-07-26 09:49:01,123.33,,,1,"b""b' Please include Rails version and backtrace. Thanks.'""",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,2,2011-07-26 09:49:01,46.48,,1,,"b'b"" Rails version 3.0.9 with Ruby 1.9.2p180For the stack trace ... well there is none... It just display \'RuntimeError (can\'t modify frozen hash)\'.""'",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,3,2011-07-26 09:49:01,43.65,,1,,"b'b"" OK this time I\'m not using optional parameter scope"," but still had an exception. This time I\'ve got a stack trace so here it is: Hope it will help.""'",,,,,,,,,,,,,,,,,,,,
devise,1218,closed,4,2011-07-26 09:49:01,1140.62,,1,,"b""b' It seems to be some related to Rack::Mount version? Have you tried updating both Devise and Rack Mount gems?'""",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,5,2011-07-26 09:49:01,307.67,,1,,"b""b' Rails 3.0.9 does not seem to agree with that: url  '""",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,6,2011-07-26 09:49:01,156.37,,1,,"b""b' Do you still see the error? Downgrading to a previous rack-mount version does not fix it as well?'""",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,closed,2011-08-14 16:07:09,378.13,0,7,1,,,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,7,2011-07-26 09:49:01,572.17,,1,,"b""b' @pierre-schambacher"," what did you find was your fix? I am seeing this now on a project being upgraded as well. '""",,,,,,,,,,,,,,,,,,,,
devise,1218,closed,8,2011-07-26 09:49:01,441.13,,1,,"b'b"" @zdennis: we don\'t really have a fix ... it does work with 1.4.0 (that was yanked) but it\'s already installed in all the computer where we need to use the application. It\'s temporary until we can migrate to Rails 3.1"," and that should fix it.""'",,,,,,,,,,,,,,,,,,,,
devise,1218,closed,9,2011-07-26 09:49:01,1437.68,,1,,"b'b"" OK so migrating to Rails 3.1 does not fix anything... \'can\'t modify frozen hash\'We\'re now using rails 3.1"," devise 1.4.5 and rack-mount 0.8.3.""'",,,,,,,,,,,,,,,,,,,,
devise,1218,closed,10,2011-07-26 09:49:01,237.62,,1,,"b""b' @josevalim"," Can we re-open this issue? I also have this issue with every version of Devise 1.4.x up to 1.4.5. The actual issue comes from rack-mount because it freezes all of the route defaults and then devise appears to try to modify them when adding its own routes (cursory glance). I have downgraded back to what the project was originally running (1.2.rc). My route looks like:  '""",,,,,,,,,,,,,,,,,,,,
devise,1218,closed,reopened,2011-09-12 12:56:57,1249.8,0,11,1,,,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,11,2011-07-26 09:49:01,2.9,,1,,"b""b' Reopened. However"," a way to reproduce the issue is welcome as I cannot reproduce it here. Maybe a change to Devise Gemfile that adds the bad rack-mount version.'""",,,,,,,,,,,,,,,,,,,,
devise,1218,closed,12,2011-07-26 09:49:01,60.07,,1,,"b'b"" I\'m going to produce a test app that trigger the bug.""'",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,13,2011-07-26 09:49:01,1252.37,,1,,"b""b' Closing as nobody provided a way to reproduce.'""",,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,closed,2011-09-29 10:51:04,1314.12,0,14,1,,,,,,,,,,,,,,,,,,,,,,
devise,1218,closed,-,-,-,0,14,1,,,,,,,,,,,,,,,,,,,,,,
devise,1227,closed,opened,2011-07-29 15:32:30,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1227,closed,title,2011-07-29 15:32:30,00:00,,1,,"b""b' Models Modules Persistence'""",,,,,,,,,,,,,,,,,,,,,
devise,1227,closed,body,2011-07-29 15:32:30,00:00,,,1,"b'b"" hey", first thanks for the great gem, rocks. i\'m using devise in combination with couchdb and have some problems with the persistence of all the hooked-in models modules like trackable, etc.. each of them handles updates of the resource (aka user) doing save(:validate =though i know the problem is not really related to devise, i would like to ask for a devise feature to somehow bulk-collecting all the changes and just update the resource once. maybe you know if there is an easy way to do this with devise and the benefit of a single update would be good for all persistence layer. greets,"jochen""'",,,,,,,,,,,,,,,,
devise,1227,closed,1,2011-07-29 15:32:30,95.0,,1,,"b'b"" Can you provide more details about when this is happening? Which devise modules specifically? In theory", such stuff shouldn\'t be happening," except by the trackable module.""'",,,,,,,,,,,,,,,,,,,
devise,1227,closed,2,2011-07-29 15:32:30,155.9,,1,,"b'b"" hey", it\'s exactly the trackable module, in conjunction with the confirmable module.  a GET to the confirmations_controller#show action will trigger 2 updates to the resource," which sometimes results in couchdb 409 conflict states cause of master-master replication and a replication delay (i think that\'s the problem and see 2 PUTS to the resource in the request log).""'",,,,,,,,,,,,,,,,,,
devise,1227,closed,closed,2011-07-29 19:43:24,250.9,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1227,closed,reopened,2011-07-29 19:44:57,1.55,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1227,closed,3,2011-07-29 15:32:30,23.47,,1,,"b'b"" So what I recommend you to do is to add the following to your application controller: This will skip trackable stuff in all devise controllers", including confirmations, registrations and so on. I don\'t think this should be the default though," as it is specific to couchdb.""'",,,,,,,,,,,,,,,,,,
devise,1227,closed,closed,2011-07-29 20:06:52,21.92,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,1227,closed,4,2011-07-29 15:32:30,25.2,,1,,"b""b' obrigado for the hint", this should be sufficient. greets,"jochen'""",,,,,,,,,,,,,,,,,,,
devise,1227,closed,-,-,-,0,5,1,,,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,opened,2011-08-01 23:33:42,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,title,2011-08-01 23:33:42,00:00,,1,,"b""b' Rails 3.1.0rc5 Mountable Engine URL Scope Bug'""",,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,body,2011-08-01 23:33:42,00:00,,,1,"b'b"" When using Devise as a dependency for a mountable engine", the URL scopes aren\'t passed over to the engine\'s scope. I will explain below the use case: Main app: Within the mountable engine\'s routes, I have the following: From there, the URL helpers devise generates are not accessible within the scope or within the scope. (Should just be within the admin scope) That means whenever the FailureApp or the login page tries to references [this line]url  or calling the [url_ line]url  the following error is triggered. I have looked within the Rails source code to figure out how the routing separates engines in their own URL scopes but came up with no hints of how it is achieved. I have no problem generating a use case app if you like and prefer to work off that," but I hope this provides enough context as well. Thanks in advance!""'",,,,,,,,,,,,,,,,,
devise,1229,closed,1,2011-08-01 23:33:42,37.92,1,,,"b""b' We have to issues here. The first one is that proper named URL helpers are not being generated. This needs to be fixed. The second is that both the failure app and the views are asking for a link to the main app", instead of the mounted one. Unfortunately," I think this can only be fixed by changing devise views manually and customizing your own failure app. But this is not hard and it requires about 10 minutes only. We can certainly fix issue one though. Do you mind providing a sample app that reproduces the bug? :)'""",,,,,,,,,,,,,,,,,,,
devise,1229,closed,2,2011-08-01 23:33:42,403.0,1,,,"b""b' Just as an update before I generate a sample app after this", I fixed it with the following initializer within the engine: Then within the routes file (GitHub is a replacement for the website I am using it for): Is there any sort of array of helpers that have been defined by define_mounted_helper in RouteSet? Would it also be possible to find the defined methods to determine what is a mountable engine that has a different route scope? Just thinking out loud here... if there is no array of defined mounted engines or if there is no plan to have such a thing in Rails," would it be possible to add a new key to the block to add more scope for the FailureApp?  '""",,,,,,,,,,,,,,,,,,,
devise,1229,closed,3,2011-08-01 23:33:42,98.67,,1,,"b'b"" Yes", adding your routes to Devise::FailureApp is a good a way to fix part of the first issue. But unfortunately, we can\'t have something like this: Devise initialization is a bit complicated and I don\'t see how devise_for could actually customize how the failure app is going to behave. Besides, what would happen if you are mounted two engines and both of them are using Devise? So I still think the best solution would be to manually: And yes," setting :path_prefix =  :mounted =""'",,,,,,,,,,,,,,,,,
devise,1229,closed,4,2011-08-01 23:33:42,1102.75,,1,,b'b\' Haven\\\'t double confirm yet, but it looks like I am seeing same kind of issue here, if running rails 3.1.0rc5, the home link and the log out link at right upper corner won\\\'t be rendered correctly. The home link will be missing," and the link href of log out link will be ""#""", checked the source codes," looks like these two links are depended on a variable ""root_path"""," and missing of this variable will be rescued with nil or ""#"". I guess the root cause is very close to this issue. Updated: Just confirmed", there are two issues," one is ""root_path"" used in rails_admin", should be none related to devise here. Somehow, there are a second issue," rails_admin used ""destroy_session_path"" to render the log out link", looks like I\\\'m having the same issue here, the URL helper doesn\\\'t work any longer in rails_admin, not sure if the fix should go to devise or rails admin side.\'',,,,,,
devise,1229,closed,5,2011-08-01 23:33:42,998.02,,1,,"b'b"" I\'m having the same problem with  the destroy_session_path.And with the email template on the confirmation_url(object)""'",,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,6,2011-08-01 23:33:42,946.25,,1,,"b""b' I am closing this for now. The complaints I have seen so far are related to mounted engines + Rails and is not Devise fault. Devise _could_ be made easier to work with for engine developers and therefore patches are welcome. Feel free to reopen this issue or ping me if you have anything in hand.'""",,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,closed,2011-08-29 11:20:18,706.6,2,5,1,,,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,7,2011-08-01 23:33:42,688.13,,1,,b'b\' hi @josevalim, What @dewski described in this issue is exactly what I\\\'m meeting on the upgrade to rails 3.1 of my open source cms engine (). Actually, I\\\'m also trying to embed Devise in my engine. But," it occurs that Devise inside an engine has some ""problems"" to deal with the engine urls (as well as its own generated urls). First", before going further, for the views, there are no real problems in a sense that devise templates can be easily overridden. I\\\'m rather struggling with urls in the Devise::Mailer and Devise::FailureApp classes.  Jos\\xc3\\xa9, as you mentioned it, it\\\'s not a good option to inject all the urls from the engine inside these classes since urls from other engines (or even from the main app) can conflict with them. Besides," the rails 3.1 engine ""scopes"" all the urls meaning that if you call root_url in the code of your engine", it won\\\'t call the root_url of the main app but the one inside your engine routes instead.  So what I suggest is that Devise::Mailer, Devise:FailureApp and other potential classes I\\\'ve not identified yet should be scoped by the engine or the devise_for call (for now, it\\\'s a little bit unclear to me). Thus, engine A, engine B and the main app won\\\'t share the same Devise::Mailer and Devise::FailureApp classes if they specify it in their call to devise_for with some kind of option like :mountable_engine =Hmmm, concerning the Devise::Mailer, instead of having  returning a simple class, we could pass the scope as the argument. By default, it returns the global devise::mailer and if we pass it a scope (and if the mountable_engine is on), we return the custom class built for the engine. Hmm, it may be completely dumb, I don\\\'t know. So I\\\'d be glad to talk with you guys about a clean solution to tackle this problem which is going to be more and more brought up  by the developers of rails 3.1 engine. I do believe Devise has to handle smoothly the authentication among different engines. thanks guys !\''
devise,1229,closed,reopened,2011-11-04 00:39:09,798.85,2,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,8,2011-08-01 23:33:42,112.77,,,1,"b""b' I have reopened the issue. 1) About having a Mailer per scope", I am fine with it. Could you please send a pull request for it?2) Devise::FailureApp: I also agree that it could be configurable on devise_for. Could you provide (another) pull request as well? If you have any further questions," please let me know and I will be glad to help.'""",,,,,,,,,,,,,,,,,,,
devise,1229,closed,9,2011-08-01 23:33:42,33.22,,1,,b'b\' hey thanks Jos\\xc3\\xa9 !  1/ I\\\'m working on it right now.  For instance, as far as it goes,"  will be replaced by something like  ""devise_mapping"" being a method which retrieves the mapping object from the current class name in the Recoverable", Lockable and Confirmable modules. btw: if no mailer option is passed to the devise_for, then we use the default  class. 2/ that\\\'s one is tricky because the FailureApp class is given once to Warden when Devise is initialized. We could modify Warden each time we call the authenticate! method on the warden instance but it\\\'s ugly.  OR, we could patch warden to pass a FailureApp class for a scope. Ex: In this case, I also have to fork Warden. Any ideas ?\'',,,,,,,,,,,,,,,
devise,1229,closed,10,2011-08-01 23:33:42,60.95,,1,,"b'b"" @josevalim", my last thoughts about 2/ before aiming to my bed. Modifying Warden should not be that hard. Only the following method  needs to be modified. In the options argument, we\'ve got everything we need to retrieve the custom failure app. For now," I\'m going to alias this method in Devise (thanks to alias_method_chain) if you don\'t mind. Hope to send you a pull request by the end of the week-end.""'",,,,,,,,,,,,,,,,,,
devise,1229,closed,11,2011-08-01 23:33:42,494.38,,,1,"b'b"" Hey @did", let\'s do this! 1) I don\'t think the mailer should be configured in the router. I believe we should simply change calls to something like: and allow to accept hashes with scope as keys and mailers as values. Then we could change the to use (so we would be sure it wouldn\'t override your configs). 2) I have commit and release access to Warden, so feel free to send pull requests there as well and I will gladly merge it straight away. We could for instance make failure apps configurable per scope in Warden itself. By the way," it is fine for the failure_app configuration to be in devise_for because it is a routing related config. Thanks for all the work!""'",,,,,,,,,,,,,,,,,,
devise,1229,closed,12,2011-08-01 23:33:42,311.6,,1,,"b""b' quick status: 1/ first implementation here: url 2/ coming soon.'""",,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,13,2011-08-01 23:33:42,40.45,,1,,"b""b' Added some comments for 1). :)'""",,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,closed,2011-11-08 00:03:01,1403.87,2,10,3,,,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,14,2011-08-01 23:33:42,16.6,,1,,"b""b' are you continue working on the issue 2? I meet the same issue with root_path in mountable engine.'""",,,,,,,,,,,,,,,,,,,,,
devise,1229,closed,-,-,-,2,11,3,,,,,,,,,,,,,,,,,,,,,,
devise,1239,closed,opened,2011-08-04 04:44:37,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1239,closed,title,2011-08-04 04:44:37,00:00,,1,,"b""b' Untrack '""",,,,,,,,,,,,,,,,,,,,,
devise,1239,closed,body,2011-08-04 04:44:37,00:00,,,1,"b""b' Can I convince you? :-) I saw some insistence", like in #397, of tracking it, but that was a year ago and Yehuda [has since cleared the water on the subject]url  that is for app deployment," not public library development. This will avoid noisy commits like 569d205ca7c6f7ad41eec0098aa5f752c53e80a7 and remove some frustration for switching between Ruby versions while developing and testing.'""",,,,,,,,,,,,,,,,,
devise,1239,closed,1,2011-08-04 04:44:37,259.22,,1,,"b'b"" Untracking  makes more complicated for people to collaborate to the project. With ", someone can checkout the project and run it against the same versions as I do," ensuring all tests pass. Yehuda is pretty clear that I don\'t agree with him in this subject. ;)""'",,,,,,,,,,,,,,,,,,,
devise,1239,closed,closed,2011-08-04 09:03:50,259.22,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1239,closed,2,2011-08-04 04:44:37,89.52,,1,,"b'b"" Well", I would disagree that it reduces complication, because Devise tests should pass with the dependencies set in the gemspec -if they don\'t, then failings on finer version specificity that only exists in the is IMO a complication :-) Right now I\'m working on fixes for failing Mongoid tests, which I think should imply bumping the Mongoid version in Devise\'s based on our discussion on 92c9ed2d6c1ef5fe7a02a45f5469b814550ad9b2. But Bundler is generating a with when I\'m using MRI, just as in 569d205ca7c6f7ad41eec0098aa5f752c53e80a7 (Bundler WTF?). So this is a complication for me, as a collaborator, to fuss with. Ultimately it\'s your project," if you\'re unconvinced then all I can do is say that I tried :-)  Thanks for considering!""'",,,,,,,,,,,,,
devise,1239,closed,3,2011-08-04 04:44:37,43.08,,,1,"b""b' Even though I prefer the  checked in", having mongoid tests passing is more important for me than keeping the ," so I am applying this temporarily until I can figure out while bundler is depending on bcrypt-ruby java. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,1239,closed,reopened,2011-08-04 11:16:33,132.72,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,1239,closed,closed,2011-08-04 11:16:50,0.28,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,1239,closed,4,2011-08-04 04:44:37,32.3,1,,,"b'b"" It doesn\'t seem to interfere with work actually", if you prefer to revert it -I can run without problem," I just need to manually edit to remove the weirdness before I commit. I\'m sorry for stirring up such trouble :-)""'",,,,,,,,,,,,,,,,,,,
devise,1239,closed,-,-,-,1,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,1244,closed,opened,2011-08-05 10:46:04,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1244,closed,title,2011-08-05 10:46:04,00:00,,1,,"b""b' Doc tweaks'""",,,,,,,,,,,,,,,,,,,,,
devise,1244,closed,body,2011-08-05 10:46:04,00:00,1,,,"b'b"" I\'ve just been updating an old app to current Devise"," and it took a few minutes to grok what changed (mainly 09088706bb36f61e8268150936b088de3a677716 -I missed the window for the helpful initializer message about the field that\'s now removed already). Here are a couple of things I caught while getting it sorted.""'",,,,,,,,,,,,,,,,,,,,
devise,1244,closed,1,2011-08-05 10:46:04,87.83,,,1,"b""b' The pepper option was moved to the encryptable module"," so I only merged one commit of the two. THanks!'""",,,,,,,,,,,,,,,,,,,,
devise,1244,closed,closed,2011-08-05 12:13:54,87.83,1,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,1244,closed,2,2011-08-05 10:46:04,4.97,,,1,"b""b' I was looking at fbb77a6edd7e80006af14c5f300f8daaa2050067"," added back after encryptable was extracted -am I misreading the current state of things?'""",,,,,,,,,,,,,,,,,,,,
devise,1244,closed,reopened,2011-08-05 12:22:16,8.37,1,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,1244,closed,closed,2011-08-05 12:22:24,0.13,1,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,1244,closed,3,2011-08-05 10:46:04,4.98,,,1,"b""b' Actually", you are right! Merged," thanks for keeping me sane!'""",,,,,,,,,,,,,,,,,,,
devise,1244,closed,-,-,-,1,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,opened,2011-08-14 17:56:28,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,title,2011-08-14 17:56:28,00:00,,1,,"b'b"" Default Scope in  doesn\'t appear to pick up the scope""'",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,body,2011-08-14 17:56:28,00:00,,1,,"b'b"" I\'m using Devise 1.4.1 and it doesn\'t appear to be picking up the scope in the devise init file.  I have moved my routes around and it works now because devise_for :users is at the top", instead of owner," but I have  = :user.  Not sure if anyone else noticed this issue.  I have to run a full test to make sure it doesn\'t break anything else or my application but I thought i would let you know.""'",,,,,,,,,,,,,,,,,,,
devise,1272,closed,1,2011-08-14 17:56:28,1.55,,,1,"b""b' Can you provide a failing test case to devise test suite? Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,2,2011-08-14 17:56:28,1.43,,1,,"b""b' I definitely can do you have a recommendation or best practice on building one into devise to submit to you?  Even a sample"," so I can build it correctly'""",,,,,,,,,,,,,,,,,,,,
devise,1272,closed,3,2011-08-14 17:56:28,5.48,,,1,"b""b' Actually", I am realizing it would be hard to add a test for this because weonly boot an application inside Devise once. :(In case you are not familiar, inside Devise we have a vendored Rails app: url  This app has the same configuration files as your app: url  So I just changed the line above to:  = :account And suddenly Devise tests started to fail. This means the value in theconfiguration file is taking higher precedence than the route one here: url  In other words," I could not reproduce the bug you just reported. Maybe youcould create a simple application in Github that reproduces the issue then? Thank a lot!'""",,,,,,,,,,,,,,,,,,
devise,1272,closed,4,2011-08-14 17:56:28,0.22,,1,,"b""b' Also is there anything I can try first to reinstall or configure. I have upgraded from 1.1.7 to 1.4.1'""",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,closed,2011-08-14 18:05:09,8.68,0,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,5,2011-08-14 17:56:28,1.52,,1,,"b'b"" I can\'t recall anything in particular", it should work without issues.However," you should probably take a look at the CHANGELOG.""'",,,,,,,,,,,,,,,,,,,
devise,1272,closed,6,2011-08-14 17:56:28,141.1,,1,,"b'b"" Ok So I just changed my  file with :accounts"," and it didn\'t fail for me.  So it is definitely not picking it up for me.  Not sure why.  I\'ll try to build an application but I\'m using subdomains and some name spaced stuff""'",,,,,,,,,,,,,,,,,,,,
devise,1272,closed,reopened,2011-08-14 20:28:07,142.97,0,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,7,2011-08-14 17:56:28,3.15,,1,,"b'b"" Ok just a bit more information.  It is scoping the user and my views properly.  All appears to work but the mailer.  It doesn\'t seem to scope my mailer correctly unless I move the routes to the top. I\'m also using Delayed jobs  I keep recycling the server when I make a change""'",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,8,2011-08-14 17:56:28,141.62,1,,,"b'b"" Hey  like it might be a Devise_Invitable  at it here and will let you know.  I\'m trying to get my application deployed tonight and looks like it isn\'t going to happen :(""'",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,9,2011-08-14 17:56:28,6.25,,1,,"b'b"" Can\'t you simply move the users routes to the top or the accounts one to thebottom? Or this still cause issues?""'",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,10,2011-08-14 17:56:28,2.38,,,1,"b'b\' I can but their are still some quarks with the way it picks up the scoped views and mailer.  I think devise invitable overwrites it somehow.  So it doesn\\\'t pick up all the email templates and doesn\\\'t scope it correctly with their emails.  I\\\'m trying different versions but I can close this issue.  Thank you for spending the time with me because I""m under a time crunch now.  It looks to be the other gem at this point.  \''",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,11,2011-08-14 17:56:28,1.12,,,1,"b""b'  have built a rails application to help a non-profit to stop the unnecessary killing of animals.  Doing this all for a good cause :)'""",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,12,2011-08-14 17:56:28,9.25,,1,,"b'b"" actually I\'m not sure now.  I have a sample app that isn\'t working either""'",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,13,2011-08-14 17:56:28,10.22,,1,,"b""b' ok here is my sample  the scope to :account and there is no account but it still works. url '""",,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,14,2011-08-14 17:56:28,12.27,,1,,"b""b' It is still expected to work. The default_scope configuration is not used byDevise", only by warden. It means that, if you try to authenticate directlywith Warden it will use the configured default_scope. This is not an issuein Devise because everytime we want to authenticate against Warden, we passexplicitly which scope we want to authenticate. This should not also affectthe rendering of e-mails or views. It only affects if you are using wardenin another middleware or another application," like Sinatra.'""",,,,,,,,,,,,,,,,,
devise,1272,closed,15,2011-08-14 17:56:28,4.53,,,1,"b'b"" AH  that is interesting.  Well I\'ll move the routes to the top"," and figure out the invitable stuff.  Thanks again for your help!!!!!""'",,,,,,,,,,,,,,,,,,,,
devise,1272,closed,closed,2011-08-14 23:38:37,190.5,1,11,5,,,,,,,,,,,,,,,,,,,,,,
devise,1272,closed,-,-,-,1,11,5,,,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,opened,2011-08-28 21:32:15,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,title,2011-08-28 21:32:15,00:00,,1,,"b""b' Patch for Issue 1259'""",,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,body,2011-08-28 21:32:15,00:00,,,1,"b'b"" @josevalim I have added a patch with tests for issue 1259.  I used some of @daf\'s code as a guide for the copy_devise_migration method.  I also added tests", which successfully run.  Let me know if I need to fix anything. Thanks," Sean""'",,,,,,,,,,,,,,,,,,,
devise,1292,closed,closed,2011-08-28 23:34:45,122.5,0,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,1,2011-08-28 21:32:15,831.87,,,1,"b""b' Why was this closed? It looks good to me"," thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,1292,closed,reopened,2011-08-29 11:24:09,709.4,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,2,2011-08-28 21:32:15,111.52,,1,,"b""b' Revoke does not properly delete the migration created when a migration already existed.'""",,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,closed,2011-08-29 13:15:38,111.48,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,3,2011-08-28 21:32:15,26.1,,,1,"b""b' Revoke should never remove a migration. That is how it works in Rails by default. That said"," I believe this is good?'""",,,,,,,,,,,,,,,,,,,,
devise,1292,closed,4,2011-08-28 21:32:15,3.05,,1,,"b""b' The existing generator does remove the migration via :revoke though"," see here: url '""",,,,,,,,,,,,,,,,,,,,
devise,1292,closed,5,2011-08-28 21:32:15,5.28,1,,,"b'b"" Hrm", so I guess I am wrong then. :( It doesn\'t make much sense to remove it,"but we should follow Rails conventions.""'",,,,,,,,,,,,,,,,,,,
devise,1292,closed,reopened,2011-08-29 22:55:39,580.02,1,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,6,2011-08-28 21:32:15,548.85,,1,,"b'b"" I\'m going to open a new pull request.  I thought pushing would add the new commits to the pull request.""'",,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,closed,2011-08-29 22:58:55,3.27,1,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,1292,closed,-,-,-,1,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,opened,2011-08-29 18:58:47,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,title,2011-08-29 18:58:47,00:00,,1,,"b""b' Devise breaks after upgrading to Rails 3.1rc8'""",,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,body,2011-08-29 18:58:47,00:00,1,,,"b'b"" I don\'t know if this is a Rails Issue or a Devise issue"," I just upgraded to Rails 3.1rc8 and when I run the command I got the following message: Hope this helps""'",,,,,,,,,,,,,,,,,,,,
devise,1295,closed,1,2011-08-29 18:58:47,3.47,,1,,"b""b' This was already reported more than once"," just use Devise master. Please do a basic search before reporting issues.'""",,,,,,,,,,,,,,,,,,,,
devise,1295,closed,closed,2011-08-29 19:02:15,3.47,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,2,2011-08-29 18:58:47,0.32,,1,,"b""b' Leaving this open so people stop reporting the same bug all over again.'""",,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,reopened,2011-08-29 19:02:35,0.33,1,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,3,2011-08-29 18:58:47,93.8,,1,,"b""b' +1 same here'""",,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,4,2011-08-29 18:58:47,365.07,,1,,"b""b' True. Using Master did not fix it", so I patched it for you guys in the meantime:In your Gemfile," use this line:  This should do away with the errors until the issue is fixed in v1.2.5'""",,,,,,,,,,,,,,,,,,,
devise,1295,closed,5,2011-08-29 18:58:47,46.2,,1,,"b'b"" Just to explain what I believe is going on"," there\'s a dependency issue where Rails 3.1.rc8 and Devise require different versions of bcrypt that don\'t match. This reverts Devise to 1.0.11 all the way back from 1.4.2.""'",,,,,,,,,,,,,,,,,,,,
devise,1295,closed,6,2011-08-29 18:58:47,119.52,,1,,"b""b' Using worked for me.'""",,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,closed,2011-08-30 08:42:11,819.6,1,7,0,,,,,,,,,,,,,,,,,,,,,,
devise,1295,closed,-,-,-,1,7,0,,,,,,,,,,,,,,,,,,,,,,
devise,1304,closed,opened,2011-08-31 07:05:43,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1304,closed,title,2011-08-31 07:05:43,00:00,,1,,"b""b' Have encounter undefined method when upgrading to Rails 3.1 with Devise 1.4.3'""",,,,,,,,,,,,,,,,,,,,,
devise,1304,closed,body,2011-08-31 07:05:43,00:00,,1,,"b""b' Hi"," When I upgrade today Rails 3.1 final with devise 1.4.3 I encounter this error where previously I had none (for devise 1.4.2) When I reset password using RC6 + devise 1.4.2 I am able to. But not with new Rails 3.1 final and Devise 1.4.3  '""",,,,,,,,,,,,,,,,,,,,
devise,1304,closed,1,2011-08-31 07:05:43,29.37,,1,,"b""b' My route is like this:  '""",,,,,,,,,,,,,,,,,,,,,
devise,1304,closed,closed,2011-08-31 07:35:06,29.38,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1304,closed,reopened,2011-08-31 07:35:16,0.17,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1304,closed,2,2011-08-31 07:05:43,65.65,,1,,"b""b' Right. So in Devise 1.4.3", if you provide :skip," it skips the helpers generation as well. But your use case makes sense. So I guess I should skip helpers only if a skip_helpers option is provided.'""",,,,,,,,,,,,,,,,,,,
devise,1304,closed,3,2011-08-31 07:05:43,82.88,,1,,"b""b' @mech I have fixed this in Devise master"," could you please test and confirm it works?'""",,,,,,,,,,,,,,,,,,,,
devise,1304,closed,4,2011-08-31 07:05:43,269.75,,,1,"b""b' Hi Jose"," Yes it did work for me. Great thanks on that :)'""",,,,,,,,,,,,,,,,,,,,
devise,1304,closed,closed,2011-08-31 14:33:22,418.1,0,5,1,,,,,,,,,,,,,,,,,,,,,,
devise,1304,closed,5,2011-08-31 07:05:43,1197.93,,,1,"b""b' @josevalim It would be helpful to know which commit contains this fix"," thanks.'""",,,,,,,,,,,,,,,,,,,,
devise,1304,closed,-,-,-,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,opened,2011-09-21 07:43:57,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,title,2011-09-21 07:43:57,00:00,,,1,"b""b' Devise"," Heroku and the Asset Pipeline'""",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,body,2011-09-21 07:43:57,00:00,,,1,"b'b"" I\'m not sure if this has been mentioned before", and I\'m not sure where to even start fixing it. When deploying a Rails 3.1 app to Heroku, it runs the asset compilation rake task during the deploy.However in an app with devise in it this compilation fails because the devise_for route helper causes the rake task to need to talk to the database, which doesn\'t exist yet. Is this something that can be changed on Devise\'s end?  Any thoughts?Cheers,"Brad""'",,,,,,,,,,,,,,,,,
devise,1339,closed,1,2011-09-21 07:43:57,98.47,,,1,"b""b' +1 Have the same issue. Using Heroku Postgres on production. '""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,2,2011-09-21 07:43:57,625.17,,,1,"b""b' Hrm", Do you have the backtrace of the error you get when precompiling? Devise loads the models but it does not force any query in the database," so I would assume that this is more likely to be a Heroku issue. I believe there is a way to load models but tell them that there is no database connection. '""",,,,,,,,,,,,,,,,,,,
devise,1339,closed,3,2011-09-21 07:43:57,130.92,1,,,"b'b"" The bug can be reproduced by adding a non-existent database to the  and running the rake task. It does seem to be a strange bug. In one of the problematic apps [here]url  removing the has_and_belongs_to_many from the User model is another way to fix it. The other app doesn\'t have a has_and_belongs_to_many in it though"," will have a look at it tonight.""'",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,4,2011-09-21 07:43:57,429.85,1,,,"b'b"" It looks like the latest 3.1-stable branch fixes the has_and_belongs_to_many app.The other app error I fixed by either removing an ActiveRecordObserver from the  or removing a with_state method supplied by the state_machine gem from the associated model. It seems the devise_for method seems to be exposing underlying stuff out. Not sure if there\'s anything to be done?""'",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,5,2011-09-21 07:43:57,256.63,,,1,"b""b' devise_for needs to look into the models in order to create url helpers. There is not much I can do here. If Rails had a flag that specifically told me that assets were being compiled"," I could use this flag to skip loading assets. Maybe Heroku could provide this flag?'""",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,6,2011-09-21 07:43:57,0.78,,1,,"b""b' /cc @hone'""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,7,2011-09-21 07:43:57,407.25,,,1,"b'b"" @josevalim I tried pushing url  and it worked fine on the cedar stack. Here\'s the output from what I did: url ""'",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,8,2011-09-21 07:43:57,164.12,,,1,"b'b"" Potentially fixed the issue here: url  You will need both devise and rails 3-1-stable branch in order to fix the issue over heroku. Thanks for everyone\'s help.""'",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,closed,2011-09-22 18:57:08,673.18,2,1,7,,,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,9,2011-09-21 07:43:57,294.68,,1,,"b'b"" Still having this issue with the latest rails and devise branch. If I remove devise_for scope", It can precompile assets without issue. That\'s not really an ideal option.  gem \'rails\', \'3.1.1.rc1\'," :git =gem \'devise\'  :git =""'",,,,,,,,,,,,,,,,,,
devise,1339,closed,10,2011-09-21 07:43:57,106.87,,,1,"b'b"" @dodeja", the fix won\'t work until Heroku updates their code to use the new variable on compilation ( if they do ), in the meantime, have a quick look to see if you can work out what is being exposed by the devise_for block. It will most likely be a method in your devise model. Personally, one project was being broken by a  has_and_belongs_to_many and another by with_scope," you may be able to work around the problem. See [here]url  for instructions on how to reproduce the bug locally""'",,,,,,,,,,,,,,,,
devise,1339,closed,11,2011-09-21 07:43:57,28.95,,,1,"b""b' The environment variable is being set by Rails in Rails 3-1-stable. That said", it should work on Heroku. However, if you can reproduce the error locally and provide a backtrace," that would help a lot.'""",,,,,,,,,,,,,,,,,,
devise,1339,closed,12,2011-09-21 07:43:57,106.63,,1,,"b""b' I changed the database to a non-existing database and here is the trace. '""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,13,2011-09-21 07:43:57,563.18,,1,,"b""b' It seems that Rails is loading the routes and not Devise. I am not sure if it is worth to change Rails to not load the routes. @hone"," what do you think?'""",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,reopened,2011-09-23 13:17:29,1100.35,2,4,9,,,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,14,2011-09-21 07:43:57,654.7,1,,,"b""b' Please try again with Rails 3-1-stable branch. I have pushed a potential fix to Rails.'""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,15,2011-09-21 07:43:57,524.63,,,1,"b'b"" Hi Jose"," I\'m having the same issue and have upgraded to 3-1. No luck. ""'",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,16,2011-09-21 07:43:57,131.18,1,,,"b""b' If it does not work on Rails 3-1-stable branch", there is nothing much I can do. It is not a Devise issue, that said," I am closing this.'""",,,,,,,,,,,,,,,,,,
devise,1339,closed,closed,2011-09-25 11:07:58,1310.48,4,4,10,,,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,17,2011-09-21 07:43:57,224.35,,,1,"b""b' Thanks Jose"," appreciate the help. Was able to figure it out after all. '""",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,18,2011-09-21 07:43:57,364.45,,1,,"b""b' @nas887: how did you fix it?'""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,19,2011-09-21 07:43:57,358.25,1,,,"b""b' Hey Andrew", Can you be a bit more specific, having trouble referencing this one problemI ran into. -Neil On Sat, Oct 8, 2011 at 1:12 PM," Andrew Fecheyr <reply@>wrote:'""",,,,,,,,,,,,,,,,
devise,1339,closed,20,2011-09-21 07:43:57,394.95,,1,,"b""b' Hi Neil",  I had the same asset:precompile error. I fixed it by changing a scope in my devise user model to a lambda. On 09 Oct 2011, at 19:06," Neil reply@ wrote:'""",,,,,,,,,,,,,,,,,,
devise,1339,closed,21,2011-09-21 07:43:57,486.33,1,,,"b'b"" Hi Andrew","  I\'m very new to rails but working really hard.  My error was a simple configuration error. I fixed it by updating the URL that the callback was pointing to.  -Neil ""'",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,22,2011-09-21 07:43:57,35.4,,1,,b'b\' Getting same issue still,"can\\\'t connect to localhost 5432"" when running rake assets:precompile. Using devise directly, not via activeadmin. On rails 3.1.1.rc3.\''
devise	1339	closed	23	josevalim	2011-09-21 07:43:57	48.52			+1	b'b"" Rails 3.1.1 final has a method called . If you set it to false, you should be good but it won\'t allow you to access model information on your assets (which you probably shouldn\'t anyway).""'
devise	1339	closed	24	avocade	2011-09-21 07:43:57	52.97		+1		b""b' Setting this in  is suggested I guess?'",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,25,2011-09-21 07:43:57,55.78,,1,,"b""b' Yes"," more info about it in the guides: url '""",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,26,2011-09-21 07:43:57,706.97,,,1,"b""b' @josevalim +1 on the  fix thank you'""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,27,2011-09-21 07:43:57,24.62,,1,,"b'b"" Is there likely to be any more work on fixing this?  I have a gem I\'d dearly like to use that _needs_ url  and devise _needs_ it set to  . i18n-js needs the environment loaded to access the Rails I18n object"," which seems fairly valid to me.""'",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,28,2011-09-21 07:43:57,55.4,,,1,"b""b' Try updating orm_adapter in your bundle and set and see if Devise will be fine with it.'""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,29,2011-09-21 07:43:57,674.5,,1,,"b""b' orm_adapter is at 0.0.7"," which seems to be the latest release.  Or do you mean update to the github master?'""",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,30,2011-09-21 07:43:57,1110.15,,1,,"b'b"" That was it. If it still doesn\'t work"," I can\'t think of any other alternatives for now.""'",,,,,,,,,,,,,,,,,,,,
devise,1339,closed,31,2011-09-21 07:43:57,476.18,,,1,"b""b' When I installed active_admin with devise I got this issue on heroku. Any help? @josevalim '""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,32,2011-09-21 07:43:57,196.38,1,,,"b'b"" I\'m still having this with the latest devise and 3.2.13 :\\\\""'",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,33,2011-09-21 07:43:57,363.5,,1,,"b""b' This seems to be occurring again with Rails 4 and Ruby 2 now that has been removed from Rails 4.  I get the same error as above when putting a simple extra validation on the user model:  '""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,34,2011-09-21 07:43:57,887.53,,,1,"b""b' Still getting this issue with ActiveAdmin", Devise," Rails 4 and Heroku.  Was there ever a fix? '""",,,,,,,,,,,,,,,,,,,
devise,1339,closed,35,2011-09-21 07:43:57,218.42,,1,,"b""b' it was fixed for me by adding attr_accessor :terms_of_service'""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,36,2011-09-21 07:43:57,237.25,,,1,"b""b' Thanks @moustafasamir Works!'""",,,,,,,,,,,,,,,,,,,,,
devise,1339,closed,-,-,-,7,14,17,,,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,opened,2011-09-27 17:45:12,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,title,2011-09-27 17:45:12,00:00,,1,,"b""b' Undefined method users_url in SessionController'""",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,body,2011-09-27 17:45:12,00:00,,,1,"b'b"" I\'m using the master branch of Devise in my project and when I use a REST tester to POST to /"," I get a NoMethodError: Here is the full trace: How do  remedy this bug? Thanks!""'",,,,,,,,,,,,,,,,,,,,
devise,1350,closed,1,2011-09-27 17:45:12,2.77,,1,,"b""b' Could you please provide a failing test case to Devise code base?  That would help us a lot to understand and fix the issue.'""",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,2,2011-09-27 17:45:12,2.53,,1,,"b'b"" I\'m actually a relatively new Rails developer and I haven\'t yet gotten so far as to develop test cases for my project. I\'m sure that doesn\'t  there anything else I could provide to help locate the source of the problem?""'",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,3,2011-09-27 17:45:12,6.63,,1,,"b""b' Can you provide a sample application that reproduces this error and push it to Github and show us the rest tester that you are using? btw"," have you added :json to navigational formats in your devise initializer?'""",,,,,,,,,,,,,,,,,,,,
devise,1350,closed,4,2011-09-27 17:45:12,275.42,,,1,b'b\' Okay, I was in the process of creating a sample application to show the bug, but when I checked the routing," I noticed that in my sample application the Devise installation left ""resources :users"" in after the devise_for line. I put that line back in my original project", and JSON sign_in worked properly. So the moral of the story is that the resources line in the routes file must be left in (just in case any other Rails developers come across this issue). Thanks so much for your quick responses, this is a great project!\'',,,,,,,,,,,,,,,,
devise,1350,closed,closed,2011-09-27 22:32:34,287.37,0,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,5,2011-09-27 17:45:12,73.42,1,,,"b'b"" @josevalim just ran into this myself today. I\'m not sure why the is needed for this to not throw an error when performing an AJAX call with JSON. Just to clarify our routes look like As @mathcolo mentioned"," it does work when I added after that block. But of course that leads to routes getting defined like /users (when I have no UsersController). It\'s odd.""'",,,,,,,,,,,,,,,,,,,,
devise,1350,closed,6,2011-09-27 17:45:12,556.75,,1,,"b""b' @lucisferre we still need a way to reproduce the issue. otherwise there is nothing we can do. :S'""",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,7,2011-09-27 17:45:12,445.1,,1,,"b'b"" I do not know if it\'s the same issue", but I adding resources :users helped my code as well to make my rspec tests pass.  Here\'s my situation: upgrading from 1.5.3 to 2.1.2, with a User model, and the following custom code: And corresponding controllers that override a few things from Devise.  In my controllers, as part of the upgrade, I tried to copy anything new that made sense.  For instance: Previously, I did not have  , and things failed with the undefined method users_url.  There are a slew of other errors from the upgrade too," but one at a time...""'",,,,,,,,,,,,,
devise,1350,closed,8,2011-09-27 17:45:12,1184.93,,1,,"b'b"" I created a github project that causes Perhaps there\'s a bug in my code"," but it\'s really pretty simple.  Here\'s the repository of a very simple Rails app with an rspec test that causes things to blow up: url ""'",,,,,,,,,,,,,,,,,,,,
devise,1350,closed,reopened,2012-11-21 12:24:21,831.78,1,7,2,,,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,9,2011-09-27 17:45:12,126.93,1,,,"b'b"" I pushed another update to my mini project that does a  ", and it shows that it has no \'messages\'," even though it\'s clearly not an ok user.""'",,,,,,,,,,,,,,,,,,,
devise,1350,closed,10,2011-09-27 17:45:12,1192.3,1,,,"b'b"" More data: I tried adding this to the  file in my example project: It does not get called in the tests", but gets called when accessing things \'normally\', in a browser. Something else that\'s strange, is, if in the create method in RegistrationsController, I call save! instead of save," it errors out correctly.""'",,,,,,,,,,,,,,,
devise,1350,closed,11,2011-09-27 17:45:12,36.85,1,,,"b""b' If", in Devise::RegistrationsController#build_resource, I call  , everything works as expected: there are messages in ," and  works as well.  So... it seems that somehow that is not being triggered by the save?'""",,,,,,,,,,,,,,,,,
devise,1350,closed,12,2011-09-27 17:45:12,15.9,1,,,"b'b"" Argh... never mind", I\'m a moron.  This is what\'s causing the problem.  It used to work and now it does not, for whatever reason, but it\'s clearly what\'s causing things to go haywire.  Argh! anyway," I think this can be closed.""'",,,,,,,,,,,,,,,,,
devise,1350,closed,closed,2012-11-22 17:00:13,275.87,5,7,2,,,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,13,2011-09-27 17:45:12,453.67,,1,,"b""b' I have the same issue and no solution. Can this issue be re-opened?'""",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,14,2011-09-27 17:45:12,266.38,,1,,"b""b' I had the same error when overriding RegistrationsController"," but it works when i add error to resource before respond   this fix the problem with me'""",,,,,,,,,,,,,,,,,,,,
devise,1350,closed,15,2011-09-27 17:45:12,459.17,,1,,b'b\' I have the same original issue," without ""resources :users"""," I get a ""undefined local variable or method \''",,,,,,,,,,,,,,,,,,,
devise,1350,closed,16,2011-09-27 17:45:12,205.2,,1,,"b'b"" @Tuman829 if you\'re still having this issue", please open a new issue with your rails version, devise version, a stacktrace, and, if you\'re feeling motivated, a failing example app or test case. It\'s possible we won\'t be able to help you unless you provide one of the last two items but we try to reserve the Github issues for bugs with devise and direct everyone to the mailing list for support. Also keep in mind that if your devise version matches the original issue here," our first advice will be to upgrade to a more recent version as we don\'t generally push fixes to older releases unless they are security critical.""'",,,,,,,,,,,,,,
devise,1350,closed,17,2011-09-27 17:45:12,213.17,,1,,"b""b' I am running the newest version of devise"," let me see what I can do. I have posted in the mailing list as well. '""",,,,,,,,,,,,,,,,,,,,
devise,1350,closed,18,2011-09-27 17:45:12,949.37,,,1,"b'b"" If there is some sort of error in the code", this error could be thrown. In my case," I was trying to redirect to previous url after signin and it looks like I had an extra end in my application controller code. I was commenting out my code one by one and retracted back. Now I don\'t have this error nor I am able to redirect to previous url. Still trying... Thanks for all the inputs.""'",,,,,,,,,,,,,,,,,,,
devise,1350,closed,19,2011-09-27 17:45:12,1307.53,1,,,"b'b"" I had this error", but only when I was trying to deep link in to my app when not logged in.  It turned out to be a sneaky little bug, one that\'s worth remembering.  I had overridden to do different redirects based on my User\'s state.  At the top of that I had However, when you call it clears the value, so when a value was present the condition was true but then it returned nil, at which point Devise must have fallen back on the default of users_url," which I don\'t have defined. I now have  ""'",,,,,,,,,,,,,,,
devise,1350,closed,20,2011-09-27 17:45:12,619.35,,1,,"b""b' This is happening because your implementation of method returns  .'""",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,21,2011-09-27 17:45:12,283.35,,1,,"b'b"" It\'s June 2016 and the error still occurs.""'",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,22,2011-09-27 17:45:12,444.67,,,1,"b'b"" @doncadavona This should be working fine. Are you redefining after_sign_in_path_for? What does \'grep -r after_sign_in_path_for app/\' return?""'",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,23,2011-09-27 17:45:12,383.07,,1,,"b""b' @mib32 was my solution.'""",,,,,,,,,,,,,,,,,,,,,
devise,1350,closed,-,-,-,6,15,4,,,,,,,,,,,,,,,,,,,,,,
devise,1353,closed,opened,2011-09-28 16:28:40,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1353,closed,title,2011-09-28 16:28:40,00:00,,1,,"b'b"" \'You are already signed in\' does not work for admin sign_in for the 2nd time""'",,,,,,,,,,,,,,,,,,,,,
devise,1353,closed,body,2011-09-28 16:28:40,00:00,,,1,"b'b"" Hi", Hope there is something missing in my code instead of a bug here. I have set up both User and Administrator model using devise. All is fine until I trigger route  again after my admin user is  already signed in: I am expecting something like \'You are already signed in\' just like in User Model, but that\'s not the case for the Administrator model! The sign in form still pops up! I try digging into Devise::SessionController#new and really have no idea what went wrong the expected redirection seems not working the scope administrator?? Could anyone help? Thanks a lot! Best regards,"Ian ""'",,,,,,,,,,,,,,,,,,
devise,1353,closed,1,2011-09-28 16:28:40,23.55,,,1,"b'b"" There is no way we can detect that something is wrong with just this description. We have used devise with more than one scope and it always worked. That said", I recommend you to isolate this bug in an application so we can analyse it further. If you can\'t do that," please try the mailing list for general help as someone may have faced this issue already. thanks.""'",,,,,,,,,,,,,,,,,,,
devise,1353,closed,closed,2011-09-28 16:52:13,23.55,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,1353,closed,2,2011-09-28 16:28:40,876.23,,,1,"b'b"" After some debugging and hacking", I found out that this behavior is not multiple scope related, it always happens when a model does not include module  . The issue sits in of class  .  For model not assigned with module  , method above does not trigger redirect, so whenever is requested again after such has already signed in, is still triggered, the sign in form displays. I guess this should NOT be the expected usage for  , right? Because, following this logic, we will expect that if another user is signed in, the previous user session should be destroyed(not being remember), but that\'s not the case. My relevant code:   model  If anymore information is needed," please kindly revert. Thanks a lot!""'",,,,,,,,,
devise,1353,closed,reopened,2011-09-29 09:01:24,969.18,0,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,1353,closed,3,2011-09-28 16:28:40,117.7,,1,,"b'b"" Devise allows more than one scope to be signed in at the same time. It was designed this way. And yes"," if you don\'t use rememberable you will be prompted to sign in every time.""'",,,,,,,,,,,,,,,,,,,,
devise,1353,closed,closed,2011-09-29 09:26:09,24.75,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,1353,closed,-,-,-,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,opened,2011-10-08 15:16:40,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,title,2011-10-08 15:16:40,00:00,,1,,"b""b' Devise:: Cannot create user through rake db:seed (failure confirmation_instructions)'""",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,body,2011-10-08 15:16:40,00:00,,,1,"b""b' User model has a function In rake db:seed", I have to call  However," this fails  Then I changed the code in createadmin It works! Any clue why this is happening?'""",,,,,,,,,,,,,,,,,,,
devise,1369,closed,1,2011-10-08 15:16:40,6.45,,1,,"b""b' Could you please read and provide the proper information: url '""",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,2,2011-10-08 15:16:40,31.13,1,,,"b'b"" Apologize"," for posting incomplete information.  # Environment Details: Ruby: 1.9.2Using warden (1.0.6) Using devise (1.5.0.dev) from git:// (at master) Using orm_adapter (0.0.5) Rails: 3.1.0 # Error Class / Message / Backtrace: ActionView::Template::Error: ActionView::Template::Error  from /:3:in  block in render\'  from /-1.9.2-p136@rails31/-3.1.0/:55:in  render\'  from /-1.9.2-p136@rails31/-3.1.0/:40:in  block in instrument\'  from /-1.9.2-p136@rails31/-3.1.0/:53:in  instrument\'  from /-1.9.2-p136@rails31/-3.1.0/:53:in  instrument\'  from /-1.9.2-p136@rails31/-3.1.0/:39:in  render_with_layout\'  from /-1.9.2-p136@rails31/-3.1.0/:38:in  block in render\'  from /-1.9.2-p136@rails31/-3.1.0/:17:in  render\'... 32 levels...  from /-1.9.2-p136@rails31/-3.1.0/:241:in  block in with_transaction_returning_status\'  from /-1.9.2-p136@rails31/-3.1.0/:192:in  transaction\'  from /-1.9.2-p136@rails31/-3.1.0/:293:in  block in save\'  from /-1.9.2-p136@rails31/-3.1.0/:252:in  save\'  from /-1.9.2-p136@rails31/-3.1.0/:510:in  createobj\'  from (irb):1  from /-1.9.2-p136@rails31/-3.1.0/:45:in  start\'  from /-1.9.2-p136@rails31/-3.1.0/:40:in  require\'""'",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,3,2011-10-08 15:16:40,4.3,,1,,"b""b' 1 more thing ... Line 3 at  has  @) %>'""",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,4,2011-10-08 15:16:40,0.8,,1,,"b""b' Show 3rd line from your file"," it looks like that sending of confirmation email fails.'""",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,5,2011-10-08 15:16:40,1.75,,,1,"b""b' Yes sending email fails. But note"," same command second time runs fine. begin  (:email =rescue =  (:email =end Line 3 =  @) %>'""",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,6,2011-10-08 15:16:40,8.27,,,1,"b'b"" Maybe that\'s becouse once you use  ", and second one  . I think that it should start with downcase letter. And I don\'t know why it works fine in rescue, are you sure that this user is really created? Try , I think that when you run it second one," you will have validation error that user with the same email already exists.""'",,,,,,,,,,,,,,,,,
devise,1369,closed,7,2011-10-08 15:16:40,4.77,,,1,"b""b' BTW", 1. The github flavored markdown is making @ resource into @ Resource. Dont know why. :) Both are lower case @ resource in the code. 2. The rescue  is sending confirmation email and works perfectly fine. :-( I have an API which is creating user. Because of this error," you can imagine the hit to performance. :|'""",,,,,,,,,,,,,,,,,,,
devise,1369,closed,8,2011-10-08 15:16:40,168.53,,,1,"b'b"" I\'m having issues with the same code.  Everything works fine until you do the confirmation.""'",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,9,2011-10-08 15:16:40,9.72,,1,,"b""b' This seems to be a recent regression the same as #1358 e #1365. I will takea look at it tomorrow.'""",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,10,2011-10-08 15:16:40,26.47,,,1,"b""b' Thanks.  FYI"," reverting back to 1.4.2 seems to remove the issue for me.  Every subsequent version reports the same error.'""",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,11,2011-10-08 15:16:40,6.4,,1,,"b'b"" Hello MarkMcb"," which rails version are you on? I\'m on Rails 3.1 and I cannot downgrade Devise to 1.4.2 due to bcrypt-ruby incompatibility. devise (= 1.4.2) depends on bcrypt-ruby (~rails (= 3.1.0) depends on bcrypt-ruby (3.0.1)""'",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,12,2011-10-08 15:16:40,11.1,,1,,"b'b"" Hi RitvvijParrikh", I\'m on 3.1.1.  bcrypt-ruby 2.1.4.  I haven\'t done any real testing beyond just rolling back to see when I\'d stop getting the error, i.e.," my previously failing seed scripts work now and going through some basic manual user steps like signing up for an account work as well (both were crashing with the same error).""'",,,,,,,,,,,,,,,,,,
devise,1369,closed,13,2011-10-08 15:16:40,506.83,,,1,"b""b' Temporary workaround with Devise 1.5.0.dev u = (:email =! '""",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,14,2011-10-08 15:16:40,328.0,,,1,"b""b' Could you guys please check if the problem is solved in Devise master? Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,15,2011-10-08 15:16:40,63.38,,,1,"b'b"" The issue seems to be fixed for me.  It doesn\'t crash now.  Thanks!""'",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,16,2011-10-08 15:16:40,1259.05,,1,,"b""b' Had a similar Problem with rails 3.1.1 and Devise 1.4.7. Seeding the Database with users was Broken if :confirmable was set. Switches to yesterdays Devise master and it seems to work'""",,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,17,2011-10-08 15:16:40,12.72,,,1,"b""b' Could you guys also try Devise v1.4 branch? If it also works well"," I will release v1.4.8! Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,18,2011-10-08 15:16:40,169.87,,1,,"b""b' made the same with the v1.4 branch and it works for me"," too.'""",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,closed,2011-10-10 12:46:27,1289.78,1,9,10,,,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,reopened,2011-10-18 06:36:07,1069.67,1,9,10,,,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,19,2011-10-08 15:16:40,1180.28,,,1,"b""b' Guys"," I had to push another commit related to this area. Could you please still check if everything works in the latest v1.4 and master branches? Thanks a lot!'""",,,,,,,,,,,,,,,,,,,,
devise,1369,closed,closed,2011-10-21 06:42:34,6.45,1,9,11,,,,,,,,,,,,,,,,,,,,,,
devise,1369,closed,-,-,-,1,9,11,,,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,opened,2011-10-17 08:18:33,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,title,2011-10-17 08:18:33,00:00,,1,,"b""b' undefined method for omniauth_callbacks controller'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,body,2011-10-17 08:18:33,00:00,,,1,"b""b' this error appeared in our codebase since an upgrade from 1.3.4 to 1.4.8", and it seems somewhat related to similar errors reported recently. It consistently happens whenever an authorization is denied by the user and we end up on the failure side of the omniauth controller. Our code in callbacks controller is pretty much identical to that in the  and worked fine in the past. We also see the error when hitting the recovery  password page," similarly to an already reported and closed issue. In our case the route code looks like and the quick fix was to simply add  to our ApplicationController '""",,,,,,,,,,,,,,,,,,,
devise,1390,closed,1,2011-10-17 08:18:33,420.33,,1,,"b'b"" I also have this error in my app since an upgrade to 1.4.8. It occurs whenever a user requests a password reset email or a re-send of confirmation instructions. We\'re using rails 3.0.3.""'",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,2,2011-10-17 08:18:33,195.12,,1,,"b""b' +1 received this error as well going from 1.4.7 to 1.4.8'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,3,2011-10-17 08:18:33,114.72,,1,,"b""b' I can confirm that downgrading to 1.4.7 fixes this issue. Rails 3.0.3"," basic Devise setup'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,4,2011-10-17 08:18:33,608.63,,,1,"b""b' This should be fixed in master and v1.4 branches. Please confirm and I will gladly release 1.4.9. Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,closed,2011-10-18 06:37:21,1338.8,0,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,5,2011-10-17 08:18:33,21.73,,1,,"b""b' yep seems to work for me"," fixing the error both in password recovery and omniauth failure.'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,6,2011-10-17 08:18:33,60.05,,,1,"b""b' Thanks"," I can also confirm HEAD fixes this for Rails 3.0.3 / JRuby.'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,7,2011-10-17 08:18:33,814.83,,1,,"b""b' This issue seems to have regressed in 1.5.3 with omniauth 1.0.1'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,8,2011-10-17 08:18:33,934.88,,1,,"b""b' Yes I am getting this issue again'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,9,2011-10-17 08:18:33,1213.43,,1,,"b""b' Same"," needs to be reopened'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,10,2011-10-17 08:18:33,44.25,,1,,"b""b' Can someone provide a way to reproduce the issue? Otherwise"," there is no way we can fix it.'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,reopened,2012-05-02 10:06:34,209.22,0,9,3,,,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,11,2011-10-17 08:18:33,48.2,,,1,"b""b' I am closing this again for the same reason: lack of ways to reproduce the issue. Thanks.'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,closed,2012-05-06 10:54:44,48.17,0,9,4,,,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,12,2011-10-17 08:18:33,649.28,,1,,"b""b' I came across this issue in an app that I am migrating from ruby 1.8.7/rails 3.0.7 to 1.9.3/3.2.8.  Make sure the following is not in your : (Warden::Manager"," Rack::OpenID) '""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,13,2011-10-17 08:18:33,155.22,,1,,"b'b"" I encountered this whilst using Devise as confirmable only. It occurs for me when a user tries to confirm an email address using a token that has expired. Clearly it\'s necessary to define a route for this eventuality so just to confirm"," is defining a route like: the \'correct\' way to define the route? ""'",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,14,2011-10-17 08:18:33,1024.2,,,1,"b'b"" I ran into this today", but it was a narrow use case: I\'m writing an engine that uses devise version 2.2.4 plus omniauth-oauth2, and includes a custom subclass of Devise::OmniauthCallbacksController. I am only using :omniauthable in my User model. The error _only_ happens in the  app, which itself extends the engine\'s OmniauthCallbacksController (to implement a stub method), but not in a \'real\' app that is using the gem in the same fashion. I\'m in the process of trying to figure out if there is a notable difference in between this app and the test dummy app\'s configurations. I\'m running an integration test in the engine with the dummy app.  I put a breakpoint in !, and see the new_session_path being generated, but for whatever reason, it\'s not available in the custom OmniauthCallbacksController subclass in the dummy app. in that controller does show the Devise::Controllers::UrlHelpers being included," so I must be missing something.  I\'ll keep digging.""'",,,,,,,,,,,,,
devise,1390,closed,15,2011-10-17 08:18:33,266.75,,1,,"b'b"" In the docs it says but in fact it raises the aforementioned error and doesn\'t use the root.I\'m on a brand new Rails4 app with gems  ""'",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,16,2011-10-17 08:18:33,592.55,,1,,"b'b"" @josevalim"," got same issue on 3.2.4. Faced this problem when omniauth provider returns error and url  is called. I use only  so seems like haven\'t been generated. I have routes for but it doesn\'t help: This fix works for me: Should we reopen issue?""'",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,reopened,2014-04-13 07:48:30,1253.77,0,13,5,,,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,17,2011-10-17 08:18:33,778.92,,1,,"b""b' It should work"," because the is generated by Devise. You can check the code here url  and here url  Could you provide a sample app to reproduce this bug?'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,18,2011-10-17 08:18:33,45.22,1,,,"b""b' @laurocaetano we just generate those routes depending on the devise functionality you are using: url  I am not sure what is the best way to proceed here. Maybe a respond_to? check with a proper error message? Or maybe leave it as is and say new_session_path or after_omniauth_failure_path_for must be redefined. We just need to agree on something.'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,19,2011-10-17 08:18:33,557.0,,1,,"b""b' \\xd0\\x9c\\xd0\\xb0\\xd1\\x83be just create this helper if is used? There is notice in documentation that one should add route manually if uses without  . So the route should be present"," we only need a helper.'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,20,2011-10-17 08:18:33,1.92,,,1,"b""b' @printercu yeah"," that is likely a better option!'""",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,21,2011-10-17 08:18:33,743.52,,1,,"b'b"" I got something like url  but I\'m not familiar with this part of the code and maybe I\'m missing something. ""'",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,22,2011-10-17 08:18:33,633.48,,1,,"b""b' @laurocaetano that seems to be the way to go. @printercu could you please give it a try?'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,23,2011-10-17 08:18:33,126.07,,1,,"b'b"" I can\'t test its behaviour with omniauth now", but i\'ve got this in console: I tried this, it works in console," but i don\'t know how) Is it expected behaviour? I\'ll try it later on server. _Update._ I\'ve got error  .""'",,,,,,,,,,,,,,,,,,
devise,1390,closed,24,2011-10-17 08:18:33,728.63,,1,,"b'b"" The solution I mentioned before won\'t work because will only get the  \'s first key. url  @josevalim should we change the method to accept more than one key?""'",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,25,2011-10-17 08:18:33,4.08,,,1,"b""b' Definitely!'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,26,2011-10-17 08:18:33,54.98,1,,,"b'b"" Well", it also won\'t work :cry:, because it will only have access to the routes defined by the module -Discussing with @ulissesalmeida we came up with some solutions:1. Just let this way and add a documentation to warn users that must be defined.2. Add the documentation **and** raise an error saying that this helper must be defined.3. Rewrite how the routes and helpers work, so that it can accept the helpers defined in other modules.4. Make work without any external dependency, creating it\'s own view," action for failures and etc. What you guys think about it? cc @lucasmazza @carlosantoniodasilva ""'",,,,,,,,,,,,,,,,
devise,1390,closed,27,2011-10-17 08:18:33,19.02,,,1,"b""b' Giving a quick look on this I would go with options 2  3. :smile:'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,28,2011-10-17 08:18:33,502.85,,1,,"b""b' Vote for 1. There is also documentation for it url  . Just add few lines there.'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,29,2011-10-17 08:18:33,743.95,,,1,"b""b' @printercu I agree. Just updated url  Could you take a look? Thanks.'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,30,2011-10-17 08:18:33,29.57,,,1,"b""b' :+1: Thank you!'""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,31,2011-10-17 08:18:33,5.65,,1,,"b""b' :+1: '""",,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,32,2011-10-17 08:18:33,16.27,,,1,"b'b"" Thanks guys"," I\'m closing this for now. :heart: ""'",,,,,,,,,,,,,,,,,,,,
devise,1390,closed,closed,2014-04-25 18:53:51,665.35,2,21,11,,,,,,,,,,,,,,,,,,,,,,
devise,1390,closed,-,-,-,2,21,11,,,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,opened,2011-11-08 17:03:19,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,title,2011-11-08 17:03:19,00:00,,1,,"b""b' Missing colon for edit_password_url in Mailer.'""",,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,body,2011-11-08 17:03:19,00:00,,1,,b'b\' Hello there, I think I found a little bug. When trying to reset a password," the email received has a ""Change my password"" link which is missing a colon in href and an extra http. What I get is  instead of Perhaps I did something wrong in my config ? Need any version info ?\''",,,,,,,,,,,,,,,,,,,
devise,1430,closed,closed,2011-11-08 17:07:25,4.1,0,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,reopened,2011-11-08 17:07:29,0.07,0,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,1,2011-11-08 17:03:19,348.98,,1,,"b'b"" I made some tests", but I\'m not sure if the problem is in Devise  This is the generated template:url  This is the url  Maybe your includes the http:// as well and it duplicates on the generated mailer.  If this is not the case," try to create a sample application that replicates this issue. ""'",,,,,,,,,,,,,,,,,,,
devise,1430,closed,closed,2011-11-08 22:52:18,344.82,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,2,2011-11-08 17:03:19,1120.27,,,1,"b'b"" Thank you for the answer.I\'ll have a look to  mechanism and tell you if I find anything.""'",,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,3,2011-11-08 17:03:19,993.57,,1,,"b'b"" If you add http:// into the "," you\'ll get this error.  Remove the http:// and everything is set.""'",,,,,,,,,,,,,,,,,,,,
devise,1430,closed,4,2011-11-08 17:03:19,753.65,,1,,"b""b' @daSn0wie makes sense.'""",,,,,,,,,,,,,,,,,,,,,
devise,1430,closed,-,-,-,0,5,1,,,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,opened,2011-11-15 12:49:51,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,title,2011-11-15 12:49:51,00:00,,1,,"b'b"" Devise 1.5.0 + OmniAuth 1.0.0 don\'t work out of the box""'",,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,body,2011-11-15 12:49:51,00:00,,,1,b'b\' Hi, I have this in my Gemfile: gem \\\'devise\\\'gem \\\'omniauth\\\'gem \\\'oa-openid\\\', :require =The version for the gems are: devise (1.5.0)oa-basic (0.2.6)oa-core (0.3.2, 0.2.6)oa-enterprise (0.2.6)oa-more (0.2.6)oa-oauth (0.2.6)oa-openid (0.3.2)oauth (0.4.5)oauth2 (0.4.1)omniauth (1.0.0)omniauth-openid (1.0.1) In my  I have: require \\\'\\\' :open_id, OpenID::Store::(\\\'/tmp\\\') :open_id, OpenID::Store::(\\\'/tmp\\\'), :name =(as described here: url  ) When I start rails with, say,rails c," I get: /-1.8.7-p352@-3.1.0/:240:in  initialize\\\': Received wrong number of arguments. [""google""](ArgumentError) I really don\\\'t know how to procede... One or two months ago I made it work without problem. I try to go back to the those versions that did work (devise 1.4.2 and omniauth 0.2.6) but that doesn\\\'t work anymore", it seems bc_crypt or something like that was yanked... who yanks gems? That breaks deploys of things that work. :-( I\\\'m having this problem in an existing problem for which I\\\'m trying to add devise and omniauth. Just to be sure, I tried it in a newly created project (1. rails new ... 2. add the gems to the Gemfile, 3. bundle, 4. add  to the initializer, 5. rails c). Is there some workaround? Thanks!\'',,,,,,,
devise,1444,closed,1,2011-11-15 12:49:51,12.62,,1,,"b""b' You should use the [omniauth-openid]url  gem changing in your the line: with:  '""",,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,closed,2011-11-15 13:02:29,12.63,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,2,2011-11-15 12:49:51,12.47,,,1,"b'b"" Still didn\'t work out of the box. I had to put this in the initializer: require \'\' :open_id", :store = :open_id, :store =The changes are:I had to put :store =I had to put the :require =This is different from what is described here: url  So people trying to make it work will bump into the same problem. But I finally got it working! Thanks! Thanks! Thanks! Should I update the wiki with those changes? I guess there\'s an easier way to make it work," or maybe I\'m doing something wrong...""'",,,,,,,,,,,,,,,,,,
devise,1444,closed,3,2011-11-15 12:49:51,4.83,,,1,"b""b' Do you really need the require option? I saw the code and the line in your Gemfile should require this file. Go ahead and update the wiki page please. Thank you to giving us a feedback'""",,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,4,2011-11-15 12:49:51,8.33,,1,,"b""b' Yes", I need to put the require. If not," I get: /-1.8.7-p352@-3.1.0/:240:in '""",,,,,,,,,,,,,,,,,,,
devise,1444,closed,5,2011-11-15 12:49:51,2.98,,1,,"b'b"" Hmm. I see. I\'ll try to fix it to work out of box. This is related with issue #1442""'",,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,6,2011-11-15 12:49:51,312.27,,1,,"b""b' Tks for reporting"," we will look into the problem.'""",,,,,,,,,,,,,,,,,,,,
devise,1444,closed,reopened,2011-11-15 18:43:45,341.27,0,5,3,,,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,7,2011-11-15 12:49:51,797.1,,1,,"b""b' I had the same issue"," please check url  :)'""",,,,,,,,,,,,,,,,,,,,
devise,1444,closed,8,2011-11-15 12:49:51,1197.77,,1,,"b""b' I had the issue until I realized that I had locked OmniAuth to pre-1.0. Once I let devise update to 1.5 and omniauth to 1.0"," it worked again. Devise at 1.5 and OmniAuth at ~'""",,,,,,,,,,,,,,,,,,,,
devise,1444,closed,9,2011-11-15 12:49:51,193.2,,1,,"b""b' I have the same issue. Trying to use oa-enterprise + omniauth :salesforce and it fails since it requires the omniauth-salesforce gem. Which is something else.'""",,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,10,2011-11-15 12:49:51,10.95,,1,,"b'b"" I meant oa-oauth. If I add:  :salesforce", \'key\', \'secret\'," :require =I get: ruby-1.9.2-p290/-:136:in ""'",,,,,,,,,,,,,,,,,,
devise,1444,closed,11,2011-11-15 12:49:51,1236.68,1,,,"b'b"" I\'m getting a similar issue as well", which is what I get for trying out the new + shiny... Identical configuration to OP except for using facebook auth instead of openid, starting the server throws: I tried adding a require hash in the initializer, ala @asterite ," which had no effect unfortunately.  Will update if the fiddling leads to success.  ""'",,,,,,,,,,,,,,,,,
devise,1444,closed,12,2011-11-15 12:49:51,51.07,,,1,"b'b"" So yeah",  doesn\'t exist anymore, so this (from the from ) is out of date: Removing /core results in the server starting, but now we need to change how access_token is traversed," working on that now and will update the wiki!""'",,,,,,,,,,,,,,,,,
devise,1444,closed,13,2011-11-15 12:49:51,13.93,,1,,"b'b"" Updated \\xe2\\x80\\x94 in case anyone\'s curious and not sure what changed", access_token returns an object now, not an array," so _access_token[\'extra\'][\'raw_info\'][\'email\']_ is now _access__""'",,,,,,,,,,,,,,,,,,
devise,1444,closed,14,2011-11-15 12:49:51,260.35,,1,,"b""b' This should be fixed on Devise master.'""",,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,closed,2011-11-22 09:24:24,880.65,1,11,4,,,,,,,,,,,,,,,,,,,,,,
devise,1444,closed,-,-,-,1,11,4,,,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,opened,2011-11-16 06:04:55,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,title,2011-11-16 06:04:55,00:00,,1,,"b""b' Dynamic value for timeout_in'""",,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,body,2011-11-16 06:04:55,00:00,,1,,"b""b'  can add dynamic value in timeout_in. Example : devise :database_authenticatable", :registerable, :timeoutable , :omniauthable,":timeout_in =I want to set value of timeout_in according to user  help?'""",,,,,,,,,,,,,,,,,
devise,1445,closed,1,2011-11-16 06:04:55,239.23,,,1,"b'b"" Hi I guess I answered this question on [Stack Overflow]url  Maybe my first answer wasn\'t so good", so I improved it.  But yes," you can add this dynamic value. Thanks""'",,,,,,,,,,,,,,,,,,,
devise,1445,closed,closed,2011-11-16 10:04:09,239.23,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,reopened,2011-11-23 11:01:00,56.85,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,2,2011-11-16 06:04:55,57.62,1,,,"b""b' Reopening this issue"," since it is not possible to add this dynamic value (sorry for my last answer).'""",,,,,,,,,,,,,,,,,,,,
devise,1445,closed,3,2011-11-16 06:04:55,340.07,,1,,"b""b' I could take it.'""",,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,4,2011-11-16 06:04:55,50.62,,,1,"b'b"" @lest Nice! I\'m waiting for your pull request :)""'",,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,5,2011-11-16 06:04:55,86.48,,1,,"b""b' @rodrigoflores done in #1460'""",,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,6,2011-11-16 06:04:55,11.63,,,1,"b""b' @lest thanks ! '""",,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,closed,2011-11-24 19:10:34,489.57,1,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,reopened,2011-11-24 22:46:00,215.43,1,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,7,2011-11-16 06:04:55,215.72,,1,,"b""b' Reopening it to implement it as a model method instead of a proc.'""",,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,8,2011-11-16 06:04:55,1.28,,1,,"b'b"" @josevalim Ok. I\'ll do it.""'",,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,9,2011-11-16 06:04:55,2.57,,,1,"b'b"" That\'s awesome"," thanks! :D""'",,,,,,,,,,,,,,,,,,,,
devise,1445,closed,closed,2011-11-25 08:27:24,581.4,1,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,1445,closed,-,-,-,1,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,opened,2011-11-20 12:30:08,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,title,2011-11-20 12:30:08,00:00,,1,,"b""b' Update '""",,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,body,2011-11-20 12:30:08,00:00,,1,,"b'b\' Accented characters cause error ""ArgumentError: invalid byte sequence in US-ASCII""They definitely are the correct way of writing names with all dignity but I believe ""large scale acceptance"" of the solution here should have higher priority", if I may.\'',,,,,,,,,,,,,,,,,,,,
devise,1450,closed,1,2011-11-20 12:30:08,281.3,,1,,"b""b' Thanks but this is not fixing the real problem. If you are receiving such errors"," it means something else is messing up and not Devise. Try updating your rubygems or bundler version if the problem persists.'""",,,,,,,,,,,,,,,,,,,,
devise,1450,closed,closed,2011-11-20 17:11:26,281.3,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,2,2011-11-20 12:30:08,0.6,,1,,"b'b"" Devise had accented character in the gemspec since the version 1.4.2 release at Jun 2011. I\'m curious about why this error appeared only now. Releted with #361""'",,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,reopened,2011-11-20 17:12:05,0.65,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,closed,2011-11-20 17:12:25,0.33,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,3,2011-11-20 12:30:08,1408.57,,1,,"b""b' this hotfix helped me:url '""",,,,,,,,,,,,,,,,,,,,,
devise,1450,closed,-,-,-,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,1465,closed,opened,2011-11-25 15:49:49,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1465,closed,title,2011-11-25 15:49:49,00:00,,1,,"b""b' replace webrat with capybara in integration tests'""",,,,,,,,,,,,,,,,,,,,,
devise,1465,closed,body,2011-11-25 15:49:49,00:00,,1,,"b""b' Well"," what do you think? Is it reasonable?If it is I can do it.'""",,,,,,,,,,,,,,,,,,,,
devise,1465,closed,1,2011-11-25 15:49:49,41.28,,,1,"b'b"" I don\'t think it will actually be possible. Devise relies a lot on setting headers and setting the session and Capybara does not allow you to do such stuff. Those are not acceptance tests"," but rather integration tests. Thanks for the interest though!""'",,,,,,,,,,,,,,,,,,,,
devise,1465,closed,closed,2011-11-26 18:31:51,162.03,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1465,closed,2,2011-11-25 15:49:49,170.77,,1,,"b'b"" Maybe"," now we can migrate our integration tests to capybara. I\'m reopening this issue to keep it on our way.""'",,,,,,,,,,,,,,,,,,,,
devise,1465,closed,reopened,2019-01-18 19:21:52,50.02,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1465,closed,3,2011-11-25 15:49:49,1227.7,,1,,"b'b"" I\'ve spent time trying to migrate those tests from Webrat to Capybara but I realized that it requires a lot of changes since we\'re going to refactor several tests and If we do that", we need do it carefully to not leave some scenario uncovered.  By now," I\'m going to close this issue since @tegon and I started working on this because we had some warnings coming from Webrat. But it is solved on this PR: url ""'",,,,,,,,,,,,,,,,,,,
devise,1465,closed,closed,2019-02-08 15:49:34,1227.7,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,1465,closed,-,-,-,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,opened,2011-12-23 11:23:23,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,title,2011-12-23 11:23:23,00:00,,1,,"b""b' ArgumentError in SessionsController#create  wrong number of arguments (1 for 2)'""",,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,body,2011-12-23 11:23:23,00:00,,,1,"b'b"" Hello  I am using Rails 2.3.8 gem 1.3.7devise (1.0.7)warden (0.10.7) I have an problem in signing with devise"," everything going fine but when I am trying to signing i am getting error  ArgumentError in SessionsController#create wrong number of arguments (1 for 2) /-1.0.7/:16:in  authenticate!\'/-0.10.7/:53:in  _run_strategies_for\'/-0.10.7/:281:in  _run_strategies_for\'/-0.10.7/:258:in  authenticate\'/-1.0.7/:36:in  create\'/-2.3.5/:1331:in  perform_action_without_filters\'/-2.3.5/:617:in  perform_action_without_benchmark\'/-2.3.5/:68:in  ms\'/:308:in  ms\'/-2.3.5/:68:in  perform_action_without_flash\'/-2.3.5/:146:in  send\'/-2.3.5/:532:in  process\'/-2.3.5/:391:in  call\'/-2.3.5/:437:in  dispatch\'/-2.3.5/:121:in  call\'/-0.10.7/:35:in  catch\'/-0.10.7/:34:in  call\'/-1.0.1/:9:in  call\'/-2.3.5/:15:in  call\'/-2.3.5/:29:in  cache\'/-2.3.5/:9:in  call\'/-2.3.5/:361:in  call\'/-1.0.1/:11:in  synchronize\'/-1.0.1/:11:in  call\'/-2.3.5/:34:in  call\'/-2.3.5/:31:in  call\'/-1.0.1/:40:in  call\'/-2.3.5/:19:in  call\'/-1.0.1/:13:in  service\'/:104:in  run\'/:173:in  start\'/:162:in  start\'/:92:in  start\'/:23:in  start\'/-1.0.1/:14:in  gem_original_require\'/:31:in ""'",,,,,,,,,,,,,,,,,,,,
devise,1517,closed,1,2011-12-23 11:23:23,13.47,,,1,"b""b' Can you provide a way to reproduce the error? We have already used Devise with Rails 2.3.x and everything worked fine. If not"," please at least try to ensure you are running on Devise 1.0.9.'""",,,,,,,,,,,,,,,,,,,,
devise,1517,closed,2,2011-12-23 11:23:23,33.3,,,1,"b""b' now I am using devise 1.0.9 but still getting same issue  step to reproduce the error:1) go to url 2) fill the email and password and click on sign in button  when I click on sign in button it will give the above error ArgumentError in SessionsController#createwrong number of arguments (1 for 2) sign up and forget password is working fine","  issue only with sign in'""",,,,,,,,,,,,,,,,,,,,
devise,1517,closed,3,2011-12-23 11:23:23,13.52,,,1,"b""b' It works fine for me on a 2.3 app. Can you provide a sample failure app that reproduces the issue?'""",,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,closed,2011-12-23 12:35:51,72.47,0,1,4,,,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,4,2011-12-23 11:23:23,12.37,1,,,"b""b' Ops"," closed by mistake. Dam you keyboard shortcuts.'""",,,,,,,,,,,,,,,,,,,,
devise,1517,closed,reopened,2011-12-23 12:36:06,0.25,1,1,4,,,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,5,2011-12-23 11:23:23,54.95,,,1,"b""b' problem was in model i have solved the issue thanks for help'""",,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,closed,2011-12-23 13:31:06,55.0,1,1,5,,,,,,,,,,,,,,,,,,,,,,
devise,1517,closed,-,-,-,1,1,5,,,,,,,,,,,,,,,,,,,,,,
devise,1536,closed,opened,2011-12-31 09:02:39,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1536,closed,title,2011-12-31 09:02:39,00:00,,1,,"b""b' Errno::EPIPE in Devise::RegistrationsController#create'""",,,,,,,,,,,,,,,,,,,,,
devise,1536,closed,body,2011-12-31 09:02:39,00:00,,,1,"b'b"" I have a rails application that I upgraded from 2.3 to 3.1 (through 3.0).  I am using the latest devise gem with my rails 3.1 application and really didn\'t change anything except to get the app back up and running after the upgrade.  However", devise emails are not going out (e.g. on registration) anymore.  This was all working fine on Rails 2.3.  After I set  = true on my development server (on Engine Yard)," I am getting the above error.  Here\'s the rest of the stack trace: mail (2.3.0) :57:in  puts\'mail (2.3.0) :57:in  popen\'mail (2.3.0) :56:in  deliver!\'mail (2.3.0) :1989:in  block in deliver\'actionmailer (3.1.3) :432:in  block in instrument\'activesupport (3.1.3) :21:in  instrument\'actionmailer (3.1.3) :430:in  deliver\'devise (1.5.3) :50:in  _run_create_callbacks\'activesupport (3.1.3) :81:in  create\'activerecord (3.1.3) :294:in  block in create_or_update\'activesupport (3.1.3) :399:in  run_callbacks\'activerecord (3.1.3) :264:in  save\'activerecord (3.1.3) :50:in  save\'activerecord (3.1.3) :241:in  block in with_transaction_returning_status\'activerecord (3.1.3) :192:in  transaction\'activerecord (3.1.3) :293:in  block in save\'activerecord (3.1.3) :252:in  save\'devise (1.5.3) :16:in  send_action\'actionpack (3.1.3) :167:in  process_action\'actionpack (3.1.3) :18:in  _run__576969675__process_action__88874271__callbacks\'activesupport (3.1.3) :386:in  run_callbacks\'actionpack (3.1.3) :17:in  process_action\'actionpack (3.1.3) :30:in  block in instrument\'activesupport (3.1.3) :21:in  instrument\'actionpack (3.1.3) :29:in  process_action\'activerecord (3.1.3) :18:in  process\'actionpack (3.1.3) :45:in  dispatch\'actionpack (3.1.3) :14:in  block in action\'actionpack (3.1.3) :65:in  dispatch\'actionpack (3.1.3) :29:in  call\'rack-mount (0.8.3) :152:in  block in recognize\'rack-mount (0.8.3) :68:in  recognize\'rack-mount (0.8.3) :141:in  call\'oa-core (0.3.2) :44:in  call\'oa-core (0.3.2) :30:in  block in call\'warden (1.1.0) :34:in  call\'actionpack (3.1.3) :17:in  call\'rack (1.3.5) :35:in  call\'actionpack (3.1.3) :21:in  call\'rack (1.3.5) :195:in  call\'actionpack (3.1.3) :331:in  call\'activerecord (3.1.3) :477:in  block in call\'activesupport (3.1.3) :392:in  run_callbacks\'actionpack (3.1.3) :28:in  call\'rack (1.3.5) :101:in  call\'actionpack (3.1.3) :47:in  call\'rack (1.3.5) :24:in  call\'activesupport (3.1.3) :72:in  call\'actionpack (3.1.3) :53:in  call\'railties (3.1.3) :30:in  process_request\'/:207:in  run\'/:65:in  safe_fork\'/:58:in  spawn_application\'/:159:in  handle_spawn_application\'/:352:in  start_synchronously\'/-spawn-server:63:in ""'",,,,,,,,,,,,,,,,,,,
devise,1536,closed,1,2011-12-31 09:02:39,30.87,,1,,"b""b' Devise is simply using your Rails setup which is trying to use sendmail for e-mail delivery. So if this is not working"," it is probably because sendmail does not work on Engine Yard or your mail configurations were not set properly.'""",,,,,,,,,,,,,,,,,,,,
devise,1536,closed,closed,2011-12-31 09:33:31,30.87,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1536,closed,2,2011-12-31 09:02:39,786.78,,1,,"b'b"" Hi Jose", Sorry but I tried everything and I cannot get this working (tried re-opening the issue but I do not seem to have permission to do this), is there any way you can give me some more information?  The error I am getting is just not getting me anywhere, I don\'t even know where to look. sendmail is working fine on EngineYard, I can send emails form the command line without a problem and they get routed correctly (through sendgrid) and arrive withing milliseconds. This also works perfectly fine on my local development server, it just does not work when I push this application to EngineYard. Also, this used to work fine before it was a RAils 3.1 application.  Has anything changed for Devise in Rails 3 that I need to look at? Any help much appreciated. Cheers,"Mark.""'",,,,,,,,,,,,,,
devise,1536,closed,reopened,2012-01-04 04:48:40,1155.15,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1536,closed,3,2011-12-31 09:02:39,369.38,,1,,"b'b"" Can you provide a way to reproduce the issue? Devise did not change related to mail delivery", so I don\'t know why this error is coming up. Also," your app fails to deliver only devise e-mail or any e-mail?""'",,,,,,,,,,,,,,,,,,,
devise,1536,closed,4,2011-12-31 09:02:39,0.57,,1,,"b""b' Also"," try updating the mail gem version and pinging the EY guys. :)'""",,,,,,,,,,,,,,,,,,,,
devise,1536,closed,5,2011-12-31 09:02:39,34.1,,1,,"b""b' Thanks for re-opening Jose. As per your last comment", I have been hassling EY, but guess what they say :-).  I am following up more with them tomorrow. As for your other questions, as of now, I only have devise sending emails.  I will create a new test app and try out sending emails that way.  Even I can only reproduce it on EY so not sure how I could provide something you can try. I do not have the mail gem in my Gemfile," should I?  I am on the latest version of Rails 3.1.3 so I assume that comes with the latest mail gem? It looks like it is using (from the dump) version 2.3 which I think is the latest version. I was actually looking more for a way to debug this.  I am just getting this message but I have no idea where to start.'""",,,,,,,,,,,,,,,,
devise,1536,closed,6,2011-12-31 09:02:39,5.92,,1,,"b""b' The mail gem is a Rails 3.1.3 dependency. To debug", do this then: 1) Check if doing will update the mail gem and maybe solve the problem; 2) If not, create a new mailer in your current application and try to deliver the e-mail. If it works, it is probably a Devise issue, if not," probably EY one; 3) You may need to create a test app anyway after trying 1) and 2) to provide EY or us a way to reproduce the problem. But this should be the last step.'""",,,,,,,,,,,,,,,,
devise,1536,closed,7,2011-12-31 09:02:39,961.68,,,1,b'b\' Hurray, I figured out what the problem was (and it was not devise). What really helped was sending an email from the Rails console ((1).send_confirmation_instructions).  That actually gave me the reason why it was failing (sendmail: recipients with -t option not supported), from there it was easy.  Here\\\'s a full explanation in case somebody else hits this issue (probably typical on EngineYard, see explanation as to why): As per the above extra error I saw," the issue has to do with the -t option being passed to ""sendmail"". This is done by default by the mail gem (which comes with", and is used by Rails 3.x). E.g. if you look into url  you can see: def initialize(values)  = { :location =:arguments =end -t is used to indicate that the recipients will be specified in the message itself (prefixed by either \\\'To:\\\', \\\'cc:\\\' or \\\'bcc:\\\') and therefore there is no point in specifying the recipients on the actual command line. E.g. if you do $ sendmail -t @ To: test@ Subject: Test body Ctrl-D (to send email) @ will be completely ignored and the email instead will go to test@. This actually works perfectly fine. Now, where it gets interesting is on EY, sendmail is actually ssmtp (sendmail just symlinks to ssmtp) and ssmpt will error when you issue the exact same command with the error I was getting: / -t @ ssmtp: recipients with -t option not supported and on the EY servers: sendmail -t @ sendmail: recipients with -t option not supported because on EY: $ ls -lrt / lrwxrwxrwx 1 root root 15 Dec 21 08:38 / -This explains why this works fine on my local dev server (I don\\\'t use ssmtp, I actually use sendmail). It seems that Rails IS providing the email address as part of the command line and therefore ssmtp raises an error and Rails barfs. The solution is as simple as overwriting the default arguments provided by the mail gem. You do this in your environment files, e.g. in :  = { :arguments =} Sending emails started working after I added this. Thanks for all the help! Cheers,Mark.\'',,,,,,,,,,
devise,1536,closed,closed,2012-01-04 21:31:58,1003.3,0,7,2,,,,,,,,,,,,,,,,,,,,,,
devise,1536,closed,-,-,-,0,7,2,,,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,opened,2012-01-20 10:02:18,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,title,2012-01-20 10:02:18,00:00,,1,,"b""b' Devise shared_views generator not found'""",,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,body,2012-01-20 10:02:18,00:00,,,1,"b'b""   gave me But gave me I\'m running Ruby 1.9.3"," Rails 3.1.3 and Devise 1.5.3 on Windows 7. Any suggestion will be appreciated. Thanks.""'",,,,,,,,,,,,,,,,,,,,
devise,1586,closed,1,2012-01-20 10:02:18,2.15,,,1,"b""b' You are not supposed to be running this generator directly. I will see if I can find a way to hide it. Thanks for reporting it.'""",,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,2,2012-01-20 10:02:18,35.67,,,1,"b""b' @josevalim sure. Thanks for this quick reply'""",,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,closed,2012-01-23 10:46:55,44.62,0,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,3,2012-01-20 10:02:18,628.08,,1,,"b""b' I had the same error but on simple_form_for:'""",,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,4,2012-01-20 10:02:18,10.88,,1,,"b""b' Yeah", those generators are internal," should not be invoked directly.'""",,,,,,,,,,,,,,,,,,,
devise,1586,closed,reopened,2012-01-27 21:19:07,632.2,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,closed,2012-02-03 08:04:14,645.12,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,1586,closed,-,-,-,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,1587,closed,opened,2012-01-20 13:12:01,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1587,closed,title,2012-01-20 13:12:01,00:00,,1,,"b""b' database authentication failure does not support i18n'""",,,,,,,,,,,,,,,,,,,,,
devise,1587,closed,body,2012-01-20 13:12:01,00:00,1,,,b'b\' Unless I\\\'m mistaken, when a user enter the wrong  combo," the database_authentication strategy calls  this is bubbled up to the view through the flash[:alert]. :invalid is converted to string and this is what is returned: ""invalid"" However", everywhere else in devise, the translation is done _BEFORE_ being assigned to flash[:alert|:notice]. I would like invalid to have the same behavior\'',,,,,,,,,,,,,,,,,
devise,1587,closed,1,2012-01-20 13:12:01,49.15,,1,,"b""b' They are translated here: url '""",,,,,,,,,,,,,,,,,,,,,
devise,1587,closed,closed,2012-01-20 14:01:11,49.17,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1587,closed,2,2012-01-20 13:12:01,5.93,,,1,"b'b"" I know they are. but the translations isn\'t done. not on my stack anyway (Everything else is!) Also"," I dug into Warden & Devise and I think this one falls through the crack...""'",,,,,,,,,,,,,,,,,,,,
devise,1587,closed,3,2012-01-20 13:12:01,0.72,,1,,"b""b' Hrm"," can you please provide a failing test case to Devise then?'""",,,,,,,,,,,,,,,,,,,,
devise,1587,closed,reopened,2012-01-20 14:07:50,6.65,1,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1587,closed,4,2012-01-20 13:12:01,60.08,,1,,"b'b"" Actually", I didn\'t really feel like going through the process of creating a new rail stack to show this test case, so I tried to find the issue myself, which I did. The problem lies [here]url  When a I18N cannot find the translation for this key, it returns the . However,  is trying to find the translation at * while the translation in the  file is at [*]url  Since it wasn\'t matching," it was simply returning the : (Invalid). I think it would be simpler to drop the default : since it makes it harder on user to find the actual issue. If I knew that a key was missing I would have added it to my .yml file and I would have been done with it.  Thought?""'",,,,,,,,,,,,,,,
devise,1587,closed,5,2012-01-20 13:12:01,8.05,,,1,"b""b' Sounds like a good compromise. Thanks for the detailed description"," I will work on it later.'""",,,,,,,,,,,,,,,,,,,,
devise,1587,closed,closed,2012-01-24 12:46:47,1358.95,1,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,1587,closed,-,-,-,1,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,opened,2012-02-02 01:33:29,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,title,2012-02-02 01:33:29,00:00,,1,,"b""b' Resolves #1601 Send confirmation email after_commit to avoid background jobs from trying to send email before record is created'""",,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,1,2012-02-02 01:33:29,376.83,,,1,"b'b"" Thanks. This means though that people tests will also break. We will probably need to add a configuration option so people could opt-in. But don\'t worry"," I will tackle it from now on. Thanks!""'",,,,,,,,,,,,,,,,,,,,
devise,1616,closed,closed,2012-04-17 06:54:22,320.88,0,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,2,2012-02-02 01:33:29,425.07,,1,,"b""b' @josevalim any news on this front? I just got a related issue on devise-async. What can I do to help?'""",,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,reopened,2012-06-15 15:00:23,486.02,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,3,2012-02-02 01:33:29,1231.17,,1,,"b""b' This is fixed on master. I have not added a specific configuration callback but a mechanism that allows you to easily change this. Here is the commit with documentation on how Devise Async could make use of it: url  This should also allow you to get rid of the devise async proxy. '""",,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,closed,2012-06-16 11:26:33,1226.17,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1616,closed,4,2012-02-02 01:33:29,269.25,,,1,"b'b"" Thanks a lot"," again. :D I\'ll look into how to change devise-async to take advantage of the change.""'",,,,,,,,,,,,,,,,,,,,
devise,1616,closed,-,-,-,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,opened,2012-02-13 23:09:43,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,title,2012-02-13 23:09:43,00:00,1,,,"b""b' session rollback generates wrong flash message'""",,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,body,2012-02-13 23:09:43,00:00,1,,,"b'b\' Started POST ""/"" for 127.0.0.1 at 2012-02-13 16:01:45 -0700...  ^[[1m^[[35m (0.3ms)^[[0m  ROLLBACK  Rendered  (6.3ms)  Rendered  within  (16.1ms)Completed 200 OK in 477ms (Views: 89.3ms | ActiveRecord: 0.0ms) The devise login screen generates the message ""Signed in successfully."" but does not move on to the next screen.  When you refresh the screen it then goes to the next as if it was logged in.  It seems like the flash message should be one of the rollback errors instead of the ""Signed in successfully"" message. I notice this because I have a shared login table across multiple hosts", where logins are valid only on one of the many hosts. \'',,,,,,,,,,,,,,,,,,,,
devise,1645,closed,1,2012-02-13 23:09:43,426.58,,1,,"b'b"" Can you provide a way to reproduce the issue", for example," a failing test in Devise suite or a sample app pushed to Github? Otherwise there isn\'t much we can do to fix it.""'",,,,,,,,,,,,,,,,,,,
devise,1645,closed,closed,2012-02-14 06:16:18,426.58,2,1,0,,,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,2,2012-02-13 23:09:43,647.95,1,,,"b'b\' url  <-simple app that exhibits the same problemgenerated basic devise setup (rake db:migrate adds a user ""test@""/pw: test1234)login model has added rejection code:  before_save :reject_user  def reject_user  errors[:base] << ""Login #{} is not allowed to connect here""  false  endI added the flash messages to the session view:  ""flash_error"") if flash[:error] % ""flash_alert"") if flash[:alert] %When you log in as test@"," it flashes ""Signed in successfully.""", but the logs show a session rollback and it does not advance to the hello world page.  If you reload the page, it goes to the hello world.  What I think should happen is that it issues a flash error message and never lets you go to the hello world page.\'',,,,,,,,,,,,,,,,,,
devise,1645,closed,reopened,2012-02-14 17:12:11,655.88,3,1,0,,,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,3,2012-02-13 23:09:43,1381.22,,1,,"b""b' Ok", I see the issue here. What is happening is that Devise is trying to update the user information, like in trackable," and ultimately failing because of your internal validation. I will change trackable to raise an error to make the reason more apparent.'""",,,,,,,,,,,,,,,,,,
devise,1645,closed,4,2012-02-13 23:09:43,2.83,,1,,"b""b' Fixed on 43d0715238e762e89cc465a441dd1bdffc0529e3'""",,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,closed,2012-02-15 16:08:18,1376.12,3,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,5,2012-02-13 23:09:43,126.0,,,1,"b""b' Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,1645,closed,-,-,-,3,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,1651,closed,opened,2012-02-15 15:03:05,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1651,closed,title,2012-02-15 15:03:05,00:00,,1,,"b""b' rake db:migrate failure'""",,,,,,,,,,,,,,,,,,,,,
devise,1651,closed,body,2012-02-15 15:03:05,00:00,,,1,"b'b"" Hi guys! After recent update"," I\'m getting some errors after migrating the database. I did this: and got this after migrating: I\'m using on  .""'",,,,,,,,,,,,,,,,,,,,
devise,1651,closed,1,2012-02-15 15:03:05,18.57,,1,,"b'b"" Sorry guys. Your gem is awesome", but sadly not caffeinised-idiot-proof. I had a typo, and that\'s why Inflector reported an error.  ," not  . Facepalm. Sorry once again for waisting 2s of your life.""'",,,,,,,,,,,,,,,,,,
devise,1651,closed,closed,2012-02-15 15:21:39,18.57,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1651,closed,2,2012-02-15 15:03:05,2.33,,,1,"b""b' Actually", THANK YOU for this detailed report. Some people already posted this here but in a non descriptive way and we could never find what was actually happening. Your report actually makes it pretty clear. Thanks," we will raise a warning if someone pass it on plural.'""",,,,,,,,,,,,,,,,,,,
devise,1651,closed,reopened,2012-02-15 15:24:01,2.37,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,1651,closed,closed,2012-02-15 15:58:28,34.45,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,1651,closed,3,2012-02-15 15:03:05,75.73,,,1,"b'b"" Wow! Well... I\'m glad that I helped! =)Thanks for the fix!""'",,,,,,,,,,,,,,,,,,,,,
devise,1651,closed,-,-,-,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,opened,2012-05-08 16:01:26,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,title,2012-05-08 16:01:26,00:00,,1,,"b""b' Signout wihtout database authenticatable'""",,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,body,2012-05-08 16:01:26,00:00,1,,,"b""b' There is no  sign out route when there is no module. This seems confusing"," as I am not using database authentication in my app and I still want to be able to log user out.'""",,,,,,,,,,,,,,,,,,,,
devise,1840,closed,1,2012-05-08 16:01:26,72.45,,1,,"b'b"" That\'s expected. If you don\'t have anything that relies on a session", it may as well be an API app, so you don\'t need any sign out route. If you need one," you can link to #destroy directly in your routes.""'",,,,,,,,,,,,,,,,,,
devise,1840,closed,closed,2012-05-08 17:13:53,72.45,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,2,2012-05-08 16:01:26,864.88,,1,,"b""b' May be add this route when is used. What do you think?'""",,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,3,2012-05-08 16:01:26,2.1,,1,,"b""b' @bogdan sounds reasonable to me.'""",,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,reopened,2012-05-10 07:40:56,867.05,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,4,2012-05-08 16:01:26,0.5,,1,,"b""b' The problem is that today you just get the whole package (all sign  routes). We must have a way to specify just part of it.'""",,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,5,2012-05-08 16:01:26,302.4,,1,,"b'b"" Just a side note", I\'ve got stuck with the same problem some time ago, using an app that only has  , the solution for me was to manually map a route to Devise::SessionsController#destroy: This worked fine," but perhaps we could make it easy in Devise by adding the sign out route as @bogdan suggested.""'",,,,,,,,,,,,,,,,,
devise,1840,closed,6,2012-05-08 16:01:26,659.83,,1,,b'b\' The solution above worked for me," but just using ""match"" instead of ""delete""...  \''",,,,,,,,,,,,,,,,,,,,
devise,1840,closed,7,2012-05-08 16:01:26,29.18,,1,,"b'b"" @Wilkerson yeah", it\'s because I\'m using as config. Just a quick hint: try using instead of  ," the latter is being deprecated in Rails 4.""'",,,,,,,,,,,,,,,,,,,
devise,1840,closed,8,2012-05-08 16:01:26,50.33,,,1,"b""b' @carlosantoniodasilva thanks for the hint! Sign_out still working just like you said!'""",,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,9,2012-05-08 16:01:26,27.67,,1,,"b""b' No problem :)'""",,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,10,2012-05-08 16:01:26,462.48,,1,,"b'b"" I think this is more of a documentation issue. If you are using Omniauth", sign out is a bit more complicated than expected because there is no real sign out after you authorize the app unless you deauthorize or sign out of the provider. I think we should document how to get the proper sign out routes in if people want to," but I don\'t think we should try to detect such cases inside Devise.""'",,,,,,,,,,,,,,,,,,,
devise,1840,closed,closed,2012-05-24 09:13:16,92.33,1,10,1,,,,,,,,,,,,,,,,,,,,,,
devise,1840,closed,-,-,-,1,10,1,,,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,opened,2012-05-22 16:01:52,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,title,2012-05-22 16:01:52,00:00,,1,,"b""b' expire_auth_token_on_timeout being thrown on timeout when token_authenticatable is not included'""",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,body,2012-05-22 16:01:52,00:00,,,1,"b'b"" On user timeout", an error is thrown instead of being redirected to the sign in page. First, let me say that I can\'t reproduce this error using Rails 3.2.3 and Devise 2.1.0 out of the box, and I\'ve also checked that my  file is in sync with what a new rails g devise:install would generate.  My only change is to set  = 5.seconds for testing purposes. However, my existing apps that have been upgraded to Rails 3.2.3 and Devise 2.1.0 encounter: My guess is that something changed the way this worked in this commit: url  Particularly, it fails on []url  line 14: My user model looks like: When I include token_authenticatable, the problem goes away, however I only want to include timeoutable. My guess is that only token_authenticatable sets expire_auth_token_on_timeout for the record and if it\'s not included, the record doesn\'t know about it even though it\'s going through the timeout code. ( []url  line 59-61) Also," a user closing and opening the browser also seems to fix the problem... I hope it\'s just some setting I have set incorrectly somewhere.  Thanks in advance! Oh and environment is using: Nginx with Passenger 3.0.12.""'",,,,,,,,,,,,
devise,1869,closed,1,2012-05-22 16:01:52,261.78,,1,,"b""b' I can confirm the same error and the : token_authenticatable workaround'""",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,2,2012-05-22 16:01:52,774.9,1,,,"b""b' I am afraid something else is up. is only going to be called if returns true. We are assuming that", if returns true, you have and defined. If this is not the case," two things may be happening: 1) You defined a method yourself;2) There is a bug somewhere causing to return true even when the method is not defined. Can you please check if one of these two things are happening?'""",,,,,,,,,,,,,,,,,,
devise,1869,closed,3,2012-05-22 16:01:52,212.8,,,1,"b'b"" Thanks Jose", I\'ll take a look at both of those. I did notice that by doing a fresh install, and inserting a reset_authentication_token! definition into the user model," I was able to reproduce it (which makes sense). I\'ll take a look to see if that\'s the case in my other applications.""'",,,,,,,,,,,,,,,,,,
devise,1869,closed,4,2012-05-22 16:01:52,47.83,,,1,"b'b"" I was able to figure out how to create this in a limited case. Doing a new install of devise", uncomment the following in 20XXXXXX_devise_create_ migration: And then include devise :timeoutable but not :token_authenticatable. I had the migration included by default in case I ever wanted to easily add the token_authenticatable model without doing a future migration.  Apparently adding this in, but not including :token_authenticatable in the user model causes issues. So I guess I have two options, create a migration to remove it, or include the token_authenticatable option in my model. Personally I\'d like to be able to keep it in and choose when to use token_authenticatable, but it\'s not a bug," just a strange combination on my part. Thanks!""'",,,,,,,,,,,,,,,
devise,1869,closed,closed,2012-05-24 13:39:11,1297.32,1,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,reopened,2012-05-24 14:10:45,31.57,1,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,5,2012-05-22 16:01:52,31.73,,1,,"b""b' Seems like a bug to me"," i will take a further look later.'""",,,,,,,,,,,,,,,,,,,,
devise,1869,closed,6,2012-05-22 16:01:52,1039.7,,1,,"b""b' @remomueller which ORM are you using? Also"," what does return to you in the console?'""",,,,,,,,,,,,,,,,,,,,
devise,1869,closed,7,2012-05-22 16:01:52,452.02,,,1,"b'b"" I\'m using require \'\' and ?(:reset_authentication_token!) returns true.""'",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,8,2012-05-22 16:01:52,21.47,,1,,"b""b' It returns true without using the token_authenticatable setup? o.O'""",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,9,2012-05-22 16:01:52,4.83,,1,,"b'b"" Right", I just took a default devise migration (devise_create_) and uncommented the  :authentication_token line to get that result (of course running the migration). I\'m not sure how that\'s causing it," but that\'s all I did. I could setup a small sample project on my GitHub account that recreates it?""'",,,,,,,,,,,,,,,,,,,
devise,1869,closed,10,2012-05-22 16:01:52,4.65,,,1,"b""b' Mystery solved! active record defines a reset_...! method: url '""",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,11,2012-05-22 16:01:52,8.28,,,1,"b""b' Oh wow", you learn something new every day," nice catch! Thanks for looking into this!'""",,,,,,,,,,,,,,,,,,,
devise,1869,closed,12,2012-05-22 16:01:52,293.3,,,1,"b'b"" @josevalim I can probably make a pull request for this to fix the issue", however I was wondering which approach you would prefer. I could either: 1) Rename the reset_authentication_token and reset_authentication_token! methods to something else so that it doesn\'t clash with the existing active_record method. or 2) Make the conditional statement in  a bit more robust by also checking for the presence of . I took a look at the existing tests for timeoutable," but I wasn\'t sure where I would put in a test to try this:  or .""'",,,,,,,,,,,,,,,,,,,
devise,1869,closed,13,2012-05-22 16:01:52,23.92,,,1,"b'b"" Or 3) Let\'s just check if it responds to :expire_auth_token_on_timeout and if itreturns true.It is for sure an integration test. You will probably have to use mocks tostub out the reset_authentication_token! method. Thanks for looking into it!""'",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,14,2012-05-22 16:01:52,1028.3,,1,,"b""b' It looks like the module SharedUser is by default including all devise extensions. Do you know an easy way to create a stubbed user without the token_authenticatable module for testing in integration?'""",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,15,2012-05-22 16:01:52,4.47,,1,,"b'b"" The Admin one seems to not have the token_authenticatable strategy. Wouldn\'t it fit?""'",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,16,2012-05-22 16:01:52,211.5,,1,,"b'b"" I tried using the admin user for testing", however it didn\'t have the authentication_token field, and therefore didn\'t appear to work correctly after the timeout.  So far I have this test, tried variations of undef and remove_method.  However this breaks other tests that follow as it appears changes to the module are permanent through the test suite. This does however correctly create the error: which is fixed by doing: on line 14 of  Essentially we know the fix, but I\'m unable to come up with a clever way of doing a test," without adding an additional User model that excludes the SharedUser with devise :token_authenticatable.""'",,,,,,,,,,,,,,,,
devise,1869,closed,17,2012-05-22 16:01:52,13.15,1,,,"b'b"" The idea of using the Admin module is exactly because it is not meant to have the field but something mistakenly added it. So you could do something like: And then remove it at the end of the test so we don\'t need to worry about side effects. Wdyt?""'",,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,18,2012-05-22 16:01:52,4.17,,1,,"b'b"" I\'ll give it a try"," but I remember also potentially missing expire_admin_path""'",,,,,,,,,,,,,,,,,,,,
devise,1869,closed,19,2012-05-22 16:01:52,143.92,,1,,"b""b' So far I have  for some unknown reason"," the admin user is not timing out.  '""",,,,,,,,,,,,,,,,,,,,
devise,1869,closed,20,2012-05-22 16:01:52,1175.4,,1,,"b""b' I had the same issue"," and this suggestion eventually fixed the problem. However I have _no_ idea why. Is this because of some cookie resetting?'""",,,,,,,,,,,,,,,,,,,,
devise,1869,closed,21,2012-05-22 16:01:52,1205.2,,,1,"b""b' Fixed on master"," thanks.'""",,,,,,,,,,,,,,,,,,,,
devise,1869,closed,closed,2012-06-16 12:05:11,1314.43,2,12,9,,,,,,,,,,,,,,,,,,,,,,
devise,1869,closed,-,-,-,2,12,9,,,,,,,,,,,,,,,,,,,,,,
devise,1895,closed,opened,2012-06-07 00:51:05,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1895,closed,title,2012-06-07 00:51:05,00:00,,1,,"b""b' Need to map route so devise works in functional tests'""",,,,,,,,,,,,,,,,,,,,,
devise,1895,closed,body,2012-06-07 00:51:05,00:00,,1,,b'b\' I\\\'m using ruby 1.9.3 and rails 3.2.3 and everytime I want to use devise," I need to add this to my setup method: @[""""] = [:user] any reason why this is happening?\''",,,,,,,,,,,,,,,,,,,,
devise,1895,closed,1,2012-06-07 00:51:05,423.97,,1,,"b""b' It is required so Devise knows which scope is accessing the app"," sincefunctional tests skip the router. Please remember to use the mailing listfor questions. ##  Sent from my iPhone'""",,,,,,,,,,,,,,,,,,,,
devise,1895,closed,closed,2012-06-07 08:09:15,438.17,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,1895,closed,2,2012-06-07 00:51:05,205.27,,1,,"b""b' Well this is mentionned nowhere in the documentation", I had to browse the web for 3 hours to finally figure out I had to do this.... The way it is explained in the doc mislead me to think that adding  Was the only needed step. This is why I opened this issue," since I believe it should be mentionned in the README'""",,,,,,,,,,,,,,,,,,,
devise,1895,closed,reopened,2012-06-07 11:23:52,194.62,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1895,closed,closed,2012-06-07 11:31:44,7.87,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,1895,closed,3,2012-06-07 00:51:05,280.1,,,1,"b""b' Thank you !'""",,,,,,,,,,,,,,,,,,,,,
devise,1895,closed,-,-,-,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,1898,closed,opened,2012-06-07 10:37:59,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1898,closed,title,2012-06-07 10:37:59,00:00,,1,,"b""b' Devise edit registration form'""",,,,,,,,,,,,,,,,,,,,,
devise,1898,closed,body,2012-06-07 10:37:59,00:00,1,,,"b'b"" A user can change only his password on devise registration form page in my applicaion. The problem is that When I am changing my password successfully message shown \'You updated your account successfully"," but we need to verify your new email address. Please check your email and click on the confirm link to finalize confirming your new email address. \' the above message should appear when I change my email address. Please let me know if more info is require.""'",,,,,,,,,,,,,,,,,,,,
devise,1898,closed,closed,2012-06-08 04:19:34,1061.58,1,1,0,,,,,,,,,,,,,,,,,,,,,,
devise,1898,closed,reopened,2012-06-08 04:39:56,20.37,1,1,0,,,,,,,,,,,,,,,,,,,,,,
devise,1898,closed,1,2012-06-07 10:37:59,684.08,1,,,b'b\' I\\\'m working on this issue.  This always happens for every user? Or just for a particular user? That flash message is used when the user has a pending reconfirmation. That is," when the attribute ""unconfirmed_email"" is present. Could you check this?\''",,,,,,,,,,,,,,,,,,,,
devise,1898,closed,2,2012-06-07 10:37:59,588.52,,1,,b'b\' yes. That flash message is used when the user has a pending reconfirmation. That is," when the attribute ""unconfirmed_email"" is present. It happens for every user.(for those ""unconfirmed_email"" is present. ) Thanks.\''",,,,,,,,,,,,,,,,,,,,
devise,1898,closed,closed,2012-07-23 14:15:41,575.75,2,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1898,closed,-,-,-,2,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,opened,2012-06-18 09:59:14,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,title,2012-06-18 09:59:14,00:00,,1,,"b""b' Omniauthable and Single Table Inheritance (STI)'""",,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,body,2012-06-18 09:59:14,00:00,,,1,"b""b' Hello", In my app I had two models with devise authentication: User and Admin. They both need Facebook login. So after reading in [the wiki]url I refactored my project to use STI, so now I have User and Admin inherits from User. My surprise came when after setting everything for Omniauth (following the wiki above) I got this error: I am not setting :omniauthable in more than one model, I just have :omniauthable in the parent User model. If I remove the Admin class everything works fine. So," is there any workaround for this? Perhaps the error and the wiki should be more specific on this?. Thanks in advance.'""",,,,,,,,,,,,,,,,,
devise,1927,closed,1,2012-06-18 09:59:14,0.82,,1,,"b""b' use the mailing list or stack overflow for questions'""",,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,closed,2012-06-18 10:00:03,0.82,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,reopened,2012-06-18 10:00:51,0.8,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,2,2012-06-18 09:59:14,1.78,1,,,"b'b"" Sorry", reading this better, it is actually a Devise error. The issue is that you are calling devise_for for different models containing  . Your best approach is to simply not use devise omniauthable and use omniauth on your own (it should not be a big issue," devise\'s :omniauthable is simply a thin wrapper around omniauth that generates a couple routes for you).""'",,,,,,,,,,,,,,,,,,
devise,1927,closed,closed,2012-06-18 10:03:43,2.87,1,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,3,2012-06-18 09:59:14,14.45,,,1,"b'b"" You\'re right. I had two devise_for in my  (legacy from my code previous refactoring and using STI). Removing the devise_for :admins"," fixes the issue. I\'ll keep using devise since I do want registration without FB. Thank you for your quick response.""'",,,,,,,,,,,,,,,,,,,,
devise,1927,closed,4,2012-06-18 09:59:14,44.75,,1,,"b""b' I mean"," you can continue using devise for everything. Just handle the omniauth part without devise (without including omniauthable but manually including omniauth middleware and so on).'""",,,,,,,,,,,,,,,,,,,,
devise,1927,closed,5,2012-06-18 09:59:14,302.92,,1,,"b""b' any work around of this problem yet ? how to handle the omniauth part without devise ? what things needed for it? route settings ?'""",,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,6,2012-06-18 09:59:14,305.35,,1,,"b'b"" Just don\'t include :omniauthable in Devise and follow the instructions on omniauth  about integrating with rails.""'",,,,,,,,,,,,,,,,,,,,,
devise,1927,closed,-,-,-,1,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2002,closed,opened,2012-08-01 01:59:26,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2002,closed,title,2012-08-01 01:59:26,00:00,,1,,"b""b' Translation missing'""",,,,,,,,,,,,,,,,,,,,,
devise,2002,closed,body,2012-08-01 01:59:26,00:00,,1,,"b""b' Hi guys"," Just wondering why there is no default translation for  using devise2.0.4'""",,,,,,,,,,,,,,,,,,,,
devise,2002,closed,1,2012-08-01 01:59:26,31.32,,,1,"b'b"" Hm", I don\'t think this is a devise error, can you be more specific about how it is happening? In any case, before we actually determine whether this is an issue or not," I\'ll have to ask you to send more info to the mailing list first. Thanks!""'",,,,,,,,,,,,,,,,,
devise,2002,closed,closed,2012-08-01 02:30:45,31.32,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2002,closed,2,2012-08-01 01:59:26,32.17,1,,,"b'b"" Hi @carlosantoniodasilva "," That is actually just a small part of a problem I\'m solving but I think it can give me a step on solving my problem. Here\'s how it\'s happening to me actually (It\'s a bit long but this is how I reproduce it): url (or this one might be a  more descriptive on how it\'s appearing)url ""'",,,,,,,,,,,,,,,,,,,,
devise,2002,closed,3,2012-08-01 01:59:26,203.0,1,,,"b""b' @alecguintu It seems to be an error in the communication with twitter. The session expired is not from Devise", but probably twitter sending you that message. Try to check what is in in your controller," for more information. Here is how devise omniauth callback controller looks like: url '""",,,,,,,,,,,,,,,,,,,
devise,2002,closed,4,2012-08-01 01:59:26,27.35,,,1,"b'b"" @josevalim Yes. I think it\'s communication between us and twitter\'s. But the part was looking for when it happens which the default  doesn\'t have. pardon but I\'m still using 2.0.4 [omniauth_callbacks_]url ""'",,,,,,,,,,,,,,,,,,,,,
devise,2002,closed,5,2012-08-01 01:59:26,9.18,1,,,"b'b"" Well", we cannot foresee all messages omniaauth is going to send us, although you have a point," we should at least have a default message so it doesn\'t explode on users face.""'",,,,,,,,,,,,,,,,,,
devise,2002,closed,reopened,2012-08-01 07:02:28,271.72,3,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,2002,closed,closed,2012-10-26 09:10:37,128.15,3,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,2002,closed,-,-,-,3,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,opened,2012-08-01 20:20:36,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,title,2012-08-01 20:20:36,00:00,,1,,"b'b"" Devise can\'t find mapping for custom omniauthcallbacks route""'",,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,body,2012-08-01 20:20:36,00:00,,1,,b'b\' In our system we have a devise_for definition in our  file for the OmniauthCallbacksController. It looks like this: In addition," we have a couple extra routes defined that are essentially aliases for the OmniauthCallbacksController: Our application is failing when we try to use one of the aliased routes with invalid parameters. It looks like this: RuntimeError (Could not find a valid mapping for path ""/"") Can anyone provide any guidance with this? It looks like the aliased routes DO work when it\\\'s a  attempt. Is there something that I need to do in my  file to get these aliases properly recognized in ?\''",,,,,,,,,,,,,,,,,,,,
devise,2004,closed,1,2012-08-01 20:20:36,735.17,,,1,"b""b' Can you provide the full backtrace and devise version. This is supposed to work just fine.'""",,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,2,2012-08-01 20:20:36,120.4,,,1,b'b\' @josevalim, thanks for taking a look! We are using devise 1.2.rc2. The trace is a bit convoluted since we have custom rack middleware but it\\\'s being raised by this method from : When I print out the ," I don\\\'t see anything that would have a fullpath with ""/"" or ""/"" in it. Any ideas?\''",,,,,,,,,,,,,,,,,,,
devise,2004,closed,3,2012-08-01 20:20:36,22.58,,1,,"b'b"" I was aware it was being raised by this method", who is calling this method may reveal important information (more specifically," it may contain controller and action). Can you please post the backtrace? Otherwise there isn\'t much I can do.""'",,,,,,,,,,,,,,,,,,,
devise,2004,closed,closed,2012-08-02 10:58:46,878.17,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,4,2012-08-01 20:20:36,16.88,,,1,"b'b"" I\'ll get a backtrack for you in a few hours. Thanks! On Aug 2",2012, at 3:58 AM," Jos\\xc3\\xa9 Valimreply@ wrote:""'",,,,,,,,,,,,,,,,,,
devise,2004,closed,5,2012-08-01 20:20:36,340.2,,,1,b'b\' @josevalim," I was able to get the backtrace. Here it is: RuntimeError: Could not find a valid mapping for path \\\\""/\\\\""/-1.2.rc2/:45:in  block in \\\' /-core-0.3.2/:227:in  fail!\\\' /-oauth-0.3.2/:70:in  callback_phase\\\' /-core-0.3.2/:68:in  call!\\\' /-core-0.3.2/:30:in \''",,,,,,,,,,,,,,,,,,,,
devise,2004,closed,6,2012-08-01 20:20:36,180.27,,1,,"b'b"" It seems to be a devise limitation. It is trying to find the devise mapping based on the path since on failure cases the router is skipped (so we can\'t get the information from  ). To fix this", I\'d recommend to set the on failure callback manually. Basically, copy this code: url  And paste to your application initializer changing the mapping line," to this: I think on a better solution for devise in the long term.""'",,,,,,,,,,,,,,,,,,
devise,2004,closed,reopened,2012-08-02 19:56:07,537.35,0,4,4,,,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,7,2012-08-01 20:20:36,2.88,,,1,"b'b"" Thanks! I\'ll try this. Do you suggest just adding this code in a new railsinitializer? On Thu", Aug 2, 2012 at 12:56 PM," Jos\\xc3\\xa9 Valim <reply@""'",,,,,,,,,,,,,,,,,,
devise,2004,closed,8,2012-08-01 20:20:36,6.83,,1,,"b""b' Yes.'""",,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,9,2012-08-01 20:20:36,14.98,,,1,"b""b' That fixed it. Thanks Jos\\xc3\\xa9 Valim! You rock! On Thu", Aug 2, 2012 at 1:05 PM," Jos\\xc3\\xa9 Valim <reply@'""",,,,,,,,,,,,,,,,,,
devise,2004,closed,closed,2012-09-13 12:17:43,981.6,0,5,6,,,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,10,2012-08-01 20:20:36,293.97,,1,,"b'b"" Hi @josevalim"," we\'re seeing this same problem happening now on spree_social (linked above). Do you still advise the same fix for this issue?""'",,,,,,,,,,,,,,,,,,,,
devise,2004,closed,11,2012-08-01 20:20:36,768.67,,1,,"b'b"" @radar are the routes defined inside a block? Because that\'s simply what the block does", if not, you can do it manually," yeah.""'",,,,,,,,,,,,,,,,,,
devise,2004,closed,12,2012-08-01 20:20:36,372.87,,1,,"b'b"" @josevalim They\'re defined like this: I will advise the user to go with the override"," then.""'",,,,,,,,,,,,,,,,,,,,
devise,2004,closed,13,2012-08-01 20:20:36,1377.93,,1,,"b'b"" @radar I get unknown method \'controllers\' when I implement that code in an initializer.""'",,,,,,,,,,,,,,,,,,,,,
devise,2004,closed,-,-,-,0,9,6,,,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,opened,2012-08-09 15:59:32,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,title,2012-08-09 15:59:32,00:00,1,,,"b""b' case_insensitive_keys does not work with Swedish letters'""",,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,body,2012-08-09 15:59:32,00:00,,,1,"b""b' Not sure if this is a Devise or maybe a Rails issue but someone more knowledgeable should be able to determine that. In my  initializer I have: which should stop me to be able to create a user with username if a user with username already exists but that works fine. Though if I try to create a user with username when exists that does not work as expected. I guess there is something going wrong when is downcased and compared with  . I also added for the in my user model to have [client_side_validations]url  to detect and warn if a user tries to register when exists. And that didnt solve the issue with \\xc3\\xa5 so thats why I guess it might be a Rails issue.'""",,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,1,2012-08-09 15:59:32,1217.95,,1,,"b""b' Yeah", this is tricky. I think however that Rails provides a downcase method that works properly with multibyte chars in the latin set," so we should probably start using it.'""",,,,,,,,,,,,,,,,,,,
devise,2015,closed,2,2012-08-09 15:59:32,159.62,,,1,"b'b"" Looked it up a bit and it seems Rails has very good support for this but for the downcase method to work it needs to operate on a multibyte str"," thus one should should convert the string with .mb_chars before comparing. To illustrate I wrote this little script: which outputs:\\xc2\\xb4\\xc2\\xb4\\xc2\\xb4rails runner -swe-charTesting to compare downcase \\xc3\\x85\\xc3\\x84\\xc3\\x96 with \\xc3\\xa5\\xc3\\xa4\\xc3\\xb6.Downcased multibyte str is equal to \'\\xc3\\xa5\\xc3\\xa4\\xc3\\xb6\'Just downcased str is NOT equal to \'\\xc3\\xa5\\xc3\\xa4\\xc3\\xb6\'  ""'",,,,,,,,,,,,,,,,,,,,
devise,2015,closed,3,2012-08-09 15:59:32,12.45,,,1,"b""b' Yup. And we can call mb_chars inside devise ourselves . :) ##  Sent from my iPhone'""",,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,4,2012-08-09 15:59:32,58.43,,1,,"b""b' Do not know rails nor devise well enough to know where to put that. Though I found this [article]url  which describes how to use the before_validation method to downcase certain attributes before validation. Only drawback is that the user cannot decide how  username is printed"," i.e. useRName would not be stored in the database since the attribute is automatically downcased.'""",,,,,,,,,,,,,,,,,,,,
devise,2015,closed,5,2012-08-09 15:59:32,1342.72,,,1,"b'b"" Found out it\'s neither Rails nor Devise problem but rather in the DB layer! I\'m using PostgreSQL and if one changes collation and character type on the db to sv_SE it works for both!""'",,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,closed,2012-08-14 14:30:42,1351.17,1,2,4,,,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,6,2012-08-09 15:59:32,4.2,,1,,"b'b"" Yeah", you shouldn\'t do that. Leave the collation as utf-8," otherwise you will have more headaches.""'",,,,,,,,,,,,,,,,,,,
devise,2015,closed,reopened,2012-08-14 14:34:56,4.23,1,3,4,,,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,7,2012-08-09 15:59:32,69.1,,1,,"b'b"" Now I\'m lost. I have to little knowledge of Rails and databases to judge where this should be solved but when I posted this as an issue with  I was told it is [an issue on the DB layer]url  thus below Rails. Though you say it\'s a Rails issue or a Devise issue... ""'",,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,8,2012-08-09 15:59:32,37.05,,1,,"b""b' Leave the database as utf-8. We need to fix devise to call instead of  . You can have a before validation callback and do it yourself until we push a devise fix.'""",,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,9,2012-08-09 15:59:32,9.77,,,1,"b""b' But how to solve \\xc2\\xb4client_sida_validations\\xc2\\xb4? The code there [seems to call the DB directly with a SQL query]url  The suggested solution there was to change the collation of the DB so the query returns correctly. If this is not the prefered solution I would very much appreciate some help in the argumentation because my insights are to limited!'""",,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,10,2012-08-09 15:59:32,17.68,,1,,"b'b"" He\'s correct. The search issue is a database one. The devise downcase issueis devise\'s fault. You can try to change the collation to fix the first",but I would do so only if you can keep the character set as utf-8 (unsureif you can do that on your database). Another approach is to always downcase on rails using  .You would use a before_validation to downcase all searchable fields andthen dowcase the query. Of course, some fields like name probably can\'t bedowncased," so maybe you will have to create a new filed calleddowncased_name to handle it.""'",,,,,,,,,,,,,,,,,,
devise,2015,closed,11,2012-08-09 15:59:32,8.47,,,1,"b'b"" I have not checked but I expect there is an after_validation filter too so my idea which I have not tried yet is to use a local variable to store the user input", downcase it for the validation and then use the after_validation filter to restore the user input before saving the object. But maybe this leads to issues I\'m not aware of.Another way to solve both issues is to do something similar to what you suggested, store the usernames always in two fields, one where correctly downcased version are stored, and one where the user input is stored and then do all validations etc against the downcased but when presenting the input," present the one with what the user put in. A bit of overhead but probably less risky. This might be the best solution since I host the app on Heroku and what I have found they have not made it possible yet to set the collation on a DB there.Thanks for all the help!""'",,,,,,,,,,,,,,,,
devise,2015,closed,closed,2012-10-26 09:31:58,1137.03,1,6,6,,,,,,,,,,,,,,,,,,,,,,
devise,2015,closed,-,-,-,1,6,6,,,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,opened,2012-09-04 05:17:06,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,title,2012-09-04 05:17:06,00:00,1,,,"b""b' Devise is ignoring a layout definiton in custom controllers?'""",,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,body,2012-09-04 05:17:06,00:00,1,,,"b'b"" Ruby 1.9.3", Rails 3.2.8, Devise 2.1.2. I made a custom controller for sessions mangement: Routes: It seems that devise is ignoring a layout definition inside the custom controller class and displays only the template for the view.It should be consider as a bug? I believe that devise should not make decisions for the developer, which layout to use. If I don\'t want to set a custom session layout in or  , like is described in the Wiki, but inside a custom controller, devise should respect that," am i right?""'",,,,,,,,,,,,,,
devise,2053,closed,1,2012-09-04 05:17:06,257.73,,,1,"b""b' It should"," so it seems to be a bug. Can you provide a sample application that reproduces the issue and push it to github? I will take a look asap. Thanks for the report.'""",,,,,,,,,,,,,,,,,,,,
devise,2053,closed,closed,2012-09-13 12:11:58,414.87,2,0,1,,,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,2,2012-09-04 05:17:06,806.5,,1,,"b'b"" Duplicated this issue. Not hard to reproduce"," I\'ve done so here:  url  Just boot it up and note that the application layout is being used (Different titles)""'",,,,,,,,,,,,,,,,,,,,
devise,2053,closed,reopened,2012-10-16 10:23:42,1331.73,2,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,3,2012-09-04 05:17:06,682.83,,1,,"b""b' @abepetrillo which URL are you visiting next? the login form?'""",,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,4,2012-09-04 05:17:06,485.32,,,1,"b'b"" @josevalim I\'ve added a test for this case and it works fine. I can make a PR with it if you want:  ""'",,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,5,2012-09-04 05:17:06,148.42,1,,,"b'b"" @nashby I applied your patch to master and all the tests passed. Then I thought about the fact that @galmido was using a custom route so I added that to the routes file. Using his style of routing caused a deprecation warning: So I switched to using  . Still passing. Regarding your repro", @abepetrillo, it did not exhibit any problems that I could see. I cloned your repo, updated to Rails 3.2.8, bundled, created a db, and fired it up. The sessions view (/) uses the application layout as expected because no layout is specified in your custom SessionsController. The new registration view (/) uses the sign_up layout as expected because it is explicitly set in your custom RegistrationsController. Still no repro on this issue. It\'s possible the original poster was just confused about the inheritance chain so just to be clear, this is what it looks like for a custom sessions controller (each controller inherits from the previous): ActionController::BaseApplicationControllerDevise::DeviseControllerDevise::SessionsControllerCustomSessionsController If you omit a layout in one of the more specific controllers," it\'s likely that one is set up the hierarchy somewhere. Devise does not set any layouts by itself.""'",,,,,,,,,,,,,
devise,2053,closed,6,2012-09-04 05:17:06,733.68,,,1,"b'b"" Closing as we can\'t reproduce. Thanks @nashby and @latortuga !""'",,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,closed,2012-10-26 09:11:35,1367.88,3,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,7,2012-09-04 05:17:06,9.25,,1,,"b'b"" My repo should have been cloned at a particular commit? I am on Devise 2.0 so maybe it\'s fixed on a later build of devise. It wouldn\'t work if you simply cloned my repo because I implemented a work around at a later stage.""'",,,,,,,,,,,,,,,,,,,,,
devise,2053,closed,8,2012-09-04 05:17:06,15.2,,,1,"b""b' @abepetrillo So please provide the proper information? We already had three different developers accessing your repository and trying it out. So you have to be more specific otherwise we will focus on the other issues. After all"," it works fine for us.'""",,,,,,,,,,,,,,,,,,,,
devise,2053,closed,9,2012-09-04 05:17:06,17.95,,1,,"b'b"" I\'ll create a steps to reproduce when I get time"," leave closed for now and I\'ll check it against Devise master""'",,,,,,,,,,,,,,,,,,,,
devise,2053,closed,10,2012-09-04 05:17:06,335.07,1,,,"b'b"" @abepetrillo I cloned your repo and noticed that the only difference between the commit you mentioned and master HEAD was a workaround for devise. I commented out your workaround and updated to Rails 3.2.8 because that\'s the version that was specified in the bug report. I clicked around to the various devise views and didn\'t see the behavior you were describing"," sorry.""'",,,,,,,,,,,,,,,,,,,,
devise,2053,closed,-,-,-,4,4,4,,,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,opened,2012-10-04 10:05:11,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,title,2012-10-04 10:05:11,00:00,,1,,"b""b' Non english characters on email templates cause escaping'""",,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,body,2012-10-04 10:05:11,00:00,,1,,b'b\' When using non english characters on the confirmation email," like ""Ol\\xc3\\xa1"" the email gets escaped and the token seems to get invalid.Someone posted this problem like a year ago: url Is solution is ok", but is there a way to prevent devise to escape the characters?\'',,,,,,,,,,,,,,,,,,,
devise,2086,closed,1,2012-10-04 10:05:11,317.9,1,,,"b'b"" This is weird and I have written templates in portuguese and I haven\'t seen it before. It makes me think it is not a Devise issue", but a Rails one. If you put those characters in any other template, not necessarily a Devise one," does the issue still happen?""'",,,,,,,,,,,,,,,,,,
devise,2086,closed,2,2012-10-04 10:05:11,438.72,,1,,"b'b"" Sorry", for the delay, I went on vacation :) I\'ve done the tutorial from rails casts 206 and sent emails with and without latin chars, in text and html without any escaping. With Devise If I write the word Ol\\xc3\\xa1, I get the email get\'s like this: url This must be something simple to solve," I just can\'t seem to find the issue :( Using Rails 3.2.8And Ruby 1.9.3p286 (2012-10-12 revision 37165) [x86_64-linux]on Heroku""'",,,,,,,,,,,,,,,,
devise,2086,closed,closed,2012-10-15 22:43:21,758.17,1,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,reopened,2012-10-15 22:43:25,0.07,1,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,3,2012-10-04 10:05:11,11.02,,1,,"b""b' What is the template name? Can you provide an app that reproduces the error? ##  *Jos\\xc3\\xa9 Valim Founder and Lead Developer*'""",,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,4,2012-10-04 10:05:11,765.05,,,1,"b""b' The templates are:confirmation_reset_password_unlock_ When I get home I will try to do an app with the problem. Thanks :)'""",,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,5,2012-10-04 10:05:11,539.48,,,1,b'b\' Here it is a simple test:url  As you can see in with the last commit," just adding ""Ol\\xc3\\xa1"" breaks the email by sending the url escaped like so: url  Without the Ol\\xc3\\xa1", everything looks fine:url  What do you think? Thanks for looking at this Jos\\xc3\\xa9 :)\'',,,,,,,,,,,,,,,,,,,
devise,2086,closed,6,2012-10-04 10:05:11,87.18,,,1,"b""b' Hey @victormartins", before I give it a shot," would you mind adding a mailer template to the same app but without using Devise that works just fine as you said previously? Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,2086,closed,7,2012-10-04 10:05:11,872.72,,,1,b'b\' Hello,  Well now I\\\'m completed lost, this really seems a rails configuration issue.I\\\'ve added the mailer  on a different computer, and in this example the email sent with my mailer template gets like this:url  I\\\'ve noticed that now those templates have: Content-Transfer-Encoding: base64 While Devise gets:Content-Transfer-Encoding: quoted-printable I don\\\'t know what I did different at home to send the email email with the latim characters," because in both situations I just followed Ryan Bates tutorial. If you want to give it a try do rake db:seed and enter withuser@999999 Then on the top of the page click "" Say Hello"" and in the console you will see the mailer sending the email.\''",,,,,,,,,,,,,,,,,
devise,2086,closed,8,2012-10-04 10:05:11,8.55,,1,,"b""b' How do they look like when you access them in your gmail?The same? Or the characters are gone too?'""",,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,9,2012-10-04 10:05:11,28.05,,1,,"b""b' Brrr shame on me :-1:  .... just tested it on my heroku app and on gmail it looks fine.I think that at the time I was trying to copy paste the confirmation urls from the console while testing and they sudently broke after changing the probably worked on a real email reader all along. Sorry for wasting your time :('""",,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,closed,2012-10-17 13:14:06,870.68,1,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,2086,closed,-,-,-,1,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,opened,2012-11-21 10:56:03,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,title,2012-11-21 10:56:03,00:00,,1,,"b""b' Just to test Jose vs OSS'""",,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,1,2012-11-21 10:56:03,0.08,,1,,"b""b' Can you please provide a sample application that reproduces the error?'""",,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,2,2012-11-21 10:56:03,0.08,,,1,"b'b"" The wiki is maintained by the community. So if there aren\'t any up to date instructions"," we recommend you to explore the solution yourself and hopefully contribute your findings back!""'",,,,,,,,,,,,,,,,,,,,
devise,2152,closed,closed,2012-11-21 10:56:13,0.17,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,3,2012-11-21 10:56:03,0.15,,1,,"b""b' Please use the mailing list or StackOverflow for questions'""",,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,reopened,2012-11-21 10:56:22,0.15,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,4,2012-11-21 10:56:03,0.2,,,1,"b""b' You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2152,closed,closed,2012-11-21 10:56:34,0.2,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,5,2012-11-21 10:56:03,0.15,,1,,"b""b' :shipit:'""",,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,6,2012-11-21 10:56:03,0.22,,1,,"b""b' :heart: :green_heart: :blue_heart: :yellow_heart: :purple_heart:'""",,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,7,2012-11-21 10:56:03,1.42,,1,,"b""b' Yay for url '""",,,,,,,,,,,,,,,,,,,,,
devise,2152,closed,-,-,-,0,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,2155,closed,opened,2012-11-22 05:21:13,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2155,closed,title,2012-11-22 05:21:13,00:00,,1,,"b""b' problem in token authentication with devise'""",,,,,,,,,,,,,,,,,,,,,
devise,2155,closed,body,2012-11-22 05:21:13,00:00,,1,,"b'b\' I have devise for authentication and the following are the steps i did and token authentication not working added devise to gem filerails generate devise:installrails generate devise Userrake db:migraterails generate devise:viewsrails generate controller home indexand upto this there is no problem and then i added devise:token_authenticatable to user model and then i added before_save :ensure_authentication_token and then rails generate migration AddTokenAuthenticatableToUser authentication_token:stringthen added attr_accessible :authentication_token to the user model but curl -H \\\'Content-Type: \\\' -H \\\'Accept: \\\' -X POST url -d ""{\\\'user\\\' : { \\\'email\\\' : \\\'sample@\\\'"," \\\'password\\\' : \\\'password\\\'}}""is not working. It displays error in terminal. pls tell me what should i do to get the token of user\''",,,,,,,,,,,,,,,,,,,,
devise,2155,closed,closed,2012-11-22 08:25:39,184.43,0,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,2155,closed,1,2012-11-22 05:21:13,184.7,,,1,"b""b' You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2155,closed,reopened,2012-11-22 08:25:55,0.27,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2155,closed,closed,2012-11-22 08:25:58,0.05,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2155,closed,2,2012-11-22 05:21:13,63.48,,1,,"b'b\' I am using devise for authentication and i want the user from iphone app to send the email id and password to the app and get the auth token as response and process the subsequent request with the auth token. I have added token_authenticatable to the user model and added auth_token field and added to attr_accessible and when i send the  request  as curl -H \\\'Content-Type: \\\' -H \\\'Accept: \\\' -X POST url  -d ""{\\\'user\\\' : { \\\'email\\\' : \\\'sample@\\\'"," \\\'password\\\' : \\\'password\\\'}}"" it does not give the authentication token as response but instead i see error. What can i do to get the auth token as response. I tried devise example from url  and it worked but why could not i make it? Please tell me what i need to do.\''",,,,,,,,,,,,,,,,,,,,
devise,2155,closed,-,-,-,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,opened,2013-01-04 22:51:31,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,title,2013-01-04 22:51:31,00:00,,,1,"b""b' authenticate_user! ignores routes'""",,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,body,2013-01-04 22:51:31,00:00,,,1,b'b\' I am using a model with the name \\\'admin\\\' and in the controllers I add this line to the top: before_filter :authenticate_admin!," :except =In routes I added the following: devise_scope :admin do  get ""/login"" =  get ""/logout"" =  end Devise redirects me to the address: url  Hence", it breaks all links in the page, which are trying to reach an \\\'admins\\\' controller.\'',,,,,,,,,,,,,,,,,,
devise,2199,closed,1,2013-01-04 22:51:31,1084.17,,1,,"b""b' Can you please provide a sample application that reproduces the error?'""",,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,closed,2013-01-08 20:22:59,1291.47,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,2,2013-01-04 22:51:31,1007.07,,,1,b'b\' Hello, forget about the last phrase in my previous post. But the redirection is still the same. Well," it is simple... $ rails new blog$ cd blog/$ subl Gemfile # Insert devise gem in Gemfile$ rails g scaffold Post title:string body:text$ bundle$ rails generate devise Admin$ rake db:migrate$ rm ./$ subl ./ Insert this: devise_scope :admin doget ""/login"" =get ""/logout"" =end Adding this to controllers: before_filter :authenticate_admin!", :except =Now, insert an user, login, post something there, logout and try to access the url  to be prompted for password. It works," but I would rather get it redirected to ""login"" than ""sessions_new"". Is there any option to get the value I defined in the routes file?\''",,,,,,,,,,,,,
devise,2199,closed,3,2013-01-04 22:51:31,59.13,,1,,"b""b' What do you mean about redirecting to  ? What is  ?'""",,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,reopened,2013-01-09 10:41:53,858.9,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,4,2013-01-04 22:51:31,307.7,,1,,"b""b' From the [wiki]url  '""",,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,closed,2013-01-11 18:21:38,459.75,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,2199,closed,-,-,-,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,opened,2013-01-09 09:19:11,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,title,2013-01-09 09:19:11,00:00,,1,,"b""b' After upgrade to 2.2.0"," NoMethodError: undefined method '""",,,,,,,,,,,,,,,,,,,,
devise,2204,closed,body,2013-01-09 09:19:11,00:00,,1,,"b""b' I am using the authentication_keys in my model which does not have email field. the error is thrown when I create an instance. stacktrace: the error should be because the line :163 so", to make it working in the latest version 2.2.0," I have to clear out  is it expected behavior ?should we include it in the wiki or upgrade notes ?'""",,,,,,,,,,,,,,,,,,,
devise,2204,closed,1,2013-01-09 09:19:11,117.68,,,1,"b""b' No", this is a bug," thanks for reporting! And you likely do not want to clear your case_insensitive_keys. Could you please provide an application that reproduces the error? (ours are working fine).'""",,,,,,,,,,,,,,,,,,,
devise,2204,closed,2,2013-01-09 09:19:11,215.58,,1,,"b'b"" I think I\'m experiencing this bug too. It\'s in an app with two separate user models that have different authentication_keys. Previously I had the following in  commented out the config in ""'",,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,3,2013-01-09 09:19:11,22.7,,,1,"b""b' I believe this is a regression from #2135"," thanks to usage of  .  '""",,,,,,,,,,,,,,,,,,,,
devise,2204,closed,4,2013-01-09 09:19:11,23.4,,1,,"b'b"" @lucasmazza author of #2135 here", I actually had a check with before calling send in there before. Would you like me to put it back? I actually think it makes sense that it blows up: why would you configure globally that you want email to be case-insensitive if you only want it for one model? However," that view may be at odds with how you guys want it to work. I\'m happy to submit a PR with a fix.""'",,,,,,,,,,,,,,,,,,,
devise,2204,closed,5,2013-01-09 09:19:11,9.72,,1,,"b'b"" @latortuga when I found this issue I did start to question why my config was setup up this way. I think it makes more sense to be defined on a per-model basis as you say (I\'d already set the authentication_keys per-model). As it just happened to work (and it\'s not always obvious how to deal with multiple models in devise) I didn\'t question it at the time as I assumed having the keys set on each model would mean only the relevant keys get checked. I think this was an incorrect assumption on my part.""'",,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,6,2013-01-09 09:19:11,11.08,,1,,"b'b"" @latortuga I agree with @jamesalmond  I thought it was something wrong because it wasn\'t working after upgrade.but actually it was the way that I customized the authentication_keys per model. so", now the question is ... how do we want coder to customize per model authentication keys ? choice 1:devise take authentication_keys as a more reliable list of fields.and then everytime devise do things with keys," it should cross check with the list of authentication_keys of that model choice 2:let coders handle all the key list carefully.and we have a more formal wiki article teaching coders to do it right. ?""'",,,,,,,,,,,,,,,,,,,
devise,2204,closed,7,2013-01-09 09:19:11,9.17,,1,,"b'b"" Besides the discussion if the configuration should be done globally or not", I think we first need to fix this and retain the expected default behavior of Devise," so upgrades from 2.1.x to 2.2.x won\'t blow things up. So @latortuga please send a PR fixing this :heart:.""'",,,,,,,,,,,,,,,,,,,
devise,2204,closed,8,2013-01-09 09:19:11,65.78,,1,,"b""b' The fact it worked previously was an accident. That I oversaw. Sorry everyone. @lucasmazza is correct", we should fix this regardless. @latortuga, I would appreciate if you could send a fix, if not," let me know and I will get around it. Thanks everyone! '""",,,,,,,,,,,,,,,,,
devise,2204,closed,9,2013-01-09 09:19:11,24.78,,1,,"b'b"" @josevalim I\'ve got a fix written with a failing test. Will submit it shortly.""'",,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,closed,2013-01-09 17:52:17,513.1,0,9,2,,,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,10,2013-01-09 09:19:11,14.22,,,1,"b""b' Guys"," a fix was merged to master. Can you please give it a quick go and let me know if it works? Thanks a ton @latortuga !!!'""",,,,,,,,,,,,,,,,,,,,
devise,2204,closed,reopened,2013-01-09 17:53:18,1.02,0,9,3,,,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,11,2013-01-09 09:19:11,789.3,,,1,"b""b' Ping. Can anyone confirm that it worked? Should I release 2.2.1? Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,12,2013-01-09 09:19:11,30.7,,,1,"b""b' Working fine now with master branch. I have tested in my environment.Thanks guys !'""",,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,13,2013-01-09 09:19:11,469.7,,,1,"b""b' I was hit by this"," now it works. Ship it! :+1: '""",,,,,,,,,,,,,,,,,,,,
devise,2204,closed,closed,2013-01-11 18:19:46,26.47,0,9,6,,,,,,,,,,,,,,,,,,,,,,
devise,2204,closed,-,-,-,0,9,6,,,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,opened,2013-01-10 05:00:29,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,title,2013-01-10 05:00:29,00:00,,1,,"b""b' Allow controller to pass params to reset password email'""",,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,body,2013-01-10 05:00:29,00:00,,1,,"b'b"" These changes allow the password controller to pass parameters to the reset password email via the optional mailer arguments added in devise 2.2.0. Unfortunately this means you shouldn\'t really call on the class method", because that method already takes a hash of arguments used to find the resource. I could have used an optional key in that hash, the same way rails allows for a key in hash options for things like etc, but I thought this was a better option. Happy to discuss any alternative ideas people might have. Also, I only implemented controller parameters for the passwords controller, but the framework is there for confirmable and lockable as well. I just wasn\'t as familiar with those controllers as I don\'t use them," so I didn\'t fell 100% comfortable in changing them.""'",,,,,,,,,,,,,,,
devise,2207,closed,1,2013-01-10 05:00:29,797.98,,,1,"b""b' Thanks for the PR. One small note:It could simply accept a second argument with the delivery options. That would be my preferred approach.'""",,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,2,2013-01-10 05:00:29,323.28,,,1,"b'b"" Thanks Jose. I will do it that way and see how it looks. Generally people don\'t like methods that take 2 lots of hashes.""'",,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,3,2013-01-10 05:00:29,606.58,,,1,"b""b' Branch has been updated @josevalim "," thank you for your comments.'""",,,,,,,,,,,,,,,,,,,,
devise,2207,closed,4,2013-01-10 05:00:29,559.07,,1,,"b""b' I currently have an open stackoverflow question on this exact issue. Is there a particular version of the gem that this feature is included in? It looks pretty straight forward but any documentation I can view or contribute?'""",,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,5,2013-01-10 05:00:29,2.3,,1,,"b""b' This feature has not been merged yet"," so the best you can do is to depend on @tigris fork.'""",,,,,,,,,,,,,,,,,,,,
devise,2207,closed,closed,2013-02-12 19:10:00,849.52,0,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,reopened,2013-02-12 19:10:03,0.05,0,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,6,2013-01-10 05:00:29,286.12,,,1,"b'b"" Ok perfect. Thanks @tigris and @josevalim; I\'ve done just that and it seems to be working as expected. Let me know if there\'s anything I can do to help this along.""'",,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,7,2013-01-10 05:00:29,327.15,,1,,"b'b"" I merged this pull request locally and I tried adding similar feature to confirmable. However", since the confirmable is sending on creation, we can\'t pass the parameters to the mailer using the current structure. That said," I am dropping this approach for now because I couldn\'t find a way to make it work consistently across the request. Maybe the best option is to store the request information on a thread local variable.""'",,,,,,,,,,,,,,,,,,
devise,2207,closed,closed,2013-04-14 05:22:58,612.92,0,5,4,,,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,8,2013-01-10 05:00:29,0.33,,,1,"b""b' Regardless"," thanks for the pull request @tigris !'""",,,,,,,,,,,,,,,,,,,,
devise,2207,closed,9,2013-01-10 05:00:29,1111.13,,1,,"b'b"" Hey @josevalim", is there any movement on this? I was considering making my own pull request with this feature until I saw this one. I think this would be a useful feature if we could somehow introduce it. In the meantime," I\'m going to be doing a bit of a kludge in my own codebase to get it working.""'",,,,,,,,,,,,,,,,,,,
devise,2207,closed,10,2013-01-10 05:00:29,1154.3,,1,,"b""b' FWIW", I implemented this on my project by storing the params in a thread local variable. Using the gem I have a in my setting the appropriate variables, in then in I can pull them out as needed. The issue of course is if you ever want to call methods manually from a console or cron or something, and rely on any params from then you are going to need to account for that with some defaults, or allow them to be passed in. I left my branch around cos I knew it worked and hoped would find a way to make it happen," but I needed upgraded features from newer devise so that is why I went with the solution above rather than my own branch.'""",,,,,,,,,,,,,,,,
devise,2207,closed,11,2013-01-10 05:00:29,1208.13,1,,,"b'b"" @tigris We\'re using your branch at the moment but I cloned a copy just in case. Thanks for your work I\'m sad this didn\'t make it into master.""'",,,,,,,,,,,,,,,,,,,,,
devise,2207,closed,-,-,-,1,7,5,,,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,opened,2013-01-11 03:24:55,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,title,2013-01-11 03:24:55,00:00,,1,,"b""b' Routes broken when using Devise with JRuby'""",,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,body,2013-01-11 03:24:55,00:00,,,1,"b'b\' I\\\'m using the latest versions of  but they are breaking routing. All routes end up being broken with this error: ActionController::RoutingError (No route matches [GET] ""/""): I\\\'ve created a fresh rails project with jruby", everything works fine but if I add the devise gem to the Gemfile, routing breaks on a couple of different java containers I tested. If I then remove the devise gem, the war works fine. What can I try debug this? All else being equal, simply adding the gem \\\'devise\\\' to my Gemfile breaks routing under the  environment.\'',,,,,,,,,,,,,,,,,
devise,2208,closed,1,2013-01-11 03:24:55,892.5,,1,,"b""b' For curiosity"," does using jruby without warbler cause the issue as well?'""",,,,,,,,,,,,,,,,,,,,
devise,2208,closed,2,2013-01-11 03:24:55,729.88,,1,,"b""b' Looks like this is only happening when Warble is configured with: = %w(compiled) If I remove that"," everything works as expected.'""",,,,,,,,,,,,,,,,,,,,
devise,2208,closed,closed,2013-01-15 06:27:18,182.38,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,3,2013-01-11 03:24:55,1093.65,,,1,"b'b"" Can this issue be reopened as it affects me? I\'ve tracked this down to  url  If I remove this line"," then my routes work fine and all the Devise tests still pass.""'",,,,,,,,,,,,,,,,,,,,
devise,2208,closed,reopened,2013-02-17 00:51:01,1103.72,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,4,2013-01-11 03:24:55,10.2,,1,,"b""b' Can you provide an application that reproduces the issue?'""",,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,5,2013-01-11 03:24:55,21.67,,1,,"b""b' url '""",,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,6,2013-01-11 03:24:55,683.48,1,,,"b'b"" Hrm", if we remove the line above, the application then doesn\'t work in production. But with the line above," it fails for warble. I am unable to figure it out why it happens and why warble is not behaving as any other production application. :(""'",,,,,,,,,,,,,,,,,,
devise,2208,closed,closed,2013-07-09 06:58:00,366.98,1,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2208,closed,-,-,-,1,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2210,closed,opened,2013-01-11 20:24:31,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2210,closed,title,2013-01-11 20:24:31,00:00,,1,,"b""b' Changed link_to to button_to for cancel registration link in edit registration view'""",,,,,,,,,,,,,,,,,,,,,
devise,2210,closed,body,2013-01-11 20:24:31,00:00,1,,,"b""b' It is advisable to use link_to for mostly GET operations. Actions like DESTROY when presented as a link can cause severe vulnerabilities.Hence using a button is advisable.'""",,,,,,,,,,,,,,,,,,,,,
devise,2210,closed,1,2013-01-11 20:24:31,90.93,,1,,"b""b' Sorry"," but the fact is a button or a link is just a matter of style since the required http method is DELETE in both cases. Changing from link_to to button_to does not make it any more or less vulnerable. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2210,closed,closed,2013-01-11 21:55:27,90.93,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,2210,closed,2,2013-01-11 20:24:31,21.47,,1,,b'b\' Jos\\xc3\\xa9, I respectfully disagree.  One of the values of Rails," and Rails add-ons like ""devise"" is to represent ""best practices"" as part of the ""opinionated software"".  Of course","best practices"" change over time, but current best practice is to represent links as ""going"" somewhere, and buttons as ""doing"" something (like a delete). The ""link_to"" helper formats a URL suitable for a web-link -for ""going"" somewhere. The ""button_to"" helper formats a URL suitable for a button -for ""doing"" something. Using ""link_to"" for DELETE operations is not best practice, represents the wrong ""opinion", and making it so for the sake of uniformity is bad software design.  The average developer, perhaps not being informed as to best practices, would be lead to the natural conclusion that a Delete function simply ought to be another link," because the ""link_to"" is the method used in the prototype template that was being changed. Actually"," the ""link_to"" helper cannot be used for best practice on delete operations", ie., to create a button.  The developer must use their own code to create a button, to conform to best practices. In my opinion, even though this suggested change is only to a prototype template," it really ought to have a ""good opinion"" and represent best practices. Please see this snippet: url Thanks ##  Alan Stebbens aks@ On Friday", January 11, 2013 at 1:55 PM, Jos\\xc3\\xa9 Valim wrote:\'',,,,,
devise,2210,closed,3,2013-01-11 20:24:31,7.82,,,1,b'b\' @aks No," we don\\\'t disagree. :) The given reason in this ticket is due to ""severe vulnerabilities"". You pointed out a different argument which I agree with. I am reopening the pull request given your arguments. Thanks!\''",,,,,,,,,,,,,,,,,,,,
devise,2210,closed,reopened,2013-01-11 22:24:48,29.35,1,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2210,closed,4,2013-01-11 20:24:31,1.02,,,1,b'b\' Well," I actually said a ""matter of style""", so I stand corrected. :) Merged.\'',,,,,,,,,,,,,,,,,,,
devise,2210,closed,closed,2013-01-11 22:25:56,1.13,1,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2210,closed,-,-,-,1,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,opened,2013-01-24 18:01:21,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,title,2013-01-24 18:01:21,00:00,,1,,"b""b' Omniauth shared link is not found'""",,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,body,2013-01-24 18:01:21,00:00,,1,,"b""b' I am working on an omniauth-social_stream gem. After installing it", if I follow the link from  , which is  , I get: Not found. Authentication passthru. However," works OK. These are the routes:  user_omniauth_authorize    //:provider(.:format)  omniauth_callbacks#passthru {:provider=>/linkedin|facebook|social_stream/}  user_omniauth_callback    //:(.:format)  omniauth_callbacks#(?-mix:linkedin|facebook|social_stream)'""",,,,,,,,,,,,,,,,,
devise,2239,closed,1,2013-01-24 18:01:21,3.57,,,1,"b""b' You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2239,closed,closed,2013-01-24 18:04:55,3.57,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,2,2013-01-24 18:01:21,67.1,,1,,b'b\' url  Please clone the application and run the server. In /," the Devise generated link ""Sign in with Social Stream"" is broken\''",,,,,,,,,,,,,,,,,,,,
devise,2239,closed,reopened,2013-01-24 19:22:44,77.82,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,3,2013-01-24 18:01:21,142.35,,1,,"b'b"" @atd not sure why did you have to remove that line in this [commit]url  but with it everything works. Anyway I think there are some problems with your gem\'s naming. Please follow all instructions described [here]url ""'",,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,4,2013-01-24 18:01:21,664.43,1,,,"b'b"" Hi @nashby  The problem with that commit is that it is not compatible with SocialStream gem. When Rails initializes the application and loads the middleware", it tries to instantiate the SocialStream module, instead of Omniauth::Strategy::SocialStream I doubt that changing the underscore for slashes will work. Anyway I believe there is a defect in Devise. It is generating a broken link. I believe Devise should be robust enough to handle this," don\'t you think so?""'",,,,,,,,,,,,,,,,,,
devise,2239,closed,5,2013-01-24 18:01:21,41.52,,1,,"b'b"" I am trying to understand what is going on but I don\'t get the black magic hidden here. raises  ", as expected returns 404 from  with   works," but there are not logs about what is happening. Maybe in the middleware?""'",,,,,,,,,,,,,,,,,,,
devise,2239,closed,6,2013-01-24 18:01:21,388.23,1,,,b'b\' Well you\\\'ve pulled the gem code now so it\\\'s hard to say what\\\'s wrong. Given that there\\\'s a wealth of other omniauth strategies available on Github," you\\\'d do better just looking at other example code than asking devise for help. Devise does not generate ""defective"" links for any other omniauth provider.\''",,,,,,,,,,,,,,,,,,,,
devise,2239,closed,7,2013-01-24 18:01:21,42.48,,,1,"b""b' I finally renamed the gem. I do not have more time available to spend on this. Thank you.'""",,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,closed,2013-01-25 16:31:03,1268.32,2,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2239,closed,-,-,-,2,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,opened,2013-02-25 21:40:56,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,title,2013-02-25 21:40:56,00:00,1,,,"b'b\' ""You are already signed in"" message when using #new as root page\''",,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,body,2013-02-25 21:40:56,00:00,,1,,b'b\' devise (2.2.3)warden (1.2.1)rails (3.2.11) STEPS TO REPRODUCE:Set up in  the same route twice. One to use for authenticated users and one otherwise, like this: CURRENT BEHAVIOUR:When calling the app unauthenticated, the sign in page is shown (this is good). Then after signing in successfully, the other route is chosen and the correct page is shown (this is good, too). However," a flash message ""You are already signed in"" after signing in appears. EXPECTED BEHAVOUR:No message ""You are already signed in"" should appear directly after signing in.\''",,,,,,,,,,,,,,,,
devise,2304,closed,1,2013-02-25 21:40:56,7.22,,,1,"b""b' You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2304,closed,closed,2013-02-25 21:48:09,7.22,1,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,2,2013-02-25 21:40:56,14.2,,1,,"b""b' Ok"," added further details. Can I reopen this issue somehow?'""",,,,,,,,,,,,,,,,,,,,
devise,2304,closed,reopened,2013-02-25 22:10:08,21.98,1,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,3,2013-02-25 21:40:56,916.3,,1,,"b""b' I think I fixed it in pull request #2314. Apparently it was a wrong == statement. Please could someone double check?'""",,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,4,2013-02-25 21:40:56,368.4,,,1,"b""b' This is happening because you are redirecting to the sign in page after sign in. Just customize after_sign_in_path_for and you shuold be good.'""",,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,closed,2013-04-01 19:27:03,1276.92,1,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2304,closed,-,-,-,1,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,opened,2013-04-24 10:54:54,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,title,2013-04-24 10:54:54,00:00,,1,,"b""b' changing oauth passthru route does nothing'""",,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,body,2013-04-24 10:54:54,00:00,1,,,"b""b' I am trying to setup a redirect_back when signing in w/ omniauth. Therefore", I tried to overwrite with This does not get triggered, through my routes seem to be correct: I tried renaming the method to and adding the following lines to   Which still results in Appending has no effect either. Now I am confused because according to the wiki and SO," this is how it should work. Am I missing . ( again ;) )?'""",,,,,,,,,,,,,,,,,,
devise,2386,closed,1,2013-04-24 10:54:54,99.95,,1,,"b'b"" I don\'t see getting called at all. Is it possible that omniauth workflow changed", and they don\'t rely on 404 anymore? If so," it seems save to remove  .""'",,,,,,,,,,,,,,,,,,,
devise,2386,closed,2,2013-04-24 10:54:54,122.83,1,,,"b""b' I am not sure"," sorry. Could you please investigate and let us know? :)'""",,,,,,,,,,,,,,,,,,,,
devise,2386,closed,3,2013-04-24 10:54:54,250.02,,,1,"b""b' Any news? :) Let us know if you find anything or if we can help further!'""",,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,4,2013-04-24 10:54:54,1171.78,,,1,"b'b"" I digged into it a bit and I think that it doesn\'t evaluate the response of the underlying app", but handles login based on the path that is called (see [call! in ]url  However, I rewinded a couple of month and didn\'t find any trace back then either. So maybe I am looking at the wrong place. Since I lack time to dig deeper," I\'ll open an issue at omniauth. Guess they\'ll know best.""'",,,,,,,,,,,,,,,,,,
devise,2386,closed,5,2013-04-24 10:54:54,1431.7,,,1,"b""b' Ok", thanks @rweng ! We are closing this for now, if you have more info," please let us know!'""",,,,,,,,,,,,,,,,,,
devise,2386,closed,closed,2013-05-07 14:11:11,196.28,2,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,6,2013-04-24 10:54:54,1091.0,,1,,"b""b' Alright"," seems like this calling throu was once part of omni-auth but is gone for quite some time now: url  I suggest deprecating or removing the passthrou method from code and wiki.'""",,,,,,,,,,,,,,,,,,,,
devise,2386,closed,reopened,2013-05-08 15:19:23,68.2,2,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,7,2013-04-24 10:54:54,417.82,,,1,"b""b' @rweng Thanks! Could you please update the wiki? We will remove it from the code after the next batch of releases. :)'""",,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,8,2013-04-24 10:54:54,58.97,,1,,"b""b' [done]url '""",,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,9,2013-04-24 10:54:54,15.83,,1,,"b""b'  :heart: :green_heart: :blue_heart: :yellow_heart: :purple_heart:'""",,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,closed,2013-07-09 06:57:00,937.62,2,5,4,,,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,10,2013-04-24 10:54:54,770.35,,1,,"b'b\' So just FYI I\\\'m using devise 4.3 and I have this ""omniauth_callbacks#passthru"" in my routes so I\\\'m guessing it\\\'s still here. \''",,,,,,,,,,,,,,,,,,,,,
devise,2386,closed,-,-,-,2,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,opened,2013-04-25 19:20:42,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,title,2013-04-25 19:20:42,00:00,,1,,"b""b' ActiveAdmin Redirects to Root URL on Login'""",,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,body,2013-04-25 19:20:42,00:00,,,1,"b'b"" I am using this in my application_ as suggested in one of the knowledgebase articles for devise to send the user upon login back to the page they were at so they can continue. However this has unexpected consequences when using ActiveAdmin and trying to login through the / url. I have added the condition to ignore the /admin path but it still seems to redirect to the root url. However the condition to ignore the admin path did fix a too many redirects issue I was having before. Here is the code in my application_ file: after_filter :store_location def store_location  # store last url as long as it isn\'t a /users or /admin path  session[:previous_url] =  unless  =~ /\\\\/users/ ||  =~ /\\\\/admin/  end def after_sign_in_path_for(resource)  session[:previous_url] || root_path  end def after_update_path_for(resource)  session[:previous_url] || root_path  end Any help or guidance on this is much appreciated :)""'",,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,1,2013-04-25 19:20:42,107.73,,1,,"b""b' session[:previous_url] =  unless  =~ /\\\\/users/ ||  =~ /\\\\/admin/ ||  =~ /\\\\/admin\\\\/login/ This seemed to fix it.'""",,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,closed,2013-04-25 21:08:26,107.73,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,reopened,2013-04-25 21:18:56,10.5,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,2,2013-04-25 19:20:42,10.7,,1,,"b'b"" Ok nevermind that didn\'t seem to change anything.""'",,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,closed,2013-04-25 21:19:08,0.2,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,reopened,2013-04-25 21:19:09,0.02,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,3,2013-04-25 19:20:42,454.13,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,2389,closed,closed,2013-04-26 04:53:16,454.12,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,2389,closed,-,-,-,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,opened,2013-05-07 22:03:36,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,title,2013-05-07 22:03:36,00:00,,1,,"b'b"" rspec feature test won\'t log in""'",,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,body,2013-05-07 22:03:36,00:00,,1,,"b'b"" Hi", I\'m using 3.0.0.rc," logging in works in development mode.  When I try to login using capybara in a feature rspec test it won\'t log me in I just get  anyone else having these issues?""'",,,,,,,,,,,,,,,,,,,
devise,2408,closed,1,2013-05-07 22:03:36,5.5,,1,,"b""b' Can you please try the following:  '""",,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,2,2013-05-07 22:03:36,193.4,,,1,"b'b"" @josevalim thank you for your response.  I added that and I no longer get the error"," but it still isn\'t logging in.  It\'s not even hitting ....  I\'m using rails 4 rc1""'",,,,,,,,,,,,,,,,,,,,
devise,2408,closed,3,2013-05-07 22:03:36,114.9,,1,,"b""b' Can you push a sample app that reproduces the issue? It would help us a lot to get it fixed. :)'""",,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,4,2013-05-07 22:03:36,725.15,,,1,"b""b' I have tried quickly to reproduce this issue and everything worked out fine. Please do send a sample app so we can investigate it further!'""",,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,closed,2013-05-09 15:22:33,1038.95,0,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,5,2013-05-07 22:03:36,1188.33,,1,,"b""b' Hi Jose", I hit the same problem with 4.0.0.rc2. My app, in its initial stages, is here: url Can you please take a look," to see if something basic is wrong? I have committed the failing spec as is.'""",,,,,,,,,,,,,,,,,
devise,2408,closed,reopened,2013-06-18 11:12:38,1190.08,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,6,2013-05-07 22:03:36,1203.42,,1,,"b'b"" @subhashb I took at look at your app but I haven\'t seen the error pointed above. Just one test failed saying that can\'t sign in but that is happening because the user table is empty. What am I missing?""'",,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,closed,2013-06-19 07:14:18,1201.67,0,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,2408,closed,7,2013-05-07 22:03:36,65.12,1,,,"b'b"" @josevalim Please don\'t kill me for this... Creating a user before the feature spec run simply solved the issue. I got waylaid because I saw Unpermitted parameters in the . You can see the snippet here: url  Apologies for the goose hunt"," again.""'",,,,,,,,,,,,,,,,,,,,
devise,2408,closed,8,2013-05-07 22:03:36,69.32,,,1,"b'b"" Hahaha", don\'t worry," it happens! :)""'",,,,,,,,,,,,,,,,,,,
devise,2408,closed,-,-,-,1,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,2442,closed,opened,2013-05-29 16:04:32,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2442,closed,title,2013-05-29 16:04:32,00:00,,1,,"b""b' Issue with Rememberable using devise 2.2.4'""",,,,,,,,,,,,,,,,,,,,,
devise,2442,closed,body,2013-05-29 16:04:32,00:00,,1,,"b'b"" So I am having trouble with the rememberable module for devise. I have all the setup implemented correctly: I added :rememberable to my user model", added the remember_created_at to the users table, and added the :remember_me checkbox on the login page. I can confirm that if a user logs in without checking the remember me checkbox, that a cookie is created, the expiration is now, and the remember_created_at field is set to null. And if a user checks the checkbox a timestamp is saved in the remember_created_at field and the expiration date of the cookie is set to the default 2 weeks. So the issues I am having:1. If I don\'t check the remember me checkbox and login, close the browser, and then go back to the app I am still logged in. Isn\'t the idea if a user does not want to be remembered that when the browser is closed the session is destroyed? Or am I misunderstanding this?2. For testing purposed I changed the :remember_for option to  . So I checked the remember me box before logging in and verified the cookie expiration date is correct and a timestamp was saved in remember_created_at. I then closed the browser and waited about 2 minutes. I then opened the browser again and I was still logged in. Am I missing something or am I just not understanding the rememberable module correctly? And yes," I did restart the server after changing the option to Thanks.""'",,,,,,,,,,,,,
devise,2442,closed,1,2013-05-29 16:04:32,1.18,,1,,"b'b"" I was just looking more into the timestamp saved in the remember_created_at column. The timestamp is being saved in UTC", so in this example it is 2013-05-29 14:56:10.277," but I am in New england so the time is 10:56. And the server that is running the app is in Texas which is central time. I\'m assuming that devise handles this (converting  UTC)? Or maybe this is why I am having problem with rememberable?""'",,,,,,,,,,,,,,,,,,,
devise,2442,closed,2,2013-05-29 16:04:32,37.77,,1,,"b""b' Could it be a cookie issue? Like I said previously the expiration for the cookie was set properly. However I am noticing that when I close the browser", wait the appropriate time," and then go back to the app the cookie (user_remember_token) is still there even though it is past the expiration timestamp.'""",,,,,,,,,,,,,,,,,,,
devise,2442,closed,3,2013-05-29 16:04:32,1183.8,,,1,"b""b' We only use the date from the database", so it should work fine across timezones and it should not be a cookie date problem. However, it is weird that you can access the website even after you close your browser. It may be an issue in your browser, since the session cookie in Rails is by default set to expire by the end of the browser session. We can take a further look at the issue," but it would require you to provide us a sample application that reproduces the error. Could you do that?'""",,,,,,,,,,,,,,,,,
devise,2442,closed,closed,2013-06-05 12:27:18,1222.77,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,2442,closed,4,2013-05-29 16:04:32,47.63,,,1,"b""b' Yes"," here is a link to a sample application using the rememberable module: url  Also I want to note that I am using jruby-1.7.3. Thanks.'""",,,,,,,,,,,,,,,,,,,,
devise,2442,closed,5,2013-05-29 16:04:32,126.98,,,1,"b""b' Thanks @ggrillone! I gave the app a try and everything worked fine. I was signed out without remember me after closing the browser and after 1 minutes using the cookie expiration settings. I have used a vanilla Firefox"," version 16.0.2. What am I missing? :)'""",,,,,,,,,,,,,,,,,,,,
devise,2442,closed,reopened,2013-06-05 15:21:54,174.6,0,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,2442,closed,6,2013-05-29 16:04:32,12.28,1,,,"b""b' hmm that is strange. I was testing it out too"," but I was not signed out after closing the browser and waiting until the cookie expired. I am using Firefox 21.0 on Mac OS X 10.7.5. Maybe it is a browser issue?'""",,,,,,,,,,,,,,,,,,,,
devise,2442,closed,7,2013-05-29 16:04:32,1.5,,1,,"b""b' In my use case"," I am closing a browser tab and not the entire browser. Could that be it?'""",,,,,,,,,,,,,,,,,,,,
devise,2442,closed,8,2013-05-29 16:04:32,2.67,,1,,"b""b' Yes", it is definitely that. The session definitely ends when you close the browser. Not sure how are browser policies for closed tabs (if it never expires, if it is time dependent," etc).'""",,,,,,,,,,,,,,,,,,
devise,2442,closed,closed,2013-06-05 15:38:21,16.45,1,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,2442,closed,9,2013-05-29 16:04:32,2.75,,,1,"b""b' your right"," I just tested closing the entire browser and it worked. Thanks for helping!'""",,,,,,,,,,,,,,,,,,,,
devise,2442,closed,10,2013-05-29 16:04:32,4.98,,,1,"b""b' Glad to help!  :heart: :green_heart: :blue_heart: :yellow_heart: :purple_heart:'""",,,,,,,,,,,,,,,,,,,,,
devise,2442,closed,-,-,-,1,6,5,,,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,opened,2013-06-06 23:02:00,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,title,2013-06-06 23:02:00,00:00,,1,,"b""b' undefined method '""",,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,body,2013-06-06 23:02:00,00:00,,1,,"b""b' I get this error with my app:url  On user registration with devise.With omniauth facebook login everything works. I opened a stackoverflow question on it:url '""",,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,1,2013-06-06 23:02:00,8.55,,1,,"b'b"" Can you provide the stacktrace? You don\'t provide a in your router", so the error is expected," we just need to know from where it is coming from.""'",,,,,,,,,,,,,,,,,,,
devise,2457,closed,2,2013-06-06 23:02:00,578.07,,1,,"b'b"" Just learned what is the stacktrace: NoMethodError undefined method  polymorphic_url\'  actionpack (3.2.13) :150:in  _compute_redirect_to_location\'  actionpack (3.2.13) :74:in  redirect_to\'  actionpack (3.2.13) :60:in  block in instrument\'  activesupport (3.2.13) :20:in  instrument\'  actionpack (3.2.13) :59:in  redirect_to\'  actionpack (3.2.13) :135:in  navigation_behavior\'  actionpack (3.2.13) :162:in  to_html\'  actionpack (3.2.13) :153:in  call\'  actionpack (3.2.13) :239:in  create\'  actionpack (3.2.13) :4:in  process_action\'  actionpack (3.2.13) :10:in  block in process_action\'  activesupport (3.2.13) :458:in  __run_callback\'  activesupport (3.2.13) :385:in  run_callbacks\'  actionpack (3.2.13) :17:in  process_action\'  actionpack (3.2.13) :30:in  block in instrument\'  activesupport (3.2.13) :20:in  instrument\'  actionpack (3.2.13) :29:in  process_action\'  activerecord (3.2.13) :18:in  process\'  actionpack (3.2.13) :45:in  dispatch\'  actionpack (3.2.13) :14:in  block in action\'  actionpack (3.2.13) :73:in  call\'  actionpack (3.2.13) :42:in  block in call\'  journey (1.0.4) :56:in  call\'  omniauth (1.1.4) :184:in  call\'  warden (1.2.1) :35:in  call\'  actionpack (3.2.13) :17:in  call\'  rack (1.4.5) :35:in  call\'  actionpack (3.2.13) :21:in  call\'  rack (1.4.5) :210:in  call\'  actionpack (3.2.13) :341:in  call\'  activerecord (3.2.13) :479:in  block in call\'  activesupport (3.2.13) :405:in  __run_callback\'  activesupport (3.2.13) :385:in  run_callbacks\'  actionpack (3.2.13) :27:in  call\'  actionpack (3.2.13) :31:in  protected_app_call\'  better_errors (0.9.0) :79:in  call\'  actionpack (3.2.13) :16:in  call\'  railties (3.2.13) :32:in  block in call\'  activesupport (3.2.13) :22:in  call\'  actionpack (3.2.13) :22:in  call\'  rack (1.4.5) :17:in  call\'  rack (1.4.5) :15:in  call\'  railties (3.2.13) :479:in  call\'  rack (1.4.5) :14:in  call\'  thin (1.5.1) :81:in  pre_process\'  thin (1.5.1) :54:in  receive_data\'  eventmachine (1.0.3) :187:in  start\'  thin (1.5.1) :159:in  run\'  rack (1.4.5) :268:in  start\'  railties (3.2.13) :55:in  \'  :6:in  \'""'",,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,3,2013-06-06 23:02:00,8.2,,,1,"b""b' Looking at the stacktrace", we can see this: It seems this one is the culprit as it is trying to generate a url for the user model," and such url does not exist. So you  should either get rid of this dependency or define the route to make it happy.'""",,,,,,,,,,,,,,,,,,,
devise,2457,closed,closed,2013-06-07 08:56:50,594.83,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,4,2013-06-06 23:02:00,12.77,,,1,"b'b"" I deleted ajaxify gem from Gemfile"," but same error occurs. NoMethodError undefined method  polymorphic_url\'  actionpack (3.2.13) :150:in  _compute_redirect_to_location\'  actionpack (3.2.13) :74:in  redirect_to\'  actionpack (3.2.13) :60:in  block in instrument\'  activesupport (3.2.13) :20:in  instrument\'  actionpack (3.2.13) :59:in  redirect_to\'  actionpack (3.2.13) :193:in  rescue in to_html\'  actionpack (3.2.13) :160:in  respond\'  actionpack (3.2.13) :146:in  respond_with\'  devise (2.1.2) :27:in  send_action\'  actionpack (3.2.13) :167:in  process_action\'  actionpack (3.2.13) :18:in  _run__4159298926632633380__process_action__3745782819591530044__callbacks\'  activesupport (3.2.13) :405:in  _run_process_action_callbacks\'  activesupport (3.2.13) :81:in  process_action\'  actionpack (3.2.13) :29:in  block in process_action\'  activesupport (3.2.13) :123:in  instrument\'  activesupport (3.2.13) :123:in  process_action\'  actionpack (3.2.13) :207:in  process_action\'  actionpack (3.2.13) :121:in  process\'  actionpack (3.2.13) :203:in  dispatch\'  actionpack (3.2.13) :246:in  dispatch\'  actionpack (3.2.13) :36:in  call\'  journey (1.0.4) :68:in  call\'  actionpack (3.2.13) :612:in  call!\'  omniauth (1.1.4) :164:in  block in call\'  warden (1.2.1) :34:in  call\'  rack (1.4.5) :23:in  call\'  actionpack (3.2.13) :14:in  call\'  actionpack (3.2.13) :242:in  context\'  rack (1.4.5) :205:in  call\'  activerecord (3.2.13) :64:in  call\'  actionpack (3.2.13) :28:in  _run__3171792883399595661__call__3680441127942329225__callbacks\'  activesupport (3.2.13) :405:in  _run_call_callbacks\'  activesupport (3.2.13) :81:in  call\'  actionpack (3.2.13) :65:in  call\'  better_errors (0.9.0) :84:in  better_errors_call\'  better_errors (0.9.0) :56:in  call\'  actionpack (3.2.13) :56:in  call_app\'  railties (3.2.13) :16:in  tagged\'  railties (3.2.13) :16:in  call\'  rack (1.4.5) :21:in  call\'  activesupport (3.2.13) :72:in  call\'  actionpack (3.2.13) :63:in  call\'  railties (3.2.13) :223:in  call\'  railties (3.2.13) :17:in  block in pre_process\'  thin (1.5.1) :79:in  process\'  thin (1.5.1) :39:in  run\'  thin (1.5.1) :63:in  start\'  rack (1.4.5) :13:in  start\'  railties (3.2.13) :70:in  block in \'  railties (3.2.13) :50:in  \'  :0:in ""'",,,,,,,,,,,,,,,,,,,,
devise,2457,closed,5,2013-06-06 23:02:00,2.45,1,,,"b""b' Oops"," sorry then. I will take a further look!'""",,,,,,,,,,,,,,,,,,,,
devise,2457,closed,reopened,2013-06-07 09:12:02,15.2,1,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,6,2013-06-06 23:02:00,327.5,,,1,"b'b"" Tryin to sign in with omniauth facebook: RuntimeError Devise trackable could not save #.Please make sure a model using trackable can be saved at sign in.:  devise (2.2.4) :31:in  block in \'  warden (1.2.1) :14:in  _run_callbacks\'  warden (1.2.1) :53:in  set_user\'  devise (2.2.4) :124:in  sign_in_and_redirect\'  :7:in  send_action\'  actionpack (3.2.8) :167:in  process_action\'  actionpack (3.2.8) :18:in  _run__735118623665039291__process_action__2298235143883885290__callbacks\'  activesupport (3.2.8) :405:in ""'",,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,7,2013-06-06 23:02:00,1088.42,,,1,"b'b"" Problem solved: after_create a Profile was created with User. Wrong argument was passed", and the :slug of Profile wasn\'t unique," that fired a false or nil somewhere which ended in an unsaved user. Devise works perfectly :)""'",,,,,,,,,,,,,,,,,,,
devise,2457,closed,closed,2013-06-08 08:47:57,1415.92,1,4,4,,,,,,,,,,,,,,,,,,,,,,
devise,2457,closed,-,-,-,1,4,4,,,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,opened,2013-06-10 07:05:51,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,title,2013-06-10 07:05:51,00:00,,1,,"b""b' unlocks_ override issue.'""",,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,body,2013-06-10 07:05:51,00:00,1,,,"b'b"" I m trying to override devise\'s unlocks_  create method. as  class Users::Devise::UnlocksController < Devise::UnlocksController  prepend_before_filter :require_no_authentication include Devise::Controllers::InternalHelpers # POST /  def create   = resource_(params[resource_name])   end def account_lock_message  respond_with_navigational(resource){ render_with_scope :account_lock_message }  end end account_lock_message", is added. entry in routes as  post \'/\' =and devise_for :users," :controllers =but still its not calling my overridden create method. ""'",,,,,,,,,,,,,,,,,,,
devise,2461,closed,closed,2013-06-10 07:09:48,3.95,1,1,0,,,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,reopened,2013-06-10 07:09:53,0.08,1,1,0,,,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,1,2013-06-10 07:05:51,4.05,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,2461,closed,closed,2013-06-10 07:09:54,0.02,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,2,2013-06-10 07:05:51,0.15,,,1,"b""b' If you think this is an issue",  You need to give us more information on how to reproduce this issue," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,2461,closed,reopened,2013-06-10 07:10:03,0.15,1,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,closed,2013-06-10 07:12:06,2.05,1,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2461,closed,3,2013-06-10 07:05:51,70.87,1,,,"b'b"" I want to override unlocks_ create method. in which i want to redirect user on a page which contains message of unlock account instead of new_session_path. so i have created one method account_lock_message which will renderto a html page of same  in unlocks_ after email sent we redirected to respond_with({}"," :location =i have made entry in routes for create method as  post \'/\' =""'",,,,,,,,,,,,,,,,,,,,
devise,2461,closed,-,-,-,2,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,opened,2013-08-01 17:28:01,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,title,2013-08-01 17:28:01,00:00,,1,,"b""b' test helpers swallow headers'""",,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,body,2013-08-01 17:28:01,00:00,,1,,"b""b' is it possible"," that the devise test helpers let me not set a custom header in a failure response?  '""",,,,,,,,,,,,,,,,,,,,
devise,2542,closed,1,2013-08-01 17:28:01,23.5,,,1,"b""b'  You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2542,closed,closed,2013-08-01 17:51:31,23.5,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,2,2013-08-01 17:28:01,917.58,1,,,b'b\' sorry, you are right but i thought it;s obvious, because in line 112 you don\\\'t pass the headers, therfore it is possible to set status, body, content type and location," ONLY. procedere: a) failure app that sets the header b) test that fails with headers[""CUSTOM-HEADER|] == nil plz note that CUSTOM-HEADER is not what we have in our real case. i think it is easy for you to understand if i am right and you don\\\'t allow passing the headers (due never converting them to response headers in the above described line 112) or if i am wrong and missing something. thanks jose\''",,,,,,,,,,,,,,,
devise,2542,closed,3,2013-08-01 17:28:01,6.77,,1,,"b""b' another option would be to only integration test headers"," that seems to work and is probably even more correct'""",,,,,,,,,,,,,,,,,,,,
devise,2542,closed,reopened,2013-08-07 12:45:16,1133.75,1,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,4,2013-08-01 17:28:01,687.75,,1,,"b""b' Is there a way to pass all the headers to the underlying get call or request? If so we can simply do it. Can you please provide a patch?'""",,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,5,2013-08-01 17:28:01,675.67,,1,,"b""b' works'""",,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,6,2013-08-01 17:28:01,11.93,,,1,"b""b' Thanks @suung ! I will merge it once the next devise version is out. I am closing this in favor of the PR.'""",,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,closed,2013-08-09 08:11:13,1165.95,1,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,7,2013-08-01 17:28:01,168.7,,1,,"b""b' sure'""",,,,,,,,,,,,,,,,,,,,,
devise,2542,closed,-,-,-,1,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,opened,2013-08-02 15:51:58,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,title,2013-08-02 15:51:58,00:00,,1,,"b""b' Clearing confirmation token'""",,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,body,2013-08-02 15:51:58,00:00,,,1,b'b\' Why does confirm! clear the confirmation token?  This means that if a user clicks the confirmation link in their email for a second time," they are shown the rather unintuitive ""Confirmation token invalid"" error"," instead of the more helpful ""Email was already confirmed"," please try signing in"" error which is shown when I put the confirmation token back. So wouldn\\\'t it make more sense to keep the confirmation token in the database record?\''",,,,,,,,,,,,,,,,,,
devise,2544,closed,closed,2013-08-02 15:52:05,0.12,0,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,reopened,2013-08-02 15:52:09,0.07,0,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,1,2013-08-02 15:51:58,29.52,1,,,"b'b\' Maybe we could improve the ""Confirmation token invalid"" message to say: it is invalid or the e-mail was already confirmed? The confirmation token provides full access to a given user in the application", we don\\\'t want to leave them in the table longer than they are supposed to be.\'',,,,,,,,,,,,,,,,,,,,
devise,2544,closed,2,2013-08-02 15:51:58,11.58,,1,,"b'b"" I see your point"," but the confirmation token can\'t be used to access that user if they are already confirmed can it?""'",,,,,,,,,,,,,,,,,,,,
devise,2544,closed,3,2013-08-02 15:51:58,5.42,,1,,"b""b' You are right. Yes"," I think this issue could be addressed them. @ what do you think?'""",,,,,,,,,,,,,,,,,,,,
devise,2544,closed,4,2013-08-02 15:51:58,0.27,,1,,"b""b' /cc @carlosantoniodasilva @rafaelfranca '""",,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,5,2013-08-02 15:51:58,10.97,,,1,"b'b"" Thanks. Would be ideal if it could redirect to sign-in rather than the \'resend confirmation email\' prompt in this case.""'",,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,6,2013-08-02 15:51:58,2.42,,1,,"b'b"" I don\'t see any problem in changing this behavior. :+1:""'",,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,7,2013-08-02 15:51:58,36.52,,1,,"b""b' Have opened a pull request with my solution for this"," feel free to use it or not :smiley:'""",,,,,,,,,,,,,,,,,,,,
devise,2544,closed,8,2013-08-02 15:51:58,207.97,,,1,"b""b' Closing this in favor of the pull request"," thanks @markturner!'""",,,,,,,,,,,,,,,,,,,,
devise,2544,closed,closed,2013-08-08 20:56:46,304.62,1,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,2544,closed,-,-,-,1,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,opened,2013-08-22 08:19:08,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,title,2013-08-22 08:19:08,00:00,,,1,"b""b' ActionController::InvalidAuthenticityToken Error on Heroku Deploy'""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,body,2013-08-22 08:19:08,00:00,,,1,"b'b"" Locally everything works great", however I\'m getting the following error when deploying a clean app to Heroku," then trying to register: url ""'",,,,,,,,,,,,,,,,,,,
devise,2586,closed,1,2013-08-22 08:19:08,13.23,,,1,"b""b'  You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2586,closed,closed,2013-08-22 08:32:22,13.23,0,0,3,,,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,2,2013-08-22 08:19:08,36.93,1,,,"b""b' Oops! Here are the details: Rails 4.0.0Warden 1.2.3Devise 3.1.0.rc2 from git:// (at master) Reproduce by creating a new Rails 4 app", adding Devise to Gemfile (at master), pushing to Heroku," and trying to register.'""",,,,,,,,,,,,,,,,,,
devise,2586,closed,3,2013-08-22 08:19:08,6.05,,,1,"b""b' Thanks @jabreu52! Can you also reproduce the issue on production environment on your machine?'""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,reopened,2013-08-22 09:15:21,42.98,1,0,4,,,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,4,2013-08-22 08:19:08,446.32,,,1,"b""b' I tried reproducing this in production on my machine with no luck. The error only arises when deployed to Heroku. :/ Here is a longer version of the Heroku error log"," see row 75 and 88: url '""",,,,,,,,,,,,,,,,,,,,
devise,2586,closed,5,2013-08-22 08:19:08,23.1,,1,,"b""b' Adding to session_ seems to fix this.'""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,6,2013-08-22 08:19:08,576.32,,1,,"b""b' also"," make sure to clear your browser  before attempting to register a user after this change.'""",,,,,,,,,,,,,,,,,,,,
devise,2586,closed,closed,2013-09-02 21:47:10,751.82,1,2,5,,,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,7,2013-08-22 08:19:08,1113.35,,,1,"b""b' I also had this same issue deploying to heroku.  So far domain: :all seems to fix it.  Thanks so much for this -definitely saved me time.'""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,8,2013-08-22 08:19:08,992.4,,,1,"b'b"" @josevalim @jabreu52 -so we\'re still having this issue.  Whenever we deploy to heroku we get... We\'ve added domain: :all  ... and have tried just about anything to figure out why this is happening with no luck.  Any thoughts?""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,9,2013-08-22 08:19:08,1175.65,,1,,"b""b' @anazar Have you tried clearing your browser  On Sep 11",2013, at 3:13 PM," anazar notifications@ wrote:'""",,,,,,,,,,,,,,,,,,
devise,2586,closed,10,2013-08-22 08:19:08,1186.5,,,1,"b'b"" Clearing the browser  does work but it\'s becoming a huge problem.  Everytime we push an update to heroku we get tons of users complaining that they can\'t log in.  And a number of them complaining that the problem persists until they clear their cookies.""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,11,2013-08-22 08:19:08,1200.68,1,,,"b'b"" Also I figure I should provide more info We\'re using:Rails: 4.0.0Devise: 3.1.0Devise Invitable 1.2.0 (the devise-3.1 branch)activerecord-session_store Our session store is: Things I\'ve triedchanging the secret key basewiping out everything: rake tmp:clear tmp:sessions:clear db:sessions:clearbanging my head against the wallupdating all gems to master or only using stable gemsswitching redis session store Any thoughts?""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,12,2013-08-22 08:19:08,1340.72,,1,,"b""b' Can this be the reason? url  Does it work with Devise 3.0.0? We need a way to reproduce the issue"," otherwise there is nothing we can do.'""",,,,,,,,,,,,,,,,,,,,
devise,2586,closed,13,2013-08-22 08:19:08,1360.02,,,1,"b'b"" We\'re using the latest version so I don\'t think that\'s the issue.  And we were using 3.0.3 before we tried to upgrade. I\'m unfortunately not able to reproduce the issue locally... It only happens when deploying to heroku.""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,14,2013-08-22 08:19:08,53.72,,1,,"b'b"" So I\'m not sure if this is 100% causing it but I was able to replicate the error To reproduce:1) Open two browser windows of the same browser type (ie. 2 chrome windows)2) Go to the login page in both windows3) Login on one of the windows and then logout4) Login on the other browser window and you\'ll see the error Logging out updates the csrf token but if the other login page isn\'t refreshed it doesn\'t get the updated token.  Shouldn\'t devise be handling this situation gracefully?  This is where it errors:  ""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,15,2013-08-22 08:19:08,76.82,,1,,"b'b""   getting rid of the with: :exception prevents the exception from being thrown and forces the login page to refresh so I guess that solves that problem.  We\'ll see if that resolves the issues w/ users trying to log in during a deploy.""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,16,2013-08-22 08:19:08,253.62,,1,,"b""b' same problem\\xe3\\x80\\x82+1'""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,17,2013-08-22 08:19:08,729.47,,1,,"b""b' @anazar i can reproduce the same way"," same problem +1 Me too using activerecored-session-store'""",,,,,,,,,,,,,,,,,,,,
devise,2586,closed,18,2013-08-22 08:19:08,1120.0,,,1,"b""b' same problem +1 @anazar your steps above helped me debug this error"," thanks! '""",,,,,,,,,,,,,,,,,,,,
devise,2586,closed,19,2013-08-22 08:19:08,160.03,,1,,"b'b"" I\'m running into this too. Is the official fix for this to change ?""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,20,2013-08-22 08:19:08,1254.07,,1,,"b""b' same problem. still not fixed? I would assume people log in with devise from IOS devices? Nothing here fixed that for me.  d'""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,21,2013-08-22 08:19:08,868.93,,1,,"b""b' @anazar do you remember how you were able to solve it?'""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,22,2013-08-22 08:19:08,1243.4,,1,,"b""b' url '""",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,23,2013-08-22 08:19:08,627.97,,,1,"b""b' Hey", I have my production and staging in heroku. and in are exact copies. However," I could replicate the error in but not in  .'""",,,,,,,,,,,,,,,,,,,
devise,2586,closed,24,2013-08-22 08:19:08,666.12,,,1,"b'b"" I\'m assuming this is a Heroku issue. I\'m using my own production server instead of Heroku and the problem went away. I can now log in from any device.  d""'",,,,,,,,,,,,,,,,,,,,,
devise,2586,closed,25,2013-08-22 08:19:08,973.75,,,1,"b'b"" I run all my apps on Heroku and I\'ve seen this happen A LOT.  I think this has to do with Heroku\'s containerization and has been exacerbated by Heroku\'s semi-recent introduction of [daily restarts for all dynos]url A reboot on Heroku has the effect of invaliding all Devise sessions I believe.  I\'m trying out to see if it helps to alleviate the exception message.  If a session has been invalidated", it seems ok to send the user back to the login page.  IMHO YOU SHOULD NOT NOT NOT NOT NOT remove from your app.  There is a reason the rails generator includes it!!!  There is no way to get away from Heroku\'s behavior (other than rehost on your own platform of course).  Multiple dynos reduces the odds that a session will invalidate, but eventually all dynos will restart every 24 hours whether you deploy or not.  Heroku restart documentation quote for convenience: > Dynos are also restarted (cycled) at least once per day to help maintain the health of applications running on Heroku. Any changes to the local filesystem will be deleted. The cycling happens once every 24 hours (plus up to 216 random minutes," to prevent every dyno for an application from restarting at the same time).""'",,,,,,,,,,,,,,,,,,
devise,2586,closed,-,-,-,2,12,13,,,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,opened,2013-09-20 21:19:48,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,title,2013-09-20 21:19:48,00:00,,1,,"b""b' Allow for independent authenticity tokens per-scope'""",,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,body,2013-09-20 21:19:48,00:00,,1,,"b'b"" Confirming @markedmondson\'s issue #2640. Now with a workaround.""'",,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,1,2013-09-20 21:19:48,190.17,,1,,"b""b' I think this approach is a dead-end: the authenticated user might be posting to an unauthenticated '""",,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,closed,2013-09-24 00:29:58,190.17,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,2,2013-09-20 21:19:48,1236.35,,1,,"b'b"" I think we can make this work if we prefix the token with the scope name"," e.g. and then split it for comparison when receiving a post. I\'ll give this another shot.""'",,,,,,,,,,,,,,,,,,,,
devise,2642,closed,reopened,2013-11-06 21:06:19,1236.35,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,closed,2014-04-03 19:04:21,1318.03,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,2642,closed,-,-,-,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,opened,2013-09-27 01:13:45,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,title,2013-09-27 01:13:45,00:00,,1,,"b""b' Unable to invoke custom behaviour for devise_parameter_sanitizer (per readme)'""",,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,body,2013-09-27 01:13:45,00:00,,1,,"b""b'   We followed the second method of declaring permitted parameters url  but the expected parameters in the whitelist were not permitted.'""",,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,1,2013-09-27 01:13:45,3.7,,1,,"b""b' Which Devise version are you using?'""",,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,2,2013-09-27 01:13:45,792.73,,,1,"b'b"" There is a change you are using an old devise version (not 3.1.0) but if you are on latest and it still doesn\'t work"," please let us know!""'",,,,,,,,,,,,,,,,,,,,
devise,2652,closed,closed,2013-09-27 14:30:11,796.43,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,3,2013-09-27 01:13:45,8.27,,1,,"b""b' Devise version is 3.1.0.  '""",,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,reopened,2013-09-27 14:42:44,12.55,0,4,1,,,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,4,2013-09-27 01:13:45,4.98,,1,,"b""b' And the Rails version please? Can you provide a way to reproduce the issue?'""",,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,5,2013-09-27 01:13:45,22.88,,,1,"b""b' Ok"," I tried to reproduce the issue and everything worked fine. Please let me know if you have more info.'""",,,,,,,,,,,,,,,,,,,,
devise,2652,closed,closed,2013-10-01 15:06:19,23.58,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2652,closed,-,-,-,0,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,opened,2013-10-10 17:10:47,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,title,2013-10-10 17:10:47,00:00,,1,,"b""b' Magic with constants and scope'""",,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,body,2013-10-10 17:10:47,00:00,,1,,"b'b"" I have a route for devise which looks like this: I did added the as devise doesn\'t infer that was a reference to the model  ", and resolved to the class  . The documentation, and some assumptions on my part, led me to believe that I should be able to add a before_filter for authentication as: This turned out to be false, as it does infer here: Also using in doesn\'t resolve the user module as expected," it only affects the controller.""'",,,,,,,,,,,,,,,,
devise,2680,closed,1,2013-10-10 17:10:47,924.87,,,1,"b""b' Right. All those things were by design. The only way to change the model is by providing a class name", all other options affecting the routing constraints. However, our docs may not make it clear," hence the confusion. Could you please provide pull requests to the doc areas you feel that could be improved? Thank you!'""",,,,,,,,,,,,,,,,,,
devise,2680,closed,closed,2013-10-16 08:35:39,924.87,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,2,2013-10-10 17:10:47,278.33,,,1,"b'b"" You say it\'s an issue in the docs"," and you closed the issue without it being solved? :) I\'ll see if I have time this weekend.""'",,,,,,,,,,,,,,,,,,,,
devise,2680,closed,3,2013-10-10 17:10:47,16.5,1,,,"b""b' Sorry"," bad habit!'""",,,,,,,,,,,,,,,,,,,,
devise,2680,closed,reopened,2013-10-18 13:30:29,294.83,1,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,4,2013-10-10 17:10:47,6.38,,,1,"b""b' heh!'""",,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,5,2013-10-10 17:10:47,1308.7,,,1,"b""b' Btw"," I have just noticed all this behaviour was documented inside the option. I have moved it a bit up though. Thank you.'""",,,,,,,,,,,,,,,,,,,,
devise,2680,closed,closed,2013-10-21 11:25:35,1315.1,1,2,4,,,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,6,2013-10-10 17:10:47,1422.87,,,1,"b""b' Thanks'""",,,,,,,,,,,,,,,,,,,,,
devise,2680,closed,-,-,-,1,2,5,,,,,,,,,,,,,,,,,,,,,,
devise,2684,closed,opened,2013-10-13 22:38:30,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2684,closed,title,2013-10-13 22:38:30,00:00,1,,,"b""b' after confirmation_path messed up when used along with redirection code'""",,,,,,,,,,,,,,,,,,,,,
devise,2684,closed,body,2013-10-13 22:38:30,00:00,,,1,"b'b\' I am trying to redirect to same page on login with the following code as suggested in the wiki after_filter :store_location  def store_location  # store last url this is needed for post-login redirect to whatever the user last visited.  if ( != ""/"" &&   != ""/"" &&   != ""/"" &&    !?) # don\\\'t store ajax calls  session[:previous_url] =  end  end When a user tries to confirm his account"," I get the confirmation token invalid error but the user is login. I disabled the code and then it worked. What am I doing wrong? I also tried adding something like this to if condition  != ""/?confirmation_token=~\\\\w""  Still didn\\\'t work\''",,,,,,,,,,,,,,,,,,,,
devise,2684,closed,1,2013-10-13 22:38:30,596.58,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,2684,closed,closed,2013-10-14 08:35:05,596.58,1,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,2684,closed,2,2013-10-13 22:38:30,0.18,,,1,"b""b' If you think this is a bug report",  You need to give us more information on how to reproduce this issue," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,2684,closed,reopened,2013-10-14 08:35:16,0.18,1,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,2684,closed,3,2013-10-13 22:38:30,53.72,,,1,b'b\' This is a bug if you consider code given in wiki not working as bugs. You can reproduce the bug by following the url  and getting a bug in the app as a bug. I am not sure how to contribute to the wiki. I am using Rails 4," Devise version 3.03. The problem is that when the user clicks the confirmation mail and it goes to automatically logging in then we will have a problem where we will get invalid authentication token and redirecting to resend autehntication token page but the user will be signed in. I solved it using the following code instead of the code I used above. def store_location  # store last url this is needed for post-login redirect to whatever the user last visited.  if (!(""/users/"") &&    !?) # don\\\'t store ajax calls  session[:previous_url] =  end  end\''",,,,,,,,,,,,,,,,,,,,
devise,2684,closed,4,2013-10-13 22:38:30,3.62,,,1,b'b\' Ok, thanks @aravindgd! The wiki is maintained by the community, so it may have outdated or wrong contents. If you can update it and mention the versions it works for you, it would be awesome! Anyone can update the wiki," there is an ""Edit Page"" button at the top of the every wiki article. Thank you!\''",,,,,,,,,,,,,,,,,
devise,2684,closed,5,2013-10-13 22:38:30,31.47,,,1,"b""b' thanks @josevalim '""",,,,,,,,,,,,,,,,,,,,,
devise,2684,closed,closed,2013-10-16 08:34:08,1438.87,1,1,5,,,,,,,,,,,,,,,,,,,,,,
devise,2684,closed,-,-,-,1,1,5,,,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,opened,2013-10-23 19:20:35,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,title,2013-10-23 19:20:35,00:00,,1,,"b'b"" User can\'t change the password : reset password token is invalid""'",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,body,2013-10-23 19:20:35,00:00,,1,,b'b\' I\\\' am trying use the password reset function of devise," i set up an account on mandrill for sending emails.So when i go on / and click on send instructions i receive an email with a link ""Change my password"" ", here is the link ref :url  when i click on it, it  sends me to /?reset_password_token=XXX.But if i change the password the following flash message appears in the page: Reset password token invalid.I am not overriding any devise controllers.Anyone can help me?![change]url ![error]url \'',,,,,,,,,,,,,,,,,,
devise,2699,closed,1,2013-10-23 19:20:35,10.68,,1,,"b'b"" Why have you opened another issue without putting all the information asked in the previous one? Please include Devise and Rails versions. Are you using the default templates? From where you are getting the token from? Are you using markerb? Please don\'t open another issue"," comment on this one.""'",,,,,,,,,,,,,,,,,,,,
devise,2699,closed,closed,2013-10-23 19:31:16,10.68,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,2,2013-10-23 19:20:35,2.32,,,1,"b'b"" I\'d be glad to help track down the problem (which is probably in the code that passes the token to the mandrill template)", but there\'s definitely not enough information here," and stackoverflow would be a more appropriate venue.""'",,,,,,,,,,,,,,,,,,,
devise,2699,closed,3,2013-10-23 19:20:35,13.4,1,,,"b'b"" Sorry", I am quite new to this kind of things.Rails version :3.2.13Devise version: 3.1.1I am using this template : , here is the code Change your password  resource_name, :url =    true %   It\'s pratically the default view. I actually dont know where I get the token from," can you give me some advices?""'",,,,,,,,,,,,,,,,,
devise,2699,closed,4,2013-10-23 19:20:35,1.8,,,1,"b""b' Glad to!'""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,reopened,2013-10-23 19:48:47,17.52,1,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,5,2013-10-23 19:20:35,3.17,,,1,"b""b' It is ok to be new", just try to read carefully the instructions as we get dozens of reports per month and providing the maximum amount of information as you can makes tracking the issue down easier for me and for you! More question: have you recently upgraded your devise version? Also," from where are you getting the token? From an e-mail that is sent to you?'""",,,,,,,,,,,,,,,,,,,
devise,2699,closed,6,2013-10-23 19:20:35,6.3,,1,,b'b\' Okay, i havent updated recently my version of devise," the ""Change my password"" link that i posted above is inside an email sent by devise", i think it is the devise controller that generates the token.It seems like as if devise cant recognize its own token provided earlier. Right?\'',,,,,,,,,,,,,,,,,,
devise,2699,closed,7,2013-10-23 19:20:35,1.5,,1,,"b""b' If you have recently updated Devise"," you should read the CHANGELOG with the changes from the Devise version you were up to the current version: url  There are specific instructions on how to update your code.'""",,,,,,,,,,,,,,,,,,,,
devise,2699,closed,8,2013-10-23 19:20:35,5.95,,1,,"b'b"" If you\'re sending e-mails via mandrill", that\'s not the default devise behavior. So there must be some  in your app that handles that, right? My guess is that\'s the place to look for the bug. For example, in an application I work on, we also override the devise mailer and instead make api calls to mandrill, sending it the reset password token to include in the mail template. So if you\'re doing something similar," you might be sending the wrong token.""'",,,,,,,,,,,,,,,
devise,2699,closed,9,2013-10-23 19:20:35,19.3,,,1,b'b\' Thank you gragates for the answer, i am not ovverriding any devise mailer," i am just useing mandrill service setting up the smtp settings like thisActionMailer:: = {  :address =  :port  =  :user_name =  :password  =  :authentication =}in  i have = ""Devise::Mailer""  so i let devise default mailer send the email.Is the error maybe this?\''",,,,,,,,,,,,,,,,,,,
devise,2699,closed,10,2013-10-23 19:20:35,6.63,,,1,"b""b' That looks fine to me. Are you using the devise default reset password instructions erb template? By default an override would be at '""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,11,2013-10-23 19:20:35,647.5,,,1,"b'b"" I am  overriding because i have generated devise views but i pratically didn\'t touch that template here is the code :Hello ! Someone has requested a link to change your password. You can do this through the link below. @) %If you didn\'t request this"," please ignore this email. Your password won\'t change until you access the link above and create a new one.""'",,,,,,,,,,,,,,,,,,,,
devise,2699,closed,12,2013-10-23 19:20:35,2.0,,1,,"b""b' It should be instead of  .'""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,closed,2013-10-24 07:21:21,692.57,1,7,6,,,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,13,2013-10-23 19:20:35,14.3,,,1,"b""b' Yeah! that was the errror", thank you very much," the next time i will give all the information earlier'""",,,,,,,,,,,,,,,,,,,
devise,2699,closed,14,2013-10-23 19:20:35,1439.83,,,1,"b""b' How to expire password reset link after once used?1. request reset password2. getting email3. click link4. set new password then email link should be expired and should not leads to set password page.  I am using devise with rails 4.1.x. Thanks advance help!'""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,15,2013-10-23 19:20:35,36.28,,1,,"b""b' @thiyagarajan the reset password token expires by default if the user has already clicked the link and has successfully changed his password.'""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,16,2013-10-23 19:20:35,1233.32,,1,,"b""b' Got similar problem too and I am using @token in the views. Did not override any controllers. Seems like encrypted token is the problem here... Is there any way to gracefully override the encryption in devise 3.2.4?'""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,17,2013-10-23 19:20:35,328.12,,,1,b'b\' I am having the same issue. Using:Rails 4.1.4Ruby 2.1.2Devise 3.2.4 The link of code used for the reset link is: link_to \\\'Change my password\\\', edit_password_url(@resource," reset_password_token: @token) Yet I still get the error ""Reset password token is invalid"" The only other abnormality I have is that I have the previous password and I can not log in with it as I am told it is incorrect. Any pointers would be helpful! Thanks\''",,,,,,,,,,,,,,,,,,,
devise,2699,closed,18,2013-10-23 19:20:35,901.88,,1,,"b'b"" @cderche @ikrogers if you\'re overwriting "," you need to account for the case where warden_conditions contains a reset_password_token instead of an email""'",,,,,,,,,,,,,,,,,,,,
devise,2699,closed,19,2013-10-23 19:20:35,101.62,,,1,"b""b' I have the same problem as @cderche using the following: Rails 4.2.0ruby 2.1.5p273 (2014-11-13 revision 48405) [x86_64-linux]activeadmin-1.0.0.pre1 Thanks ahead for any pointers!'""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,20,2013-10-23 19:20:35,105.57,,1,,"b'b"" I am using","Rails 3.2.13Devise 3.1.0 also changed @resource.*_token to @token but still it says \'... token is invalid\'""'",,,,,,,,,,,,,,,,,,,,
devise,2699,closed,21,2013-10-23 19:20:35,101.12,,1,,"b""b' I was able to resolve this through overriding authentication method of devise. below is my override function. It worked then after.'""",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,22,2013-10-23 19:20:35,5.18,,1,,"b'b"" I am using devise 4.2 Rails 4.2.8 Ruby 2.3.4 I don\'t know how to setup devise forgot password with my Gmail. Can anyone help me?""'",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,23,2013-10-23 19:20:35,160.22,,1,,"b'b"" Had the same issue and fixed it by removing \'devise-i18n-views\' gem.  It looked like that this gem was changing something on devise that was causing this issue. ""'",,,,,,,,,,,,,,,,,,,,,
devise,2699,closed,-,-,-,1,14,10,,,,,,,,,,,,,,,,,,,,,,
devise,2798,closed,opened,2013-12-18 01:49:12,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2798,closed,title,2013-12-18 01:49:12,00:00,,1,,"b""b' Is something wrong with confirmation?'""",,,,,,,,,,,,,,,,,,,,,
devise,2798,closed,body,2013-12-18 01:49:12,00:00,,1,,"b'b"" I just noticed that every time I try to confirm a user registration", I get an error saying the confirmation token is invalid. This is how I\'m testing: However," still behaves as expected:  ""'",,,,,,,,,,,,,,,,,,,
devise,2798,closed,1,2013-12-18 01:49:12,356.93,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,2798,closed,closed,2013-12-18 07:46:08,356.93,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,2798,closed,2,2013-12-18 01:49:12,0.18,,,1,"b""b' If you think this is a bug",  You need to give us more information on how to reproduce this issue," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,2798,closed,reopened,2013-12-18 07:46:19,0.18,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2798,closed,3,2013-12-18 01:49:12,0.7,1,,,"b""b' Oops", I did not meant to reopen it. In any case," this will explain what you see: url '""",,,,,,,,,,,,,,,,,,,
devise,2798,closed,closed,2013-12-18 07:47:01,0.7,1,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2798,closed,-,-,-,1,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,opened,2014-01-29 13:34:22,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,title,2014-01-29 13:34:22,00:00,,1,,"b""b' edit_user_password_url returns wrong url in reset_password_'""",,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,body,2014-01-29 13:34:22,00:00,,,1,"b'b"" Hi!I don\'t have the correct URL in my reset password instruction email. The  file specifies But in reset_password_ we\'ve got: So it prints: url  Shouldn\'t it be  ?Or am I missing something?""'",,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,1,2014-01-29 13:34:22,30.3,,1,,"b""b' Yes"," it should be or the one generated by devise: url '""",,,,,,,,,,,,,,,,,,,,
devise,2848,closed,closed,2014-01-29 14:04:40,30.3,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,2,2014-01-29 13:34:22,4.6,,1,,"b""b' The one generated by devise is  Should I do a pull request to correct it?'""",,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,3,2014-01-29 13:34:22,1.62,,,1,"b""b' If that is the case"," yes please!'""",,,,,,,,,,,,,,,,,,,,
devise,2848,closed,reopened,2014-01-29 14:10:53,6.22,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,4,2014-01-29 13:34:22,1.2,,,1,"b'b"" But note that in the source code I don\'t see any point where would be generated!""'",,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,closed,2014-01-31 12:29:36,1338.72,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,2848,closed,5,2014-01-29 13:34:22,655.78,,1,,"b'b"" In reverse", I\'m finding that it is generating: But the actual routes have edit_user_password," so it should be edit_user_password_url.""'",,,,,,,,,,,,,,,,,,,
devise,2848,closed,-,-,-,0,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,2907,closed,opened,2014-02-28 20:28:48,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2907,closed,title,2014-02-28 20:28:48,00:00,,1,,"b""b' Rake task that generates only specified views'""",,,,,,,,,,,,,,,,,,,,,
devise,2907,closed,body,2014-02-28 20:28:48,00:00,,,1,"b'b"" Hi! The last couple times I\'ve used Devise on a project"," I found myself wishing for a way to generate only a subset of views (the ones I needed for my current story). I\'m hoping to put together a pull request that will add this feature to the rake tasks. Is this something you\'d be interested in adding?""'",,,,,,,,,,,,,,,,,,,,
devise,2907,closed,1,2014-02-28 20:28:48,6.88,,,1,"b""b' @kayline Sounds like a good idea but I would make it opt-in"," possibly via a flag. What do you think?'""",,,,,,,,,,,,,,,,,,,,
devise,2907,closed,2,2014-02-28 20:28:48,66.43,,,1,"b'b"" @josevalim Yup", wasn\'t planning to change the default behavior," just wanted it to exist as an option. I\'ll look into adding a flag to the existing rake task. Thanks!""'",,,,,,,,,,,,,,,,,,,
devise,2907,closed,closed,2014-02-28 21:42:07,73.32,0,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,2907,closed,reopened,2014-02-28 21:59:04,16.95,0,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,2907,closed,3,2014-02-28 20:28:48,586.22,,,1,"b'b"" Awesome", it\'d be very appreciated then," thanks!""'",,,,,,,,,,,,,,,,,,,
devise,2907,closed,4,2014-02-28 20:28:48,29.57,,,1,"b""b' @kayline I am closing this but a pull request is still very welcome (we only keep bug reports and pull requests open to help with issues maintenance). Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,2907,closed,closed,2014-03-02 07:57:54,598.83,0,1,5,,,,,,,,,,,,,,,,,,,,,,
devise,2907,closed,-,-,-,0,1,5,,,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,opened,2014-03-13 13:01:38,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,title,2014-03-13 13:01:38,00:00,,1,,"b'b"" Timeoutable doesn\'t work with rails 4.1.0.pre1""'",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,body,2014-03-13 13:01:38,00:00,,,1,b'b\' Hi," I built the rails 4.1.0 example application ""Devise and Rails"" that is on url  If I add :timeoutable to the user model of this app", log in the app and try to navigate," I get an ""ArgumentError comparison of String with ActiveSupport::TimeWithZone failed"" Apparently in  around line 28: last_request_at = (scope)[\\\'last_request_at\\\'] returns a string instead of a Time. Have a nice day.\''",,,,,,,,,,,,,,,,,,
devise,2930,closed,1,2014-03-13 13:01:38,528.23,,,1,"b'b"" I tried the [rails-devise]url  app as you mentioned but couldn\'t replicate the comparison error timeout worked just fine. Could you provide more information about the error and specially on how to replicate it with a fresh app? Thanks!""'",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,2,2014-03-13 13:01:38,688.73,,,1,"b""b' Ok"," I had a look at it. I tried it with an app as bare as possible. It runs fine with ruby 2.0 but crashes with ruby 1.9.3.'""",,,,,,,,,,,,,,,,,,,,
devise,2930,closed,3,2014-03-13 13:01:38,37.02,,1,,"b""b' This is an issue that has been fixed in Devise master since Rails changes the default session serializer.'""",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,closed,2014-03-24 09:55:37,1253.98,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,reopened,2014-03-24 11:40:47,105.17,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,closed,2014-04-03 19:05:02,444.25,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,4,2014-03-13 13:01:38,52.57,,1,,"b'b"" I\'m having the same issue with Rails 4.1.1"," Devise master (downloaded from github today) and Ruby 1.9.3.The problem is triggered by a call to in my layout. Taking out timeoutable fixes the problem. Here\'s a stacktrace:  ""'",,,,,,,,,,,,,,,,,,,,
devise,2930,closed,5,2014-03-13 13:01:38,951.68,,1,,"b'b"" I\'m having the exact same issue as @mvdamme.  I\'m using Ruby 1.9.3"," Rails 4.1.1 and Devise master. I get the exact same error. This issue is not fixed...""'",,,,,,,,,,,,,,,,,,,,
devise,2930,closed,6,2014-03-13 13:01:38,254.92,,,1,"b'b\' Also having this exact same issue ""comparison of String with ActiveSupport::TimeWithZone failed"" in : = 30.minutes if I remove timeoutable it works just fine", using devise master and devise_ldap_Authenticatable rails 4.1.1, rails 1.9.3p545\'',,,,,,,,,,,,,,,,,,,
devise,2930,closed,7,2014-03-13 13:01:38,269.25,,1,,"b'b"" Could you guys please test out [this branch]url  and see how it works? I haven\'t pushed this to master since the fix is pretty hackish and we don\'t have specific tests for how the session serializer upgrade will work.""'",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,8,2014-03-13 13:01:38,512.37,,,1,"b""b' The suggested branch (lm-timeoutable-fix) solves the problem for me. Tested using Ruby 1.9.3 and Rails versions 4.1.1 and 4.1.4. Thanks for looking into this!'""",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,9,2014-03-13 13:01:38,555.95,,1,,"b'b"" Right"," I\'ll see to get this into and remove that branch anytime soon.""'",,,,,,,,,,,,,,,,,,,,
devise,2930,closed,10,2014-03-13 13:01:38,462.72,,1,,"b""b' This solved my problem when running and  '""",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,11,2014-03-13 13:01:38,1416.6,,1,,"b'b\' @lucasmazza  I see ""Silence Warning Regarding Use of Splat"" updated on master 7 days ago. and branch lm-timeoutable-fix was last updated 15 days ago ... The issue still exists with the master branch ... what would be the possible effects that can occur ? And are there any possibilities to get this code updated on master soon ??\''",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,12,2014-03-13 13:01:38,1071.97,,1,,"b""b' :+1: seeing the issue as well'""",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,13,2014-03-13 13:01:38,196.92,,,1,"b'b\' I am still seeing this issue when I try to use ""Timeoutable"". Any word of when this\\\'ll get into the master branch? Thanks!\''",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,14,2014-03-13 13:01:38,484.08,,1,,"b""b' Finally pushed this to master @ eb9db7ba3a552ed410b20f1040e167569838b068 gonna cut a new release  this week.'""",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,15,2014-03-13 13:01:38,300.4,,,1,"b'b"" We\'re using master for now: We look forward to the next release.  Thanks!""'",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,16,2014-03-13 13:01:38,406.92,1,,,"b""b' Sorry for the delay"," but 3.3.0 is out :tada: :tada: :tada: '""",,,,,,,,,,,,,,,,,,,,
devise,2930,closed,17,2014-03-13 13:01:38,570.67,,,1,"b""b' Thanks everybody!'""",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,18,2014-03-13 13:01:38,65.07,,,1,"b""b' Updating to Devise 3.3 fixed the issue for me. Thank you. :+1: '""",,,,,,,,,,,,,,,,,,,,,
devise,2930,closed,-,-,-,1,10,9,,,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,opened,2014-03-24 19:34:57,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,title,2014-03-24 19:34:57,00:00,,1,,"b""b' Update Password Succeeds Without Password Confirmation'""",,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,body,2014-03-24 19:34:57,00:00,,,1,"b'b"" I have created an API using devise. When creating a user", it is required that a password and a password_confirmation be provided, and that they match. However, I can\'t replicate this behavior when updating a user\'s password.  When updating a user\'s password, I would like a valid current_password, password, and password_confirmation to be provided I\'m whitelisting :current_password, :password, and :password_confirmation with strong params in my controller," and using update_with_password to update the password attribute on my user instance. I have a gist here:url ""'",,,,,,,,,,,,
devise,2942,closed,1,2014-03-24 19:34:57,7.57,,,1,"b""b'  You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,2942,closed,closed,2014-03-24 19:42:31,7.57,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,reopened,2014-03-24 19:55:08,12.62,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,2,2014-03-24 19:34:57,12.88,,1,,"b""b' Reopening due to #1947.'""",,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,3,2014-03-24 19:34:57,3.38,,1,,"b""b' I added my  to the gist'""",,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,4,2014-03-24 19:34:57,1.63,,1,,"b'b"" I still can\'t reproduce the bug though. Which data are you sending to the form when it fails? I mean"," which fields are being filled with which value?""'",,,,,,,,,,,,,,,,,,,,
devise,2942,closed,5,2014-03-24 19:34:57,17.17,,1,,"b'b"" I\'m calling update_with_password on the user instance with :current_password set to the users\'s current password", :password set to a new valid password, and :password_confirmation is nil It\'s an API so there are no forms. All parameters are coming in from a JSON request body See line #20. A PUT to users#update with password, and current_password params," and no password_confirmation  ""'",,,,,,,,,,,,,,,,,
devise,2942,closed,6,2014-03-24 19:34:57,8.67,,1,,"b'b"" That\'s how password_confirmation is designed to work. If it is nil", it won\'t check for the confirmation because we don\'t want to force APIs," tests and so on to pass the confirmation. We only want forms to send the confirmation and you can do it by guaranteeing a blank value is sent (which is the default for html forms). Please check the second part of this post: url ""'",,,,,,,,,,,,,,,,,,,
devise,2942,closed,7,2014-03-24 19:34:57,3.2,,1,,"b""b' Yes", but in my case when the user is created, password_confirmation IS NOT NIL. The user is created by requiring a password_confirmation. So, it is indeed not nil. Further, I am not testing the presence of password_confirmation. I am testing to ensure that the password cannot be changed without requiring three params (:current_password, :password," :password_confirmation)'""",,,,,,,,,,,,,,,
devise,2942,closed,8,2014-03-24 19:34:57,7.75,,1,,"b'b"" I guess I\'m not understanding why you would require a password confirmation on creation"," but not on update or modification? ""'",,,,,,,,,,,,,,,,,,,,
devise,2942,closed,9,2014-03-24 19:34:57,1.68,,1,,b'b\' If you write a test like this:  post :create, {id: ," password: ""newPassword"""," email: ""..."" } The won\\\'t be required by default too... i.e. it is not related to the resource status it is simply related to the fact is nil.\''",,,,,,,,,,,,,,,,,,
devise,2942,closed,10,2014-03-24 19:34:57,5.83,1,,,b'b\' The comment above this method is misleading (to me, at least) by saying that the params are rejected:Update record attributes when :current_password matches," otherwise returns error on :current_password. It also automatically rejects :password and :password_confirmation if they are blank. ""automatically rejects"" to me"," sounds like ""returns false"" or ""returns error""\''",,,,,,,,,,,,,,,,,,
devise,2942,closed,11,2014-03-24 19:34:57,2.77,,1,,b'b\' Yes," docs could be improved but that\\\'s not the issue here. The ""issue"" is just how confirmations\\\' validation works on Rails: if the confirmation is nil", the confirmation is not validated.\'',,,,,,,,,,,,,,,,,,,
devise,2942,closed,12,2014-03-24 19:34:57,0.75,,1,,"b""b' Ok"," I can accept that. That does seem to be correct.'""",,,,,,,,,,,,,,,,,,,,
devise,2942,closed,closed,2014-03-24 20:49:49,54.68,1,11,2,,,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,13,2014-03-24 19:34:57,1.75,,,1,"b""b' Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,2942,closed,14,2014-03-24 19:34:57,832.58,,1,,"b""b' Hi @josevalim","  Is there a way other than using to force Devise to require a password confirmation on all updates and to fail if the is  ?'""",,,,,,,,,,,,,,,,,,,,
devise,2942,closed,-,-,-,1,12,3,,,,,,,,,,,,,,,,,,,,,,
devise,2981,closed,opened,2014-04-16 09:32:10,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,2981,closed,title,2014-04-16 09:32:10,00:00,,1,,"b""b' Mailer forgets scope'""",,,,,,,,,,,,,,,,,,,,,
devise,2981,closed,body,2014-04-16 09:32:10,00:00,,1,,b'b\' I have a devise model User and 2 different devise mount points: constraints constraints   devise_for :agents , All views are rendered from // or  // depending of scope , but mail templates are always rendered from / The reason is that Devise::Mailers::Helpers#initialize_from_record tries to figure out scope from passed object," which is of class ""User""", so it matches first scope with that class.\'',,,,,,,,,,,,,,,,,
devise,2981,closed,1,2014-04-16 09:32:10,4.47,,1,,"b""b' Yes", if this is the case," you need to explicitly override your mailer views and pass the proper subdomain to the generated URLs.'""",,,,,,,,,,,,,,,,,,,
devise,2981,closed,closed,2014-04-16 09:36:38,4.47,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,2981,closed,2,2014-04-16 09:32:10,23.22,,1,,"b'b"" I have overridden views (in  / and  /)"," but it\'s always using views from /""'",,,,,,,,,,,,,,,,,,,,
devise,2981,closed,reopened,2014-04-16 10:07:39,31.02,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,2981,closed,3,2014-04-16 09:32:10,9.25,1,,,"b""b' Ah", i see what you mean, i confused with url helpers," sorry. There is still not much we can do. The best option is for you to override and make it return an array with the places where you actually want to lookup: url '""",,,,,,,,,,,,,,,,,,
devise,2981,closed,closed,2014-04-16 10:09:07,1.47,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,2981,closed,4,2014-04-16 09:32:10,26.72,,1,,b'b\' The problem is that I need both templates. When a visitor is at www subdomain," it sees templates rendered from /  and if it requests a ""forgot password letter"" it should receive a mail from /.  When he visits agents subdomain", it sees templates / (it\\\'s ok)," but when it requests ""forgot password letter"" it should receive correct letter from  /. If i override templates_path", there is no way to detect current scope in it. If I will put both paths in it, only the first one will be working.\'',,,,,,,,,,,,,,,,
devise,2981,closed,5,2014-04-16 09:32:10,32.87,,1,,"b'b"" You can use different mailers", customize send_devise_notification in your model, change your controller, or you can store an information in the model to do the proper choice. The ultimate issue is that you are using the same class for both scopes and that limits devise\'s ability to guess which one to render. So you need to choose how to solve it," explicitly.""'",,,,,,,,,,,,,,,,,
devise,2981,closed,-,-,-,1,6,0,,,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,opened,2014-04-30 16:01:10,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,title,2014-04-30 16:01:10,00:00,,1,,"b""b' Update '""",,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,body,2014-04-30 16:01:10,00:00,,1,,"b'b"" This is the better way. Creating a support file doesn\'t seem to work.""'",,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,1,2014-04-30 16:01:10,1.53,,1,,"b'b"" It should work as long as you have this line in your  : Which is generated by default if I\'m not wrong. Have you tried it?""'",,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,2,2014-04-30 16:01:10,9.28,,,1,"b""b' I do have that line in my spec helper. I just checked again and it seem to be woking now. Thanks! But"," I still thinking having to add just that one line in the spec_ file is a lot cleaner than having to add new file in another folder. Is there a reason you guys are recommending adding a new file vs. just putting a line in the spec helper?'""",,,,,,,,,,,,,,,,,,,,
devise,3006,closed,3,2014-04-30 16:01:10,252.95,,,1,"b'b"" @TechFounder mainly for organization purposes"," if you have more dependencies having each one\'s setup in separate file helps. Maybe we could say either way is fine?  ""'",,,,,,,,,,,,,,,,,,,,
devise,3006,closed,4,2014-04-30 16:01:10,25.4,,,1,"b""b' More options would be fine by me. Thanks!'""",,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,closed,2014-05-07 20:50:20,289.17,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,reopened,2014-05-07 20:50:37,0.28,0,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,5,2014-04-30 16:01:10,108.37,,,1,"b""b' @TechFounder could you update your PR with the line that @carlosantoniodasilva suggested? Thanks :smile:'""",,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,6,2014-04-30 16:01:10,17.5,,,1,"b""b' @lucasmazza Ok"," done. Thanks.'""",,,,,,,,,,,,,,,,,,,,
devise,3006,closed,closed,2014-05-21 23:07:23,136.77,0,3,5,,,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,7,2014-04-30 16:01:10,11.27,,,1,"b""b' Thanks.'""",,,,,,,,,,,,,,,,,,,,,
devise,3006,closed,-,-,-,0,3,6,,,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,opened,2014-05-05 08:36:57,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,title,2014-05-05 08:36:57,00:00,,1,,"b""b' Split send_reset_password_instructions for better hooking'""",,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,body,2014-05-05 08:36:57,00:00,,1,,"b""b' Earlier", when we used to customize the recoverable module of the Devise, we need to override both the reset_password_token generation logic and the email sending logic in the same function i.e.  . Now, consider a use case where we want to generate the random link for our users and send the SMS instead of an email to the user. If we were to override the then we have to use the generation logic as it is and the email sending logic needs to be replaced with the SMS sending one. The principle of DRY is violated here. So here, I suggest the splitting up of the into two methods namely and  . The is responsible for the generation and setting of the of the user. The is responsible for the delivery of the email. You can override the if you want to customize the reset_password_token generation and setting logic. Similarly," you can override the for sending the SMS or changing Email sending logic.'""",,,,,,,,,,,,,,,,
devise,3013,closed,1,2014-05-05 08:36:57,263.63,,1,,"b'b"" With this changes we are calling twice"," so even splitting up the methods might sound better this sound sounds like a improvement to me. Can\'t you achieve the same scenario you want with [send_devise_notifications]url ""'",,,,,,,,,,,,,,,,,,,,
devise,3013,closed,2,2014-05-05 08:36:57,87.53,,1,,"b'b"" Hi @lucasmazza", I agree with you on this, But I think instead of overriding one of the core methods of Devise, I would prefer to split this method into two method. This has been already implemented in the module, where the does the job of only sending in the notification and does the task of setting the confirmation token.  As far as saving the second is concerned," we can use instead of as we don\'t want to run any callbacks here.  I am open to renaming the names of methods that I have used in splitting up the  .""'",,,,,,,,,,,,,,,,
devise,3013,closed,3,2014-05-05 08:36:57,26.68,,1,,"b""b' Even with we would still do 2 hits on db", and is there to be extended with your application specific case. Anyway," I think an API in the same fashion as the one on the Confirmable module (where one method does all the persistence and another one does the delivery) it could be OK to go with it.'""",,,,,,,,,,,,,,,,,,,
devise,3013,closed,closed,2014-05-05 16:12:23,455.43,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,reopened,2014-05-05 16:12:30,0.12,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,4,2014-05-05 08:36:57,148.97,,,1,"b""b' @lucasmazza"," are we good to merge??'""",,,,,,,,,,,,,,,,,,,,
devise,3013,closed,5,2014-05-05 08:36:57,127.92,,1,,"b'b"" @aditya-kapoor no"," but I\'m going to do some inline comments so we can get this one in shape.""'",,,,,,,,,,,,,,,,,,,,
devise,3013,closed,6,2014-05-05 08:36:57,24.17,,,1,"b""b' @lucasmazza done....:smile:'""",,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,closed,2014-05-05 20:45:09,272.65,0,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,7,2014-05-05 08:36:57,610.18,,,1,"b""b' Thank you... :heart: :green_heart: :blue_heart: :yellow_heart: :purple_heart:'""",,,,,,,,,,,,,,,,,,,,,
devise,3013,closed,-,-,-,0,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,opened,2014-09-01 13:18:32,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,title,2014-09-01 13:18:32,00:00,,1,,"b""b' How to use Devise Inside a Mountable Engine'""",,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,body,2014-09-01 13:18:32,00:00,,,1,"b'b\' I followed the steps from url  every thing goes perfectly until i reach the command ""rails generate devise MODEL""i replaced MODEL as UserIt shows error invoke  active_record create  /-1.9.3-p547/-4.1.5/:541:in  retrieve_connection\\\'  from /-1.9.3-p547/-4.1.5/:87:in  postgresql?\\\'  from /-1.9.3-p547/-3.3.0/:78:in  ip_column\\\'  from /-1.9.3-p547/-3.3.0/:56:in  migration_template\\\'  from /-1.9.3-p547/:838:in  result\\\'  from /-1.9.3-p547/-4.1.5/:64:in  call\\\'  from /-1.9.3-p547/-0.19.1/:53:in  block (2 levels) in invoke!\\\'  from /-1.9.3-p547/-0.19.1/:62:in  block in invoke!\\\'  from /-1.9.3-p547/-0.19.1/:116:in  invoke_with_conflict_check\\\'  from /-1.9.3-p547/-0.19.1/:60:in  action\\\'  from /-1.9.3-p547/-4.1.5/:34:in  migration_template\\\'  from /-1.9.3-p547/-3.3.0/:16:in  run\\\'  from /-1.9.3-p547/-0.19.1/:126:in  block in invoke_all\\\'  from /-1.9.3-p547/-0.19.1/:133:in  map\\\'  from /-1.9.3-p547/-0.19.1/:133:in  dispatch\\\'  from /-1.9.3-p547/-0.19.1/:115:in  block in _invoke_for_class_method\\\'  from /-1.9.3-p547/-0.19.1/:68:in  _invoke_for_class_method\\\'  from /-1.9.3-p547/-0.19.1/:149:in  run\\\'  from /-1.9.3-p547/-0.19.1/:126:in  block in invoke_all\\\'  from /-1.9.3-p547/-0.19.1/:133:in  map\\\'  from /-1.9.3-p547/-0.19.1/:133:in  dispatch\\\'  from /-1.9.3-p547/-0.19.1/:440:in  invoke\\\'  from /-1.9.3-p547/-4.1.5/:11:in  require\\\'  from /-1.9.3-p547/-4.1.5/:247:in  load_dependency\\\'  from /-1.9.3-p547/-4.1.5/:247:in  \\\'  from :12:in \''",,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,1,2014-09-01 13:18:32,0.43,,,1,"b""b' Please use the mailing list or stack overflow for questions"," we reserve the issues tracker for issues. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,3181,closed,closed,2014-09-01 13:18:58,0.43,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,2,2014-09-01 13:18:32,728.98,1,,,"b'b"" I\'m getting this", too, and think this issue should be reopened because it seems to be a bug in Devise. The culprit appears to be #3017 (released as part of Devise 3.3.0): when generating the migration for a Devise model, the generator checks to see if the application\'s database adapter is PostgreSQL, and if so it uses Postgres\'s column type to store IP addresses in the model\'s table. However, within an engine, the method being used to detect the database adapter doesn\'t work, and an exception is raised. Possible solutions:1. Use Devise 3.2.x instead of 3.3.x.2. Find a different way of detecting the database adapter that works both in a base application and within an engine.3. If an exception is raised when generating the migration, just use a column in the migration. I\'m a little more partial towards 3," and can write up a pull request for it.""'",,,,,,,,,,,,
devise,3181,closed,3,2014-09-01 13:18:32,27.08,,,1,"b'b"" @jbhannah thanks for the report. I think we can check if the app is using pg without having to actually establish a connection with the db. I\'ll try to look into this.""'",,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,reopened,2014-09-02 01:55:02,756.07,1,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,4,2014-09-01 13:18:32,5.62,,1,,"b""b' Meanwhile"," does anyone have a sample project with an engine so we can try this out?'""",,,,,,,,,,,,,,,,,,,,
devise,3181,closed,5,2014-09-01 13:18:32,18.65,,1,,"b'b"" The project I was working with when I came across this has basically nothing else in it", besides the engine with Devise installed but no model, so it\'d probably work well for testing. I can get that pushed shortly. On Mon, Sep 1, 2014 at 7:00 PM," Lucas Mazza notifications@wrote:""'",,,,,,,,,,,,,,,,
devise,3181,closed,closed,2014-09-02 14:26:01,750.98,1,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,6,2014-09-01 13:18:32,856.75,,,1,"b""b' :+1: Thank you!'""",,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,7,2014-09-01 13:18:32,589.15,,,1,"b""b' Thanks'""",,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,8,2014-09-01 13:18:32,1047.33,,1,,"b'b"" I\'m getting this error too. I\'m using v3.3.0 but", after a bit of source diving," I saw that this change was not in the file references in 6af18ed. I guess we\'re waiting on a pull request to be approved and merged. Do you recommend we add this fix ourselves to the gem\'s source files?""'",,,,,,,,,,,,,,,,,,,
devise,3181,closed,9,2014-09-01 13:18:32,1048.15,,1,,"b'b"" Just checked and I don\'t see an open pull request for this fix.""'",,,,,,,,,,,,,,,,,,,,,
devise,3181,closed,10,2014-09-01 13:18:32,1050.72,,1,,"b'b"" 6af18ed fixes this issue", but was committed to master after the release of v3.3.0. Hopefully it\'ll be in v3.3.1 when that comes out," but in the meantime using it from master should work:  ""'",,,,,,,,,,,,,,,,,,,
devise,3181,closed,11,2014-09-01 13:18:32,1399.55,,,1,"b'b"" I\'m working on an engine and haven\'t figured out how to specify a GitHub repo for a gem in a file. Thanks for the heads up!\\xe2\\x80\\x94Sent from Mailbox On Tue", Sep 30, 2014 at 2:50 PM," Jesse B. Hannah notifications@wrote:""'",,,,,,,,,,,,,,,,,,
devise,3181,closed,-,-,-,1,6,6,,,,,,,,,,,,,,,,,,,,,,
devise,3275,closed,opened,2014-10-26 17:46:49,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3275,closed,title,2014-10-26 17:46:49,00:00,,1,,"b""b' Instructions for configuring controller'""",,,,,,,,,,,,,,,,,,,,,
devise,3275,closed,body,2014-10-26 17:46:49,00:00,,1,,b'b\' IN the section for configuring controller you have the following line for routes devise_for :admins," controllers: { sessions: """" } should this in fact be the following?: devise_for :users"," controllers: { sessions: """" }\''",,,,,,,,,,,,,,,,,,,
devise,3275,closed,1,2014-10-26 17:46:49,15.32,,1,,"b""b' it depends. in the configuring controller we are talking about customizing the admin cpde. if you want to customize users"," then we shuold change to what you proposed.'""",,,,,,,,,,,,,,,,,,,,
devise,3275,closed,2,2014-10-26 17:46:49,4.65,,1,,b'b\' Hmm, well this is where I am coming fromIf I have a User model users controller and carry out the followingrails generate devise:controllers Admins If I then change the route to be the following I get routing errosdevise_for :admins," controllers: { sessions: """" } However", if I use the code as I suggested all is well and uses the correct views and controllerdevise_for :users," controllers: { sessions: """" } To be clear I am only talking about the section of the instructions that deals with Configuring controllers. Does this make sense or am I missing something?\''",,,,,,,,,,,,,,,,,
devise,3275,closed,3,2014-10-26 17:46:49,4.57,,1,,"b""b' that session is just an example. if you have a user model", you definitely need to adapt the example," using something like instead.'""",,,,,,,,,,,,,,,,,,,
devise,3275,closed,closed,2014-10-26 18:11:21,24.53,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3275,closed,4,2014-10-26 17:46:49,2.58,,,1,"b'b"" OK"," understood. Although I\'d still change the instructions so that there is continuity with what you have described. If you read through you\'ll see what I mean. Thanks for the support and happy for the issue to be closed.""'",,,,,,,,,,,,,,,,,,,,
devise,3275,closed,5,2014-10-26 17:46:49,7.2,,1,,"b""b' Ah", now I see what you mean. Yeah," we could change everything in there to users. Can you please send a pull request? :)'""",,,,,,,,,,,,,,,,,,,
devise,3275,closed,reopened,2014-10-26 18:21:08,9.78,0,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,3275,closed,6,2014-10-26 17:46:49,3.85,,1,,"b""b' will do '""",,,,,,,,,,,,,,,,,,,,,
devise,3275,closed,closed,2014-10-26 18:24:59,3.85,0,7,1,,,,,,,,,,,,,,,,,,,,,,
devise,3275,closed,-,-,-,0,7,1,,,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,opened,2014-11-05 20:39:36,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,title,2014-11-05 20:39:36,00:00,,1,,"b'b"" Include URI\'s fragment in  ""'",,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,body,2014-11-05 20:39:36,00:00,,,1,"b'b"" Hey devise", currently ignores the fragment part of the URI, ie: Is this intended? If not," I\'d be more than happy to provide a pull-request that changes the behaviour to include the fragment. Cheers!""'",,,,,,,,,,,,,,,,,,
devise,3295,closed,1,2014-11-05 20:39:36,1.68,,1,,"b""b' Most browsers do not send the url fragment. It is kept in the client only.'""",,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,closed,2014-11-05 20:41:18,1.7,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,2,2014-11-05 20:39:36,12.45,,1,,"b'b"" Assuming you\'re talking about the HTTP referrer", that\'s probably correct, but there are other use cases where this can be helpful (eg:  ). Given that is public API," I do not see why it should be restricted to whatever the browser sends as the referrer value. Care to reconsider?""'",,,,,,,,,,,,,,,,,,
devise,3295,closed,3,2014-11-05 20:39:36,7.05,,1,,"b""b' I think you might further explain that the specific use case (real and sane I think) is to redirect to a frontend application path after login which use hashtag for routing.'""",,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,4,2014-11-05 20:39:36,4.0,1,,,"b""b' To be clear", this URL has no fragment," it has a query string. And we do store the query string (we did not in some versions but it has been fixed): url '""",,,,,,,,,,,,,,,,,,,
devise,3295,closed,5,2014-11-05 20:39:36,1.3,,1,,"b""b' Unless I am missing something in your proposal"," we can only store what the client send us.  We cannot store the part of the URI because the server never sees it.'""",,,,,,,,,,,,,,,,,,,,
devise,3295,closed,6,2014-11-05 20:39:36,12.98,,1,,"b'b"" I guess I wasn\'t clear enough; I assumed that would get passed to  . A full code example would look like this: So basically what I\'d like to change the code to is: Is it more clear?""'",,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,7,2014-11-05 20:39:36,2.08,,1,,"b""b' Sorry", now it is clear. I have misread the whole issue. Yes," you are right and a pull request would be super appreciated!'""",,,,,,,,,,,,,,,,,,,
devise,3295,closed,reopened,2014-11-05 21:21:09,39.85,1,7,1,,,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,8,2014-11-05 20:39:36,36.73,,,1,"b'b"" Awesome"," thanks! Here\'s the pull request.""'",,,,,,,,,,,,,,,,,,,,
devise,3295,closed,closed,2014-11-05 22:06:28,45.32,1,7,2,,,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,9,2014-11-05 20:39:36,8.6,,1,,"b""b'  :heart: :green_heart: :blue_heart: :yellow_heart: :purple_heart:'""",,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,10,2014-11-05 20:39:36,13.98,,,1,"b""b' :+1: Thanks'""",,,,,,,,,,,,,,,,,,,,,
devise,3295,closed,-,-,-,1,8,3,,,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,opened,2014-11-17 19:45:22,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,title,2014-11-17 19:45:22,00:00,,1,,"b""b' Only set token back if password reset fails.'""",,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,body,2014-11-17 19:45:22,00:00,,1,,"b""b' This prevents the digested version of the token being saved when a reset is successful.'""",,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,closed,2014-11-17 20:00:08,14.77,0,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,reopened,2014-11-17 20:00:49,0.68,0,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,1,2014-11-17 19:45:22,15.87,,1,,"b'b"" It looks like this build failed with network-ish type errors. I\'ve just rebased and re-pushed. Let me know if there\'s anything else you need.""'",,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,2,2014-11-17 19:45:22,81.55,,1,,"b""b' Also", the failing test seems to be failing on master," too.'""",,,,,,,,,,,,,,,,,,,
devise,3318,closed,3,2014-11-17 19:45:22,97.22,,1,,"b""b' @josevalim Changed the test coverage to a unit test. Everything is green"," except for the test which is failing on master.'""",,,,,,,,,,,,,,,,,,,,
devise,3318,closed,closed,2014-12-02 10:12:12,851.38,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,4,2014-11-17 19:45:22,672.62,,1,,"b""b' We have the same issue on confirmable and lockable. Would you be kind to provide another pull request? :)'""",,,,,,,,,,,,,,,,,,,,,
devise,3318,closed,5,2014-11-17 19:45:22,908.25,,,1,"b""b' Thanks"," @josevalim! I will endeavor to get the other pull request filed over the weekend :)'""",,,,,,,,,,,,,,,,,,,,
devise,3318,closed,-,-,-,0,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,3337,closed,opened,2014-11-23 21:38:10,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3337,closed,title,2014-11-23 21:38:10,00:00,,1,,"b""b' getaddrinfo: nodename nor servname provided"," or not known'""",,,,,,,,,,,,,,,,,,,,
devise,3337,closed,body,2014-11-23 21:38:10,00:00,,,1,"b'b"" For some reason I\'m getting the following Any help here would be great! p.s. The repcatcha doesn\'t show right away when I visit my  page"," it only shows on refresh? How can we get it to display right away?""'",,,,,,,,,,,,,,,,,,,,
devise,3337,closed,1,2014-11-23 21:38:10,1.43,,1,,b'b\' I believe this is something related to recaptcha gem.On Nov 24, 2014 3:38 AM,"Apane"" notifications@ wrote:\''
devise	3337	closed	2	josevalim	2014-11-23 21:38:10	0.2			+1	b""b'  You need to give us more information on how to reproduce this issue, otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'",,,,,,,,,,,,,,,,,,,
devise,3337,closed,closed,2014-11-23 21:39:48,1.63,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,3337,closed,3,2014-11-23 21:38:10,0.23,,,1,"b'b"" also", please keep in mind  The wiki is maintained by the community. So if there aren\'t any up to date instructions," we recommend you to explore the solution yourself and hopefully contribute your findings back!""'",,,,,,,,,,,,,,,,,,,
devise,3337,closed,reopened,2014-11-23 21:40:02,0.23,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,3337,closed,closed,2014-11-23 21:40:03,0.02,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,3337,closed,4,2014-11-23 21:38:10,32.23,,,1,"b'b"" Thanks @josevalim ", I\'ve made a post to Stackoverflow about this with more details as to how I\'ve setup my registrations controller, routes, and view logic.. Hopefully that will help in allowing others to re-produce the issue.  You can view the post here: url  I\'ve followed the instructions provided by Devise step by step as well as the Recaptcha gem instructions. Not sure what the issue is," seems like an obscure error. ""'",,,,,,,,,,,,,,,,,
devise,3337,closed,5,2014-11-23 21:38:10,923.68,,1,,"b""b' Same error", just using this gem with a standard form," not devise.'""",,,,,,,,,,,,,,,,,,,
devise,3337,closed,-,-,-,0,3,4,,,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,opened,2015-01-10 16:15:37,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,title,2015-01-10 16:15:37,00:00,,1,,"b""b' Confirmable API'""",,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,body,2015-01-10 16:15:37,00:00,,1,,"b'b"" Hi @josevalim", As I was looking at the method in confirmable: url  And find the API a bit odd. expects users to check for its return value, true or false, to detect possible errors.This might not be a reasonable assumption. The name of the method implies that it would raise, similarly to the vs behavior. Here\'s some data to backup my claims:GitLab, a rails app made by fairly advanced coders exhibits the mistake: url Lots of small applications contain this mistake: url  So I\'d say that should use instead of returning . Or be renamed to just  , or  , to make it explicit to the user should check for the return value. What do you think? Side note: I have personal interest to go with the route, because NoBrainer\'s method has the same semantics as other ORMs," unlike which behaves like  .""'",,,,,,,,,,,,
devise,3412,closed,1,2015-01-10 16:15:37,172.62,,,1,"b'b"" Thanks. I don\'t think we use save! anywhere though"," do we? The issue is that using would extend Devise\'s API... So we should either not use and then raise ourselves or rename the method to (keep with a deprecation warning).""'",,,,,,,,,,,,,,,,,,,,
devise,3412,closed,2,2015-01-10 16:15:37,8.98,,1,,"b""b'   is not used in the codebase"," only and  . There is only one other method where validations are run and the method is a bang: url  so we might rename to as well.'""",,,,,,,,,,,,,,,,,,,,
devise,3412,closed,3,2015-01-10 16:15:37,3.67,,,1,"b""b' Agreed"," that would be best!\\xe2\\x80\\x8b Thanks for looking into this!'""",,,,,,,,,,,,,,,,,,,,
devise,3412,closed,4,2015-01-10 16:15:37,748.83,,1,,"b""b' Btw"," can you please submit a pull request? :)'""",,,,,,,,,,,,,,,,,,,,
devise,3412,closed,5,2015-01-10 16:15:37,407.23,1,,,"b'b"" I\'ve submitted a PR (#3570). Also I have a bit of a problem with compatiblity with [NoBrainer]url  and the adapter [devise-nobrainer]url  The AR equivalent in NoBrainer of is (and is  ).Everywhere is used", it doesn\'t matter. But when validations are performed it matters as NoBrainer raises an exception while devise expect no exception. There are two places is called and performs validations:url url  Side node: there are 13 places where save is called without performing validations (that seems a bit odd, but whatever). So to make NoBrainer compatible with devise, I make these two calls to call NoBrainer\'s  .A few solutions: 1) Since it\'s only two call to change, it\'s simple enough to do a  .2) We could modify orm_adapter to provide a layer of indirection for  3) But the orm_adapter project doesn\'t seem to be much maintained. Further, orm_adapter is not really used by any other project besides devise. Popular libraries seem to provide in-library adapters, which is easier to maintain. (e.g. url  So we could remove the dependency on orm_adapter," and roll in-library adapters. What do you think we should do?""'",,,,,,,,,,,,,,
devise,3412,closed,closed,2015-04-21 08:30:44,975.12,1,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,6,2015-01-10 16:15:37,1211.45,,1,,"b""b' Before closing"," can you address my latest comment?Should I do a PR to go with 1) ?'""",,,,,,,,,,,,,,,,,,,,
devise,3412,closed,7,2015-01-10 16:15:37,10.5,1,,,"b'b"" I could swear I had written a reply", sorry. I don\'t think we should change Devise due to an ORM. The only short-term option I have in mind right now is to pass option to all save calls," then you can monkey-patch no brainer and do the proper thing based on the :validate option. The long-term option is to improve orm_adapter (I am a maintainer) to have a save function so we could do or something similar.""'",,,,,,,,,,,,,,,,,,,
devise,3412,closed,8,2015-01-10 16:15:37,13.6,,1,,"b'b"" going with the route will not work due to the uniqueness validations. (e.g. NoBrainer acquires locks to avoid races with uniqueness validations and persistence). So let\'s do the solution :)Should you do it"," or should I make a PR (which I will do it next week though)?""'",,,,,,,,,,,,,,,,,,,,
devise,3412,closed,9,2015-01-10 16:15:37,35.3,,,1,"b""b' Please do send a PR! ##  _Jos\\xc3\\xa9 url  and Lead Developer_'""",,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,10,2015-01-10 16:15:37,274.63,,1,,"b""b' Done: url url '""",,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,reopened,2015-05-02 16:23:58,473.23,2,7,3,,,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,closed,2015-05-02 16:24:36,0.63,2,7,3,,,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,11,2015-01-10 16:15:37,365.03,,1,,"b""b' ping :)'""",,,,,,,,,,,,,,,,,,,,,
devise,3412,closed,12,2015-01-10 16:15:37,759.5,,1,,"b""b' Nevermind"," I no longer need the abstraction.'""",,,,,,,,,,,,,,,,,,,,
devise,3412,closed,-,-,-,2,9,3,,,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,opened,2015-01-28 21:33:36,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,title,2015-01-28 21:33:36,00:00,,1,,"b""b' Remove responders gem'""",,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,body,2015-01-28 21:33:36,00:00,,1,,"b""b' Since Rails 4.2 the method has been extracted within the responders gem. Devise is using it right now but should do the migration by replacing by:  '""",,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,1,2015-01-28 21:33:36,1.67,,1,,"b""b' We have no plans to remove the responders gem. :)'""",,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,closed,2015-01-28 21:35:16,1.67,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,2,2015-01-28 21:33:36,6.27,1,,,"b'b"" Well this issue could stay open and have someone else doing it for you. I don\'t like gems adding too much dependencies. Really it\'s useless and Devise is not using so often. Why not keeping this open and see what happen ?""'",,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,3,2015-01-28 21:33:36,9.53,,1,,"b'b"" We don\'t have plans even to remove if someone does the work. There is no way we can implement Devise in a way people can add custom formats later on without reimplementing half of the responders gem. If we use respond_to"," which formats should we choose? html and js? What if someone else wants xml? Or a custom json? Or something for mobile? We don\'t like extra dependencies too and responders has a very specific purpose.""'",,,,,,,,,,,,,,,,,,,,
devise,3441,closed,reopened,2015-01-28 21:51:04,15.8,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,closed,2015-01-28 21:51:05,0.02,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,4,2015-01-28 21:33:36,2.07,,1,,"b'b"" It make sense ... but I still don\'t like it. :( Anyway thank you for your answer :)""'",,,,,,,,,,,,,,,,,,,,,
devise,3441,closed,-,-,-,1,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3466,closed,opened,2015-02-13 00:39:03,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3466,closed,title,2015-02-13 00:39:03,00:00,,1,,"b""b' Automatically logging a user in after a password reset'""",,,,,,,,,,,,,,,,,,,,,
devise,3466,closed,body,2015-02-13 00:39:03,00:00,,,1,"b'b"" It\'s fine for this to remain the default", but there should be a configurable option to turn this off. For some, this is a security issue," and they end up having to override the controller and simply remove the one line. Is there a reason this isn\'t a configurable option? :)""'",,,,,,,,,,,,,,,,,,
devise,3466,closed,1,2015-02-13 00:39:03,460.92,,1,,"b""b' Users that want to customize this behaviour can just provide their own controllers. Devise already has too many options and we cannot provide an option around every behaviour that an action goes about. :)'""",,,,,,,,,,,,,,,,,,,,,
devise,3466,closed,closed,2015-02-13 08:19:58,460.92,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3466,closed,2,2015-02-13 00:39:03,4.82,1,,,"b""b' josevalim", while normally I would agree with you, I would pose the argument that options for secure defaults should be prioritized over other options. Given that this can be insecure (for example," if using two-factor-authentication) I would argue this is an important option to have. Thoughts?'""",,,,,,,,,,,,,,,,,,
devise,3466,closed,3,2015-02-13 00:39:03,11.27,,,1,"b""b' Good point"," I forgot about two-factor auth. A pull request would be welcome! :D Thank you!'""",,,,,,,,,,,,,,,,,,,,
devise,3466,closed,4,2015-02-13 00:39:03,8.73,1,,,"b'b"" No problem we wrote the gem and are about to modify the readme with [this]url  but it\'s ugly and shouldn\'t be necessary"," which was why this was important to me. :) Mind re-opening the issue so I can be reminded to pull req?""'",,,,,,,,,,,,,,,,,,,,
devise,3466,closed,reopened,2015-02-13 08:45:11,25.22,2,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,3466,closed,5,2015-02-13 00:39:03,658.63,,1,,"b""b' Pull req merged"," so closing this issue now.'""",,,,,,,,,,,,,,,,,,,,
devise,3466,closed,closed,2015-02-13 19:43:25,658.23,2,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,3466,closed,-,-,-,2,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,opened,2015-02-15 11:09:12,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,title,2015-02-15 11:09:12,00:00,,1,,"b""b' undefined method '""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,body,2015-02-15 11:09:12,00:00,,1,,b'b\' Rails 4.2 & Mongoid 4.0.1 & devise 3.4.1This occured when I test the sign_in method by Rspec in file sessions_controller_," and the error is at ... at line 36: it seems that something wrong and result in ""warden"" is nilthe demo repo is here: url \''",,,,,,,,,,,,,,,,,,,,
devise,3475,closed,1,2015-02-15 11:09:12,31.92,,1,,"b""b' Did you include Devise test helpers in your controller specs?'""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,2,2015-02-15 11:09:12,0.68,,1,,"b""b' Ah", nevermind," I can see that you did.'""",,,,,,,,,,,,,,,,,,,
devise,3475,closed,3,2015-02-15 11:09:12,684.48,,1,,"b""b' I am having the same issue.'""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,4,2015-02-15 11:09:12,563.68,,1,,"b""b' +1 Also facing the same issue.'""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,5,2015-02-15 11:09:12,676.48,,1,,"b'b\' ditto. ""undefined method \\\'user\\\' for nil:NilClass"" when trying to after  .\''",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,6,2015-02-15 11:09:12,937.6,,1,,"b""b' I am facing the same issue too. Any updates on this?'""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,7,2015-02-15 11:09:12,1182.85,,1,,"b""b' I figured the problem. It looks like there are some areas in Devise which require a **new_user_session** named route to exist.  In my case", I figured out that here  url  After adding that route in my app," the **undefined method '""",,,,,,,,,,,,,,,,,,,
devise,3475,closed,8,2015-02-15 11:09:12,207.62,,1,,"b""b' For me"," the issue was not including the test helpers in the controller specs. '""",,,,,,,,,,,,,,,,,,,,
devise,3475,closed,closed,2015-04-15 06:15:14,1146.03,0,10,0,,,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,9,2015-02-15 11:09:12,1253.63,,1,,"b'b"" I have devise_for :users and rake routes shows new_user_session. I am still getting undefined method  sign_in\'. I have  Devise::TestHelpers"," :type = in the spec_. Any ideas on how to fix this issue?""'",,,,,,,,,,,,,,,,,,,,
devise,3475,closed,10,2015-02-15 11:09:12,463.85,,1,,"b""b' @bparanj move  to url '""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,11,2015-02-15 11:09:12,714.25,,1,,"b'b"" I have decided to ditch devise and roll my own. It\'s too obese for my projects.""'",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,12,2015-02-15 11:09:12,24.2,,1,,"b'b"" @kfalconer\'s suggestion fixed it for me.""'",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,13,2015-02-15 11:09:12,819.95,,1,,"b""b' I still have this issue after adding to  '""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,14,2015-02-15 11:09:12,306.45,,1,,"b""b' Ditch the bloated devise. Build your own authentication from scratch. Read : url url url url '""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,15,2015-02-15 11:09:12,24.37,,1,,"b'b"" @bparanj I usually don\'t mind rolling your own things", it is great for better understanding how things work, but I would be very skeptical about rolling your own authentication due to all security reasons. For example, exploring the links you have sent above," I have found the following flaws in the proposed implementation:1. Sign in is vulnerable to session fixation attack2. Sign in is vulnerable to CSRF token fixation attack3. Application may be vulnerable to CSRF attacks since it does not properly handle_unverified_request4. Tokens are stored in clear text in the database 5. Token lookup for password protection is unsafe if using MySQL due to parameter casting6. Password tokens are not reset when e-mail or password changes7. Password tokens are vulnerable to timing attacks (since a DB comparison is not secure) And this is through a quick glance through the code (you have posted it 20 minutes ago). More bugs are likely hidden there.""'",,,,,,,,,,,,,,,,,
devise,3475,closed,16,2015-02-15 11:09:12,69.62,,,1,"b""b' I am aware of some of these issues. It is also on my to do list. Thanks for pointing them out. I will work on fixing them. '""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,17,2015-02-15 11:09:12,248.92,,1,,"b'b"" I\'m still running into this issue even with the helpers. Can we reopen this?""'",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,18,2015-02-15 11:09:12,408.02,,,1,"b""b' @carloscheddar Can you provide a sample app showing the problem? Otherwise we have no way to reproduce. Thanks.'""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,reopened,2016-06-07 17:07:29,652.25,0,18,2,,,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,19,2015-02-15 11:09:12,395.58,1,,,"b""b' False alarm.  I found my mistake and deleted my comment.  This can be closed.'""",,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,closed,2016-06-07 17:38:26,30.95,1,18,2,,,,,,,,,,,,,,,,,,,,,,
devise,3475,closed,-,-,-,1,18,2,,,,,,,,,,,,,,,,,,,,,,
devise,3492,closed,opened,2015-02-24 13:05:30,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3492,closed,title,2015-02-24 13:05:30,00:00,,1,,"b""b' Custom login form redirects to normal login form when using SSL'""",,,,,,,,,,,,,,,,,,,,,
devise,3492,closed,body,2015-02-24 13:05:30,00:00,,,1,"b'b"" Heya. I have a landingpage with a custom devise signin form. I\'ve followed the instructions described here: url  Local im not running SSL", and the login procedure works fine, and the user gets logged in etc. But in production, I\'ve enabled SSL for /. When I then try to log in via the landingpage custom signin form, I only get redirected to / with the normal login form, with no message," nothing. Is this because SSL is enabled for that particular route or? Regards""'",,,,,,,,,,,,,,,
devise,3492,closed,1,2015-02-24 13:05:30,0.97,,,1,"b""b' Please use the mailing list or stack overflow for questions"," we reserve the issues tracker for issues. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,3492,closed,closed,2015-02-24 13:06:29,0.98,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,3492,closed,2,2015-02-24 13:05:30,6.7,,1,,"b'b"" It\'s an issue?""'",,,,,,,,,,,,,,,,,,,,,
devise,3492,closed,3,2015-02-24 13:05:30,1.07,,,1,"b""b' If it is an issue",  You need to give us more information on how to reproduce this issue," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,3492,closed,reopened,2015-02-24 13:14:14,7.75,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,3492,closed,closed,2015-02-24 13:14:16,0.03,0,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,3492,closed,4,2015-02-24 13:05:30,4.5,,,1,b'b\' josevalim I described the recipe in my first post?!...Insert a custom login form (the one described here: url Edit  with the following:  Push app to production environment with valid SSL certificate etc.Try to log in with the custom form. My issue is, that it doesnt log me in," it redirects me to the normal login form found at: ""/"" (new_session_path I guess)\''",,,,,,,,,,,,,,,,,,,
devise,3492,closed,-,-,-,0,2,4,,,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,opened,2015-02-24 19:07:34,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,title,2015-02-24 19:07:34,00:00,,1,,"b""b' allow Devise::Models::Authenticatable to be loaded before Rails'""",,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,body,2015-02-24 19:07:34,00:00,,1,,"b""b' I am using some Devise modules in a Sinatra app.  Because Devise::Models::Authenticatable expects Rails to be defined", I need to add the following hack: However, while this solves the immediate problem of making it possible to  , it creates a new set of problemsother gems ([annotate]url  and recent versions of [paperclip]url  [delayed_job]url  and [ActiveRecord]url  use to determine whether some component of Rails is loaded. Since the Rails version is being checked to determine whether is defined, it would be more appropriate to check the version of ActiveModel anyway," since that is where lives.'""",,,,,,,,,,,,,,,,
devise,3493,closed,1,2015-02-24 19:07:34,2.78,,1,,"b'b"" By the way"," there are a lot of other tweaks that would make it easier to use devise with Sinatra.  Let me know if you\'d consider a PR to make this a little easier.  I\'d include documentation and keep it fully backwards-compatible.""'",,,,,,,,,,,,,,,,,,,,
devise,3493,closed,2,2015-02-24 19:07:34,56.97,,1,,"b'b"" Your suggestion about the version check makes sense. I\'m going to merge it. However"," we don\'t support using Devise on top of Sinatra since almost all devise features are Rails specific.""'",,,,,,,,,,,,,,,,,,,,
devise,3493,closed,3,2015-02-24 19:07:34,1.0,,1,,"b""b' The build is failing. Can you look at it? url '""",,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,4,2015-02-24 19:07:34,86.65,,,1,"b""b' Fixed.  I had to explicitly for Rails 4.  Thank you for agreeing to merge so quickly!I disagree.  Several Devise::Model modules have been very helpful in implementing secure authentication in Sinatra.  This ticket is probably the wrong place for this discussion"," so where would be an appropriate place to continue it?'""",,,,,,,,,,,,,,,,,,,,
devise,3493,closed,5,2015-02-24 19:07:34,9.73,,1,,"b'b"" I know you can use some Devise modules in general Ruby applications notjust Rails", but I think we as maintainers, don\'t want to support anythingbesides Rails right now. On Tue, Feb 24,2015," 18:35 betesh notifications@ wrote:""'",,,,,,,,,,,,,,,,
devise,3493,closed,6,2015-02-24 19:07:34,7.28,,1,,"b""b' OK Fair enough.'""",,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,7,2015-02-24 19:07:34,1003.1,,1,,"b'b"" You\'re still planning to merge this"," correct?""'",,,,,,,,,,,,,,,,,,,,
devise,3493,closed,8,2015-02-24 19:07:34,11.47,,1,,"b""b' This one yes'""",,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,closed,2015-02-25 14:46:33,1178.98,0,9,1,,,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,reopened,2015-02-25 14:46:35,0.03,0,9,1,,,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,closed,2015-02-25 14:46:37,0.03,0,9,1,,,,,,,,,,,,,,,,,,,,,,
devise,3493,closed,-,-,-,0,9,1,,,,,,,,,,,,,,,,,,,,,,
devise,3528,closed,opened,2015-03-21 12:35:36,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3528,closed,title,2015-03-21 12:35:36,00:00,,1,,"b""b' Unable to login in to Active Admin'""",,,,,,,,,,,,,,,,,,,,,
devise,3528,closed,body,2015-03-21 12:35:36,00:00,,,1,"b""b' Hello", Since modifying Devise," I seem to no longer be able to login to Active Admin with the default email: admin@ and password: password.  I get the error: Invalid login or password. I followed this guide to add username to users:url  Thank you for all your help :) Michael'""",,,,,,,,,,,,,,,,,,,
devise,3528,closed,1,2015-03-21 12:35:36,28.9,,,1,"b'b""  The wiki is maintained by the community. So if there aren\'t any up to date instructions"," we recommend you to explore the solution yourself and hopefully contribute your findings back!""'",,,,,,,,,,,,,,,,,,,,
devise,3528,closed,closed,2015-03-21 13:04:31,28.92,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,3528,closed,2,2015-03-21 12:35:36,0.22,,1,,"b""b' Also", if you have any questions,  Please use the mailing list or StackOverflow for ," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,
devise,3528,closed,reopened,2015-03-21 13:04:43,0.2,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,3528,closed,closed,2015-03-21 13:04:45,0.03,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,3528,closed,-,-,-,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,3559,closed,opened,2015-04-16 08:54:51,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3559,closed,title,2015-04-16 08:54:51,00:00,,1,,"b""b' Unable to unlock user with link from unlock e-mail'""",,,,,,,,,,,,,,,,,,,,,
devise,3559,closed,body,2015-04-16 08:54:51,00:00,,,1,b'b\' When user receives an e-mail with unlock link," clicking on it renders the unlock page with error ""Unlock Token is invalid"". Below is the smallest spec that I was able to make to reproduce the issue:   Devise config: I willing to bet that I am doing something wrong", but I am unable to understand what exactly. The devise source has no obvious omissions and the tests seem legit. Any ideas? Thanks in advance for your time and attention. Using devise 3.4.1\'',,,,,,,,,,,,,,,,,,,
devise,3559,closed,1,2015-04-16 08:54:51,1384.62,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,3559,closed,closed,2015-04-19 07:59:28,1384.62,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3559,closed,reopened,2015-04-19 07:59:33,0.08,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3559,closed,closed,2015-04-19 07:59:45,0.2,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3559,closed,2,2015-04-16 08:54:51,49.08,,1,,"b'b"" The problem was an overriden e-mail template from an old version of devise"," here\'s the diff that fixes the problem:  ""'",,,,,,,,,,,,,,,,,,,,
devise,3559,closed,-,-,-,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,3600,closed,opened,2015-05-21 06:34:58,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3600,closed,title,2015-05-21 06:34:58,00:00,,1,,"b'b""  doesn\'t seem to work.""'",,,,,,,,,,,,,,,,,,,,,
devise,3600,closed,body,2015-05-21 06:34:58,00:00,,1,,b'b\' reset_password_token was 9e9a04d97752d67e2bef938d36bf43bd99d6d0dd7263a0cd4f00313ab559dca1," but it doesn\\\'t update password. Parameters: {""user""=>{""password""=>""[FILTERED]""","password_confirmation""=>""[FILTERED]","reset_password_token""=>""[FILTERED]""}, ""password""=>{""user""=>{""password""=>""[FILTERED]","password_confirmation""=>""[FILTERED]","reset_password_token""=>""[FILTERED]""}}} User Load (0.3ms)  SELECT  ""users"".\\\\* FROM ""users"" WHERE ""users"".""reset_password_token"" = $1  ORDER BY ""users"".""id"" ASC LIMIT 1  [[""reset_password_token","fcab88a798715ba31dbfe6f63223e0033ff6e7b6efb1355ca081dcbd1ae5278f""]]\''
devise	3600	closed	closed	 - 	2015-05-21 06:35:36	0.63	0	2	0
devise	3600	closed	reopened	 - 	2015-05-21 06:36:24	0.8	0	2	0
devise	3600	closed	1	josevalim	2015-05-21 06:34:58	64.62			+1	b""b'  You need to give us more information on how to reproduce this issue, otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'",,,,,,,,,,,,,,,
devise,3600,closed,closed,2015-05-21 07:39:35,63.18,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3600,closed,2,2015-05-21 06:34:58,10.1,,1,,"b'b"" I was going to implement reset password with REST API. My custom passwords controller looks like following. def update  user = (params[:user])  if ?  render json: {}  else  respond_with_namespace(user)  end  end but it doesn\'t seem to update password.""'",,,,,,,,,,,,,,,,,,,,,
devise,3600,closed,3,2015-05-21 06:34:58,52.28,,1,,"b""b' #3600'""",,,,,,,,,,,,,,,,,,,,,
devise,3600,closed,4,2015-05-21 06:34:58,607.0,,1,,"b""b' I solved this issue.I had to use @token variable on the reset_password_instructions mailer instead of @'""",,,,,,,,,,,,,,,,,,,,,
devise,3600,closed,5,2015-05-21 06:34:58,758.33,,1,,"b""b' Thanks @xingle I realized I was on a bad approach.  I was trying to find the user( ) with the value sent in the email but no user could be found. Checking the database I could see that was not the same as  .  When I used rather than in the email template", finder worked but I see that it could be wrong sending the plain hash in a email.  So," the right approach is given by the method you use which uses the filtered-hash passed in the email to find the user and update its password.  Now I wonder where you found method. I have not found it in the docs. '""",,,,,,,,,,,,,,,,,,,
devise,3600,closed,6,2015-05-21 06:34:58,1398.57,1,,,"b'b"" @cesc1989 you can find the reset_password_by_token method [here]url  in the following Module: Devise::Models::Recoverable::ClassMethods. Keep in mind that the  method returns an encrypted token and a raw token. This is probably why the token @chollimee was using wasn\'t . Sorry to chime in so late"," but just came across this comment and hopefully it is useful to somebody in the future. ""'",,,,,,,,,,,,,,,,,,,,
devise,3600,closed,-,-,-,1,6,1,,,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,opened,2015-06-30 22:23:29,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,title,2015-06-30 22:23:29,00:00,,1,,"b""b' Do not use digests for confirmation tokens'""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,body,2015-06-30 22:23:29,00:00,,1,,"b'b"" Addresses url  I did this by changing as little code as possible. It\'s definitely possible to strip out entirely"," but you\'d have to change a LOT of specs. Please advise if this is up to par for your repository.""'",,,,,,,,,,,,,,,,,,,,
devise,3661,closed,1,2015-06-30 22:23:29,33.18,,1,,"b'b"" Tests pass for me"," looks like y\'all have a Travis problem involving mongoid.""'",,,,,,,,,,,,,,,,,,,,
devise,3661,closed,2,2015-06-30 22:23:29,30.25,,1,,"b""b' build fixed in url '""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,3,2015-06-30 22:23:29,186.63,,1,,"b""b'  to rerun travis build'""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,closed,2015-07-01 02:33:33,250.07,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,reopened,2015-07-01 02:33:42,0.15,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,4,2015-06-30 22:23:29,1222.73,,,1,"b""b' @josevalim @carlosantoniodasilva would love your opinion on this PR at your earliest convenience.'""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,5,2015-06-30 22:23:29,979.03,,1,,"b""b' Any chance this gets merged in soon? I kinda need it'""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,6,2015-06-30 22:23:29,705.43,,1,,"b""b' :+1: Actually", I need #3676 only," but this PR would also do.'""",,,,,,,,,,,,,,,,,,,
devise,3661,closed,7,2015-06-30 22:23:29,140.58,,,1,"b""b' Apparently [Carlos is busy]url  but hopefully he (or someone else on Devise) gets a chance to look soon!'""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,8,2015-06-30 22:23:29,1110.15,,,1,"b'b"" @carlosantoniodasilva @josevalim I would really love an update on at least when you\'ll have time to look at this. I really don\'t want to have to continue maintaining a fork.""'",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,9,2015-06-30 22:23:29,529.33,,1,,"b""b' Sorry for the delay on this @vincentwoo. I have added a new comment which is needed to keep backwards compatibility and not suddenly break all tokens. Thank you!'""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,10,2015-06-30 22:23:29,16.63,,1,,"b""b' @josevalim sure thing"," just pushed an update. Does that work for you?'""",,,,,,,,,,,,,,,,,,,,
devise,3661,closed,closed,2015-07-30 09:43:10,429.47,0,9,3,,,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,11,2015-06-30 22:23:29,45.88,,1,,"b""b'  :heart: :green_heart: :blue_heart: :yellow_heart: :purple_heart:'""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,12,2015-06-30 22:23:29,58.4,,,1,"b""b' ![john cena]url '""",,,,,,,,,,,,,,,,,,,,,
devise,3661,closed,13,2015-06-30 22:23:29,110.23,1,,,"b""b' Thank you for handling this @vincentwoo"," and sorry again about the delay :heart: '""",,,,,,,,,,,,,,,,,,,,
devise,3661,closed,-,-,-,1,10,4,,,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,opened,2015-07-02 13:34:48,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,title,2015-07-02 13:34:48,00:00,,1,,"b'b"" Devise validation fails with can\'t be blank even if I send values properly""'",,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,body,2015-07-02 13:34:48,00:00,,,1,"b'b"" I have posted this issue that I have on SO as well", I am not sure if this is an issue with Devise, probably this is not, but still I can\'t understand what am I doing wrong. url  basically, I am sending values using Postman, post request with proper headers and params, but I can\'t get passed this can\'t be blank validation error. If this is not an issue with Devise," I guess you can just close it. Thank you.  ""'",,,,,,,,,,,,,,
devise,3663,closed,1,2015-07-02 13:34:48,8.05,,,1,"b'b"" I\'m thinking this line: Should read like this: Otherwise you\'re adding an array to the list. In any case", I can\'t spot anything else just by glancing at it, but I\'ll have to ask you to please use the mailing list or stack overflow for questions," we reserve the issues tracker for issues. Thanks!""'",,,,,,,,,,,,,,,,,,
devise,3663,closed,closed,2015-07-02 13:42:51,8.05,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,2,2015-07-02 13:34:48,3.82,,,1,"b'b"" @carlosantoniodasilva thanks", I actually tried only with email and password and have the same error: can\'t be blank, this might be an issue considering the url is right," params are there and not empty.Up to you anyway.Cheers""'",,,,,,,,,,,,,,,,,,
devise,3663,closed,3,2015-07-02 13:34:48,0.82,,,1,"b""b' @rmagnum2002 interesting. Well"," can you provide a sample app that shows the issue? That would be helpful.'""",,,,,,,,,,,,,,,,,,,,
devise,3663,closed,4,2015-07-02 13:34:48,0.83,,1,,"b""b' Sure"," I will create one in a few minutes and put it on github'""",,,,,,,,,,,,,,,,,,,,
devise,3663,closed,5,2015-07-02 13:34:48,21.45,,,1,"b""b' @carlosantoniodasilva  url this is the basic app", in the root page I added the description just so you know how exactly I am building the request in Postman," may be this will help as well.Thank you.'""",,,,,,,,,,,,,,,,,,,
devise,3663,closed,6,2015-07-02 13:34:48,1.35,,,1,"b'b"" Ok"," thanks. I\'ll reopen and either me or someone else will try to take a look.""'",,,,,,,,,,,,,,,,,,,,
devise,3663,closed,reopened,2015-07-02 14:11:07,28.27,0,2,6,,,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,7,2015-07-02 13:34:48,51.95,,1,,"b'b"" I\'ve used pry to debug it", started with  from method," returns empty hash:  ""'",,,,,,,,,,,,,,,,,,,
devise,3663,closed,8,2015-07-02 13:34:48,23.03,,1,,"b""b' debugging helper", result will be with  , either both cases is  , not just  ," could this be the problem?'""",,,,,,,,,,,,,,,,,
devise,3663,closed,9,2015-07-02 13:34:48,16.77,,,1,b'b\' @carlosantoniodasilva that was the problem, as I had devise routes nested under api namespace in routes I had to send params into key, not  . So I probably just need to override the registration routes," no luck so far: rake routes: No route matches [POST] ""/""  will generate  Is there anyway to make the route available to sign_up?\''",,,,,,,,,,,,,,,,,,
devise,3663,closed,10,2015-07-02 13:34:48,1078.22,,1,,"b""b' You should tweak your devise_for accordingly. For example"," you may be able to keep things as is and pass (instead of custom controllers). Another idea is to move the call outside of your API and use the option to customise the path. Check the output of to make sure you got things right.'""",,,,,,,,,,,,,,,,,,,,
devise,3663,closed,closed,2015-07-04 09:41:05,1169.97,0,5,7,,,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,11,2015-07-02 13:34:48,672.3,,1,,"b""b' I feel list this should be on the documentation"," as I had a simular issue.The resource name of my controller was and should be  .My solution was to override the method like: '""",,,,,,,,,,,,,,,,,,,,
devise,3663,closed,12,2015-07-02 13:34:48,957.9,,,1,"b""b' Thanks @andersonveiga"," you saved me a lot of time!'""",,,,,,,,,,,,,,,,,,,,
devise,3663,closed,13,2015-07-02 13:34:48,1247.98,,1,,"b'b"" @andersonveiga  Where do i need to write method . i have only rails 5 API. so i don\'t have any helpers.""'",,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,14,2015-07-02 13:34:48,1257.12,1,,,"b'b"" @vishalTatvaSoft I\'m pretty sure that you have solved this by now", but for other people who may come here for the first time," I was fighting with this today(rails 5 api too) and what you can do is override the ** ** and the ** ** method like this:   Now you can use user key in the params again.""'",,,,,,,,,,,,,,,,,,,
devise,3663,closed,15,2015-07-02 13:34:48,866.72,,,1,"b""b' Thanks @andrescanales for posting that.'""",,,,,,,,,,,,,,,,,,,,,
devise,3663,closed,16,2015-07-02 13:34:48,293.48,,1,,"b'b"" @andrescanales  My app doesn\'t touch the devise registration controllers.  Created a unique users_controller (versioned and scoped to only show api"," version handled in the headers). In my users_controller. It has a private user_params that has the :user etc.. like below routes code I saw someone say the issue just involved the routes. So I moved my devise links also to be under the namespace and scope.  Still getting the issue. Please help""'",,,,,,,,,,,,,,,,,,,,
devise,3663,closed,-,-,-,1,8,9,,,,,,,,,,,,,,,,,,,,,,
devise,3745,closed,opened,2015-09-08 10:03:52,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3745,closed,title,2015-09-08 10:03:52,00:00,,1,,"b""b' devise doorkeeper sign_out @resource_owner return false'""",,,,,,,,,,,,,,,,,,,,,
devise,3745,closed,body,2015-09-08 10:03:52,00:00,,1,,"b'b"" Hi ",   I\'m having a doorkeeper application acting as login service,"I\'m having one other client app using this login service to authenticate  when I logout from client app (Not login service) . I send a call to login service with access_token to sign_out resource owner from login service but its not working and sign_out method return false.Here is my code get called when I logout from client app  ""'",,,,,,,,,,,,,,,,,,,
devise,3745,closed,1,2015-09-08 10:03:52,9.03,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,3745,closed,closed,2015-09-08 10:12:54,9.03,0,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,3745,closed,2,2015-09-08 10:03:52,0.18,,,1,"b""b' If you intended to provide a bug report",  You need to give us more information on how to reproduce this issue," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,3745,closed,reopened,2015-09-08 10:13:05,0.18,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,3745,closed,closed,2015-09-08 10:13:08,0.05,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,3745,closed,-,-,-,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,3751,closed,opened,2015-09-14 16:48:08,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3751,closed,title,2015-09-14 16:48:08,00:00,,1,,"b""b' Bypass: true with active_for_authentication?'""",,,,,,,,,,,,,,,,,,,,,
devise,3751,closed,body,2015-09-14 16:48:08,00:00,,,1,"b'b"" I\'m using Rails 4.2.3", Devise 3.5.2, and Warden 1.2.3. I think this might be a bug, but I\'m not sure. I\'m attempting to log in as a user that is disabled (via in the model by using  ," however it seems that is still being called even though (I think) [this callback]url  is supposed to be skipped. I\'m just hardcoding into the method. Any help would be appreciated. Thanks!""'",,,,,,,,,,,,,,,,,
devise,3751,closed,1,2015-09-14 16:48:08,8.08,,1,,"b""b'  Please use the mailing list or StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only.'""",,,,,,,,,,,,,,,,,,,,
devise,3751,closed,closed,2015-09-14 16:56:13,8.08,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3751,closed,2,2015-09-14 16:48:08,0.22,,,1,"b""b' If you think this is a bug",  You need to give us more information on how to reproduce this issue," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,3751,closed,reopened,2015-09-14 16:56:26,0.22,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,3751,closed,closed,2015-09-14 16:56:27,0.02,0,2,2,,,,,,,,,,,,,,,,,,,,,,
devise,3751,closed,3,2015-09-14 16:48:08,1107.37,,1,,"b'b"" @zach-taylor did you resolve this problem?  I\'m solving something similar url ""'",,,,,,,,,,,,,,,,,,,,,
devise,3751,closed,-,-,-,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,opened,2015-09-18 07:45:10,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,title,2015-09-18 07:45:10,00:00,,1,,"b""b' devise_group in application controller causing error'""",,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,body,2015-09-18 07:45:10,00:00,1,,,"b'b"" Sorry if this is a duplicate or I\'m just missing something obvious but I\'ve created a simple devise app with a user model that\'s extended via STI to two other classes and I have this in my application controller: devise_group :users", contains: [:managers," :employees] But I can\'t get the app to even start because it complains: NoMethodError: undefined method ""'",,,,,,,,,,,,,,,,,,,
devise,3757,closed,1,2015-09-18 07:45:10,20.73,,1,,"b""b' There is no method in Devise at all. Why are you thinking there is one? If you believe there must be one", then it would be from a plugin or extension," not from Devise.'""",,,,,,,,,,,,,,,,,,,
devise,3757,closed,closed,2015-09-18 08:05:54,20.73,1,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,2,2015-09-18 07:45:10,21.55,,1,,"b'b"" It seems to be defined here: url  \' # Those helpers are convenience methods added to ApplicationController.\' Documentation for it: url  Am I missing something?""'",,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,3,2015-09-18 07:45:10,262.12,,1,,"b'b"" Could you re-open the issue please? I\'ve pointed right to the area of the documentation where it is. It\'s a new-ish feature but I don\'t believe it\'s working.""'",,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,4,2015-09-18 07:45:10,2.88,,1,,"b""b' Which Devise version are you using? '""",,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,reopened,2015-09-18 12:52:27,286.55,1,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,5,2015-09-18 07:45:10,19.92,,1,,"b""b' devise 3.5.2ruby 2.2.2rails 4.2.3'""",,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,6,2015-09-18 07:45:10,1275.3,,,1,"b'b"" It works within a controller I create but not the application controller. class NotesController < ApplicationController  before_action :authenticate_user!  before_action :set_note", only: [:show, :edit, :update, :destroy]  devise_group :user, contains: [:manager, :employee]   ..... Works but.... class ApplicationController < ActionController::Base  protect_from_forgery with: :exception  devise_group :user, contains: [:manager," :employee]  end Doesn\'t. It generates this error: Exiting  ...../application_:9:in  devise_group\' for ApplicationController:Class (NoMethodError)""'",,,,,,,,,,,,,
devise,3757,closed,7,2015-09-18 07:45:10,220.75,,1,,"b""b' @MagicalMonkey can you please provide a sample app that reproduces the error?'""",,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,8,2015-09-18 07:45:10,81.42,,1,,b'b\' Sure, this is a simple app generated mostly via rails composer," I\\\'ve added two subclasses of user model and tried to join them together with User with devise_group: url  I tried setting  = ""ApplicationController"" in the config", because someone hinted at that being an issue but that didn\\\'t seem to fix anything. Maybe I\\\'m doing it wrong. Perhaps I\\\'ve got the wrong end of the stick in assuming you can use this in the main app\\\'s ApplicationController? Is the point of devise_group to control authorisation for individual \\\'engines\\\' rather than the app as a whole?\'',,,,,,,,,,,,,,,,,,
devise,3757,closed,9,2015-09-18 07:45:10,165.33,,1,,"b'b"" I\'m having the same problem as @CodingMonkeyXYZ", however I noticed something peculiar. When I try to start the rails server or run with the line in my ApplicationController, I get the same errors as discussed above. However, if I comment out the line, allow the sever to start and **then uncomment out the  ** line after the server has successfully started," everything works as expected. Could it be a problem with the  Rails initializes devise and the helper methods at application startup?""'",,,,,,,,,,,,,,,,
devise,3757,closed,10,2015-09-18 07:45:10,1.12,,1,,"b'b"" Ok", a little more playing around and if I put this line of code in at the top of the ApplicationController file:  , everything works as expected with no error about an undefined method. Now, as @CodingMonkeyXYZ  stated previously," shouldn\'t these helper methods be available to the application controller automatically? Is it because they are inside of the module that the ApplicationController isn\'t able to access it? Or is it because was not declared as a helper method in line 10 of file url ""'",,,,,,,,,,,,,,,,,
devise,3757,closed,11,2015-09-18 07:45:10,967.62,,1,,"b'b"" Well"," either the code is broken or the documentation is.... \'#Those helpers are convenience methods added to ApplicationController.\'""'",,,,,,,,,,,,,,,,,,,,
devise,3757,closed,12,2015-09-18 07:45:10,452.52,,1,,"b""b' @CodingMonkeyXYZ your sample app has an initializer that forces the loading of and before the app is properly initialized", causing the exception deleting url  solves the loading order," and it is recommended to customize the Parameters Sanitizer API through your controllers instead of an initializer like this. @themantalope do your app has a similar scenario?'""",,,,,,,,,,,,,,,,,,,
devise,3757,closed,13,2015-09-18 07:45:10,40.68,,,1,"b'b"" Hi @lucasmazza thanks for taking a look at this. My app does use a  initializer I haven\'t had a chance to test your suggestion out yet but when I do I will let you know.""'",,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,closed,2017-01-27 00:15:33,683.1,1,12,2,,,,,,,,,,,,,,,,,,,,,,
devise,3757,closed,-,-,-,1,12,2,,,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,opened,2015-10-19 06:00:50,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,title,2015-10-19 06:00:50,00:00,,1,,"b""b' save in after_create hook breaks devise confirmation'""",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,body,2015-10-19 06:00:50,00:00,,1,,"b""b' Using in hook on devise model breaks confirmation link.  Test repo: url  Steps to reproduce:1. Run rails server:  2. Navigate to signup page:  3. Fill in the form"," submit. Letter opener will open the email with confirmation link.4. Click on the link Result:  error Expected result:Succesful confirmation. Tested with:Rails 4.2.4Devise 3.5.2 Related discussion:url '""",,,,,,,,,,,,,,,,,,,,
devise,3787,closed,1,2015-10-19 06:00:50,343.73,,1,,"b""b' I have the same issue.  I used the def after_confirmaton  do_something endto work it out.'""",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,2,2015-10-19 06:00:50,73.2,,1,,"b'b"" @krukgit @bingxie we got #3774 merged with a fix that might be related to this issue can you folks take a look and see if it works? If it doesn\'t"," we would need more details on how to replicate this issue so we can dig deeper in the problem.""'",,,,,,,,,,,,,,,,,,,,
devise,3787,closed,3,2015-10-19 06:00:50,791.08,,1,,"b'b"" @lucasmazza I updated to the 3.5.3 version", the after_create got called. But I did update_attributes(slug: slug) in the after_create block," the new problem is it didn\'t send the confirmation email.""'",,,,,,,,,,,,,,,,,,,
devise,3787,closed,closed,2015-12-15 13:36:47,455.95,0,5,0,,,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,4,2015-10-19 06:00:50,694.65,,1,,"b'b"" @bingxie I\'ve merged another relevant fix + test that fixes the issue replicated in @krukgit sample app the patch is on the can you try it out so I can cut a with the fix?""'",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,5,2015-10-19 06:00:50,607.18,,,1,"b""b' @lucasmazza I tried 3-stable branch", yes," it fixed the issue. Thanks!'""",,,,,,,,,,,,,,,,,,,
devise,3787,closed,6,2015-10-19 06:00:50,582.32,,1,,"b'b"" @lucasmazza @bingxie @krukgit", the change for url  breaks our production app were we have an api that allows a unconfirmed email to be changed. Since there\'s no prior non-nil value for the email," assigning the **new unconfirmed email** goes into the email slot rather than the unconfirmed slot.""'",,,,,,,,,,,,,,,,,,,
devise,3787,closed,7,2015-10-19 06:00:50,221.48,,1,,"b'b"" @justin808 I\'ll take a look""'",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,reopened,2016-04-20 13:14:29,1417.7,0,8,1,,,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,8,2015-10-19 06:00:50,276.5,1,,,"b'b\' I think we should rollback the fix the @justin808 mentioned. The problem of calling in is the attributes of the model are ""dirty"". It triggers the with the same changes used to create the record. The same change is totally ok in a normal update"," that\\\'s why the normal update flow is broken. One possible solution is adding a flag to know that we are still in a ""create"" operation. But I think it is not worth since every callback or operation will face the same problem. We can easily avoid it using callbacks in a proper way", like: What do you think?\'',,,,,,,,,,,,,,,,,,,
devise,3787,closed,9,2015-10-19 06:00:50,258.1,,1,,"b""b' cc @lucasmazza @josevalim '""",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,10,2015-10-19 06:00:50,246.62,,1,,"b""b' cc @lucasmazza @josevalim Now I see"," this PR may solve this issue in both worlds:url '""",,,,,,,,,,,,,,,,,,,,
devise,3787,closed,11,2015-10-19 06:00:50,48.42,,1,,"b'b"" @ulissesalmeida do we only need to merge #4043 or do we still need to revert the first fix like you mentioned earlier? @justin808 it\'s possible to give the patch on #4043 a try on your app to confirm that it fixes the behaviour we broke here?""'",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,12,2015-10-19 06:00:50,1219.95,,1,,"b""b' @lucasmazza We only need to merge #4043 '""",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,13,2015-10-19 06:00:50,1275.75,,1,,"b""b' Fixed on Devise 3.5.8 and 4.0.1'""",,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,closed,2016-04-25 20:39:50,445.35,1,13,1,,,,,,,,,,,,,,,,,,,,,,
devise,3787,closed,-,-,-,1,13,1,,,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,opened,2015-10-27 18:11:15,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,title,2015-10-27 18:11:15,00:00,,1,,"b""b' Check for active_record / ORM support during devise:install'""",,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,body,2015-10-27 18:11:15,00:00,,,1,b'b\' I have a rails app where I wasn\\\'t using active_record to start.  I installed devise, ran and then  .  However, after running the command," I got an error saying ""\\\'require\\\': cannot load such file -"".  I found this issue url  which got me started in the right direction.  I got all my requires squared away", but was still getting the error.  I ended up finding the line in the autogenerated had been set to  , which needed to be  . I know this was ultimately sort of my fault for not having active_record required up front, however, with that said," your package also obviously has a ""false"" value that it\\\'s working with to generate that file", so a check should be added to the generate method to make sure active_record or another ORM is loaded, and if not, throw an error during the install script, as otherwise, a developer might (and rightly assume) that a successful install script == a successful install.  :)  Thanks!\'',,,,,,,,
devise,3800,closed,closed,2015-10-27 18:13:56,2.68,0,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,1,2015-10-27 18:11:15,3.57,,1,,"b""b' If you remove the line  "," does the generator run successfully?'""",,,,,,,,,,,,,,,,,,,,
devise,3800,closed,reopened,2015-10-27 18:14:49,0.88,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,2,2015-10-27 18:11:15,0.38,1,,,"b""b' (sorry for the mistake on the first reply. I already deleted it)'""",,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,3,2015-10-27 18:11:15,15.18,,1,,"b'b\' This is what the progression looks like if I comment out that line: When I uncomment the line and replace ""false"" with ""active_record"" (and have active_record properly required) the migration runs successfully:  \''",,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,4,2015-10-27 18:11:15,1316.87,,1,,"b'b"" What should be the expected behaviour in case you require require \'\' ?""'",,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,5,2015-10-27 18:11:15,73.07,1,,,"b'b"" I think that is better to raise somewhere in the when the app doesn\'t have an ORM generator configured url  so we don\'t generate an initializer in a bad state like this.""'",,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,6,2015-10-27 18:11:15,11.77,,,1,"b""b' (+1) Thanks"," let me propose a pr to get feedback for this issue.'""",,,,,,,,,,,,,,,,,,,,
devise,3800,closed,7,2015-10-27 18:11:15,1070.2,,1,,"b""b' @rubyrider do you still plan to work on this one? :)'""",,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,8,2015-10-27 18:11:15,63.75,,1,,"b""b' ah", @alexmalik I think you would be faster," I am extremely busy but I was originally planning to work on this from this weekend.'""",,,,,,,,,,,,,,,,,,,
devise,3800,closed,closed,2016-02-14 22:11:18,236.48,2,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,3800,closed,-,-,-,2,6,2,,,,,,,,,,,,,,,,,,,,,,
devise,3801,closed,opened,2015-10-28 00:06:09,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3801,closed,title,2015-10-28 00:06:09,00:00,,1,,"b""b' Mountable engine routes'""",,,,,,,,,,,,,,,,,,,,,
devise,3801,closed,body,2015-10-28 00:06:09,00:00,,,1,"b'b"" Im trying to create a a mountable engine with devise on it", I\'ve followed this tutorial: url And everything works fine, except the routes. My engine is mounted in the route admin like this: but when devise redirects the user (like when it hasn\'t signed in) it redirects to a path without the \'/admin\' prefix and gives me the usual No route matches [GET] / because the correct route is . I\'m kind of new to rails mountable engines so It could be just me," is this a devise issue?""'",,,,,,,,,,,,,,,,,,
devise,3801,closed,closed,2015-10-28 00:24:38,18.48,0,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,3801,closed,reopened,2015-10-28 00:24:44,0.1,0,1,1,,,,,,,,,,,,,,,,,,,,,,
devise,3801,closed,1,2015-10-28 00:06:09,19.53,,,1,"b'b"" Ok", It seems I wasn\'t using the correct devise version," devise 3.5.1 works fine.""'",,,,,,,,,,,,,,,,,,,
devise,3801,closed,closed,2015-10-28 00:25:43,0.98,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,3801,closed,2,2015-10-28 00:06:09,1439.85,,1,,"b""b' I think this should be reopened (?) I am having the same problem using  "," downgrading to fixes the problem however opens my app up to [security issues]url '""",,,,,,,,,,,,,,,,,,,,
devise,3801,closed,3,2015-10-28 00:06:09,21.05,,1,,"b""b' Dup issue: url '""",,,,,,,,,,,,,,,,,,,,,
devise,3801,closed,-,-,-,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,3848,closed,opened,2015-12-10 21:13:06,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3848,closed,title,2015-12-10 21:13:06,00:00,,1,,"b""b' localizing confirmed_at field causes the need for the user to click the confirmation_link twice'""",,,,,,,,,,,,,,,,,,,,,
devise,3848,closed,body,2015-12-10 21:13:06,00:00,,1,,b'b\' I\\\'m using devise 3.5.3 with Rails 4.2.5 and mongoid 5,mongo 2.2 and bson 4(but I had the issue with bson 3 and mongo 2.1 though). From my logs I see that when I go to email preview , click the confirmation email, and then click the confirmation link," it seems that devise updates the document by setting confirmed_at to {}.  This causes the user to see ""you need to confirm your account in order to login"" when  tries to login despite the success of the confirmation. Now when clicking the confirmation link again devise updates the document in the database with confirmed_at set to the correct time and the user can sign in. The time confirmed_at field is localized and that is why I think this happens", devise first sets confirmed_at to an empty hash and then set the time for the corresponding locale. I think a workaround for this is to either remove localize: true or initialize the model and set confirmed_at to {} on application start.\'',,,,,,,,,,,,,,,,
devise,3848,closed,1,2015-12-10 21:13:06,99.97,,,1,"b""b'  You need to give us more information on how to reproduce this issue"," otherwise there is nothing we can do. Please read  file for more information about creating bug reports. Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,3848,closed,closed,2015-12-10 22:53:04,99.97,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3848,closed,2,2015-12-10 21:13:06,0.58,1,,,"b'b"" Sorry about this", I\'ve clicked the wrong button. Instead," I wanted to ask if you can please provide an application that reproduces the error?""'",,,,,,,,,,,,,,,,,,,
devise,3848,closed,reopened,2015-12-10 22:53:39,0.58,1,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,3848,closed,3,2015-12-10 21:13:06,1000.8,,1,,b'b\' to reproduce the issue:1-create new Rails app with skipactiverecord option2-configure rails to use mongoid 3-generate devise model(example User) with database_authenticatable,registrable,confirmable.  4-generate the corresponding controllers and views for the model.5-make confirmed_at field localized.6-generate Mailer with rails g mailer(let\\\'s call it UsersMailer).7-make the mailer inherits Devise\\\'s mailer.8-populate the mailers views with devise\\\'s ones.9-define function confirmation_instructions in the mailer preview and put this in it :  user=  (user, , {})10-run the application(rails server), register a user,"go to localhost:3000/ and click on confirmation_instructions link.  11-click the confirmation link. if you followed these steps you should see ""confirmation done"" but when you try to sign in it says ""you need to confirm your account first""", if you go to  clicked confirmation_instructions and clicked the link again you can sign in successfully. this doesn\\\'t happen when you don\\\'t localize confirmed_at field.\'',,,,,,,,,,,,,,
devise,3848,closed,4,2015-12-10 21:13:06,126.75,,1,,"b""b' @abnud1 Any news on this issue? '""",,,,,,,,,,,,,,,,,,,,,
devise,3848,closed,5,2015-12-10 21:13:06,375.93,,,1,"b'b"" I\'m closing this issue because it has not had recent activity. If you\'re still facing this on the latest version"," please open a new one with all the information requested in the template. Thank you!""'",,,,,,,,,,,,,,,,,,,,
devise,3848,closed,closed,2017-12-06 23:57:08,63.48,1,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,3848,closed,-,-,-,1,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,opened,2016-02-11 09:37:41,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,title,2016-02-11 09:37:41,00:00,,1,,"b""b' Remember_token always regenerated when user logs in: existing one never kept anymore'""",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,body,2016-02-11 09:37:41,00:00,,1,,"b""b' In commit url  a change was made that causes  s to be regenerated without checking whether the old one has expired. This causes a problem when users log in on multiple browsers or devices. Every time they log in", their session on other  is invalidated," because a new token is generated. My project is forced to stick with Devise 3.5.3 because of this breaking change. The fact that the commit I mentioned still contains a TODO is probably indicative of the fact this is a problem to be resolved.'""",,,,,,,,,,,,,,,,,,,
devise,3950,closed,1,2016-02-11 09:37:41,6.32,1,,,"b""b' @michieldewit are you using the manual remember_token? If so", I believe you are right. I completely forgot about this case," sorry about this. We need to tackle it.'""",,,,,,,,,,,,,,,,,,,
devise,3950,closed,2,2016-02-11 09:37:41,33.22,1,,,"b'b"" @josevalim We use stored  s indeed. Going back to 3.5.3 did not work for us either", btw, because of the new format of the remember cookies. Right now, we monkey patched in our model to work more or less like in the old situation. It\'s ugly," but it works:  ""'",,,,,,,,,,,,,,,,,
devise,3950,closed,3,2016-02-11 09:37:41,39.68,,1,,"b""b' @michieldewit you no longer need to renew or expire the token. So my suggestion would be to just set it if none is set. If you want to expire existing tokens"," you just clean the database column for the desired rows.'""",,,,,,,,,,,,,,,,,,,,
devise,3950,closed,4,2016-02-11 09:37:41,17.55,,1,,"b""b' @josevalim About the expiration you are probably right. Still it feels a little safer to know that remembered sign ins will automatically expire when a user has not been active for X days'""",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,5,2016-02-11 09:37:41,16.53,1,,,"b'b"" @michieldewit this property is now intrinsic to the new system"," that\'s why we don\'t need to worry about it at the token level. :)""'",,,,,,,,,,,,,,,,,,,,
devise,3950,closed,6,2016-02-11 09:37:41,554.88,,1,,"b'b"" Any update on this? We\'ve add the monkey patch"," but would prefer this fixed in Devise.""'",,,,,,,,,,,,,,,,,,,,
devise,3950,closed,7,2016-02-11 09:37:41,898.35,,,1,"b""b' Thanks @reedloden and @michieldewit . I think a simpler fix on this is to rewrite the remember_me function to work like this: Can you please confirm this also works as expected? I only changed the remember_token assignment to use  .'""",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,8,2016-02-11 09:37:41,115.65,,1,,"b'b"" I can confirm the simpler fix works"," wouldn\'t this be a bit easier to read though?  ""'",,,,,,,,,,,,,,,,,,,,
devise,3950,closed,9,2016-02-11 09:37:41,57.5,,1,,"b'b"" We still need to execute remember_created_at if you don\'t have  .""'",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,10,2016-02-11 09:37:41,309.15,,1,,"b'b"" @josevalim Could you explain why we need to execute when isn\'t being set?""'",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,11,2016-02-11 09:37:41,2.08,,1,,"b""b' @jjoos because you can use the remember token completely without tokens"," by relying on the authentication salt'""",,,,,,,,,,,,,,,,,,,,
devise,3950,closed,12,2016-02-11 09:37:41,1114.93,,1,,"b""b' Still awaiting a fix in Devise for this.'""",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,13,2016-02-11 09:37:41,416.85,,1,,"b""b' This issue was related to extended remember me configuration was working as always true.  It is fixed on Devise and  . Feel free to reopen if the problem persist. Related PR: url '""",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,closed,2016-04-19 21:20:23,702.7,3,11,1,,,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,14,2016-02-11 09:37:41,1328.85,,1,,"b'b"" I just upgraded to Devise 3.5.8 and I\'m still seeing this issue; the remember_token is reset every time the user logs in", so that if they log in on browser A, and then later on browser B," the remember_token changes and the session on browser A is invalidated.  Am I supposed to be using to get the behavior I want (i.e. logging in to a second device doesn\'t log them out on the first). The documentation isn\'t very verbose about what does. ""'",,,,,,,,,,,,,,,,,,
devise,3950,closed,15,2016-02-11 09:37:41,368.63,,,1,"b'b"" @bsoule Thank you for the feedback. The configuration about extends the period of remember token validity. When you set to  ", every time the authenticate user use the application with a valid remember token the expiration date of the token will be extended. When it is set to  , the expiration date will never be updated and it will expires. The option you have suggested is support multiple remember tokens," I think today Devise does not have this option out of the box. I\'ll check with @josevalim about it. You may want to implement it by yourself or find gem that does. Feel free to open a pull request to improve the configuration template text or the README documentation with a better explanation about the extend remember me period. Best""'",,,,,,,,,,,,,,,,,,
devise,3950,closed,16,2016-02-11 09:37:41,8.83,,1,,"b'b"" @josevalim What\'s the expected behaviour when user sign in using a browser with remember me checked with a valid existent remember token from another browser? Should it override the existent one?  Is possible today Devise support multiple remember me cookie tokens from different browsers?""'",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,17,2016-02-11 09:37:41,200.2,,,1,"b'b"" Thanks for explaining the extend_remember_period option. Much clearer now :-) From reading the comments in this issue", it sounds like remember_token should not get overwritten when a user is signing in and a valid token already exists. Above @josevalim proposes a fix where you\'d set the remember_token with ||= in remember_me! If the expected behavior is indeed as described in this thread," then the original issue described still remains in the master branch. I can submit a PR for this.""'",,,,,,,,,,,,,,,,,,,
devise,3950,closed,18,2016-02-11 09:37:41,785.95,,,1,"b'b"" @bsoule You\'re right. Feel free to submit a PR with a fix :) . Would be good have a regression test too.""'",,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,reopened,2016-05-07 18:13:20,1252.95,3,13,4,,,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,19,2016-02-11 09:37:41,471.87,,1,,"b""b' Hi people"," if anyone has some time to try out the branch with the fix and give us some feedback. I can release a patch version. The PR with the fix: url '""",,,,,,,,,,,,,,,,,,,,
devise,3950,closed,closed,2016-05-15 14:48:12,1234.87,3,14,4,,,,,,,,,,,,,,,,,,,,,,
devise,3950,closed,20,2016-02-11 09:37:41,801.82,,1,,"b'b"" I think it\'s fixed now on  "," and  . :pray:""'",,,,,,,,,,,,,,,,,,,,
devise,3950,closed,-,-,-,3,15,4,,,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,opened,2016-04-03 17:27:15,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,title,2016-04-03 17:27:15,00:00,,1,,"b""b' reconfirmable ignored'""",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,body,2016-04-03 17:27:15,00:00,,,1,"b'b"" ## The short story: I activated  = true", but when I update a user, it updates the email without copying email to unconfirmed_email and it doesn\'t email anything. Basically, it does not respect  = true. I restarted the server, and was trying to debug for two days.## The details: I am not able to make devise send reconfirmation emails. It sends sign up confirmation emails just fine, but when I update the user\'s email, it does not work for me. I reverted to Devise\'s own registration controller by removing all my custom code to debug this and even suspended my own user edit view, so it\'s now using the basic Devise Edit form. I have this in  initializer: My database fields: and I have these Devise settings: My routes are set as follows: The unconfirmed_email never changes, regardless of how often I update the email. The email gets updated actually," which is not logical if it was not confirmed. What am I missing? How do I debug this?""'",,,,,,,,,,,,
devise,4022,closed,1,2016-04-03 17:27:15,44.75,,1,,"b""b' What Devise version are you using? Can you please provide a sample application that reproduces the error?'""",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,2,2016-04-03 17:27:15,191.25,,1,,"b'b"" I\'m using devise 3.5.6""'",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,3,2016-04-03 17:27:15,1394.87,,1,,"b""b' @whoteaches Are you still having this issue? Could you provide a sample application only with rails and devise that reproduces the error?'""",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,4,2016-04-03 17:27:15,1071.45,,1,,"b'b"" @whoteaches I\'m closing this issue. Feel free to reopen when you can evidence the error with sample rails app. Best""'",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,closed,2016-04-19 14:29:34,1262.32,0,5,1,,,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,5,2016-04-03 17:27:15,1191.83,,,1,"b'b"" I\'m having the same problem on devise (3.5.8) and also after upgrading to devise (4.1.0)""'",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,6,2016-04-03 17:27:15,39.52,,1,,"b""b' Rolled back to 3.5.2 which we had previously and no problem there.'""",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,7,2016-04-03 17:27:15,893.33,,,1,"b'b"" Thanks"," good to know. I\'m reopening this issue. If anyone knows how to reproduce feel free to share with us.""'",,,,,,,,,,,,,,,,,,,,
devise,4022,closed,reopened,2016-05-04 01:54:15,684.68,0,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,8,2016-04-03 17:27:15,1014.27,,1,,"b'b"" Having this same issue after upgrading to 4.1.0 from 4.0.1. I\'ll try to put a small PoC Rails app together this week to isolate the issue.""'",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,9,2016-04-03 17:27:15,385.68,1,,,"b'b"" @shaneog That\'s weird the release the only thing that changed about the config is its default value (now is  ). Did you have news about this issue?""'",,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,10,2016-04-03 17:27:15,1022.07,1,,,"b'b"" ~~Hi @ulissesalmeida the error is definitely occurring for me", and only with 4.1.x (and not 4.0.3)," but it\'s to do with something _unique_ in my controllers I suspect.~~ _see comment below_""'",,,,,,,,,,,,,,,,,,,
devise,4022,closed,11,2016-04-03 17:27:15,81.1,,,1,"b'b"" @ulissesalmeida After spending most of today digging into this issue (it only happens in my test (rspec) environment", in development and production it\'s fine \\xf0\\x9f\\x98\\xa9 )," it turns out that someone better than me has fixed it in #4125. \\xf0\\x9f\\x91\\x8d ""'",,,,,,,,,,,,,,,,,,,
devise,4022,closed,closed,2017-01-18 18:32:09,997.9,2,7,4,,,,,,,,,,,,,,,,,,,,,,
devise,4022,closed,-,-,-,2,7,4,,,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,opened,2016-08-26 16:04:18,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,title,2016-08-26 16:04:18,00:00,,1,,"b'b"" Rails 5 API doesn\'t work with devise"," throws undefined local variable or method ""'",,,,,,,,,,,,,,,,,,,,
devise,4275,closed,body,2016-08-26 16:04:18,00:00,,1,,"b'b"" The new [rails 5 API]url  doesn\'t work with devise (v4.2.0). To reproduce:1.  2. Follow steps of installing devise (adding gem", running rake commands).3. Try accessing with a valid user with something like that:   It throws an error like this: Due to this [line of code]url Something as simple as this commit, makes it work: url  **Update:**Seems that if you call it with at the end it works (like this  ).  **Update 2:**Seems like adding the at the end of the url worked, but in other endpoints didn\'t," like  .""'",,,,,,,,,,,,,,,,,
devise,4275,closed,closed,2016-08-28 06:37:36,873.3,0,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,reopened,2016-08-28 16:01:19,563.72,0,2,0,,,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,1,2016-08-26 16:04:18,1151.6,,1,,"b""b' I agree with John that this is an issue. The does not respect navigational formats. (I did not check if this concerns other controllers"," too.)  This could be fixed by using instead of [here]url '""",,,,,,,,,,,,,,,,,,,,
devise,4275,closed,2,2016-08-26 16:04:18,804.62,1,,,"b'b"" I will chime in that I suspect this is more of an issue that it appears at first blush. I\'m attempting to use devise with a rails api (5.0.0.1) application", and while it does the correct thing if an end-user submits a request with the correct type, it throws a 500 if a user tries to do a simple html format GET from one of my endpoints without providing authorization, rather than returning a proper 401. I could limit routes to specific formats (btw, anyone yet figure out how to use route constraints to limit routes to jsonapi format?),  which will then throw an unknown route error,  but I can\'t control what formats users may throw requests at my server in;  I\'d like to respond appropriately. While attempting to do the right thing based on the requested format makes sense," having to override the entirety of devise error handling in order avoid internal server errors if an end-user fails to set the correct type seems broken. Perhaps addition config flag to never use flash would be appropriate?""'",,,,,,,,,,,,,,
devise,4275,closed,3,2016-08-26 16:04:18,830.88,,1,,b'b\' Found the solution. For a rails api application," set "" = []"". Then devise will never attempt to use flash and never throw a 500 error. I suspect this may be a good candidate for adding to the documentation.\''",,,,,,,,,,,,,,,,,,,,
devise,4275,closed,4,2016-08-26 16:04:18,70.68,,,1,"b""b' This is no definite solution"," since not all Devise actions honor this setting. One such action is  . Not sure if there are more.(See my suggestion for a fix earlier.)'""",,,,,,,,,,,,,,,,,,,,
devise,4275,closed,5,2016-08-26 16:04:18,44.88,,1,,"b'b"" As far as my understanding goes", you shouldn\'t be using Devise with an API only rails app.Devise depends on session and cookies," and you should not be using those for an APIAn API is not the use case for Devise so these are really not bugs with the gem""'",,,,,,,,,,,,,,,,,,,
devise,4275,closed,6,2016-08-26 16:04:18,24.47,,1,,"b'b"" At risk of stating the obvious", seems Rails 5 API needs a Devise caliber authentication gem," does anyone know of a solution or if anyone is working on one? Trying to figure out how to best support both a traditional Rails web application with session and cookies (Devise like) and mobile apps (Token auth like) ? Don\'t really want to re-write my web application as a single page web app / Angular or such.""'",,,,,,,,,,,,,,,,,,,
devise,4275,closed,7,2016-08-26 16:04:18,9.63,,1,,"b'b"" I\'ve gotten devise working fairly well for an API app;  I added JWT tokens as a warden strategy", so a user hits a devise login endpoint, receives a JWT, and subsequently uses that JWT to authorize access to the actual API endpoints.  Still need to add token blacklisting (possibly a small memcached store) for logouts and token refreshing, but the rough skeleton is working, and behaving fairly well. If the PasswordsController gets fixed to respect navigational formats," I don\'t necessarily think a new framework is required.  Creating some help documentation with pointers on configuring devise for an API-only app would probably help.""'",,,,,,,,,,,,,,,
devise,4275,closed,8,2016-08-26 16:04:18,981.27,,1,,"b'b"" I share @gssbzn \'s point of view. However", I have been struggling to find the most concise Authentication implementation for a Rails 5 API. Some implementations use (or something like that), devise_token_auth, Warden implementations," etc. etc. Would appreciate any tips on what is the most straightforward way to implement Authentication for Rails 5 API.""'",,,,,,,,,,,,,,,,,
devise,4275,closed,9,2016-08-26 16:04:18,1270.27,,1,,"b""b' @BigChief45 did you checkout [devise_token_auth]url '""",,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,closed,2017-01-27 00:33:26,512.12,1,9,1,,,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,10,2016-08-26 16:04:18,1322.85,,1,,"b""b' Using  = [] throw an error  '""",,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,11,2016-08-26 16:04:18,968.58,,,1,"b""b' There are parts of devise_token_auth that still require configuring an API to have traditional HTML-formatted devise pages.  Getting the two to play nicely together has been extremely difficult as I am getting the same problems as @BrunoQuaresma even with all the attempted monkey patches and suggested fixes.'""",,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,12,2016-08-26 16:04:18,186.35,,1,,"b""b' In add json format to devise_for:  '""",,,,,,,,,,,,,,,,,,,,,
devise,4275,closed,-,-,-,1,11,2,,,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,opened,2017-03-13 13:44:39,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,title,2017-03-13 13:44:39,00:00,,1,,"b""b' Warden Key Missing Action Cable'""",,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,body,2017-03-13 13:44:39,00:00,,,1,"b'b"" I\'ve got an up to date Rails 5 app running Devise", and Action Cable. I can authorize the connection just fine, that is not the problem. The issue is using helper within a notification partial that\'s pushed out using Action Cable. It\'s causing an error because no middleware is exec in Action Cable.  TLDR; model record contains an after action that creates a notification record notifications are background jobs, thus they do NOT stem from a controller helper causing error of missing warden key when used in a partial broadcasted with action cable  This sums it up better than I can. Here\'s the accompanying link: url ![image 2017-03-13 at 9 33 55 am]url I\'ve tried a few work arounds and haven\'t had much luck," and I\'m definitely not in the mindset of monkey patching. Any thoughts? ""'",,,,,,,,,,,,,,,,,
devise,4466,closed,1,2017-03-13 13:44:39,615.48,,,1,"b'b"" I\'m bumping this again after researching on Google how to fix this error", and coming across my own bug report from back in March. I realize you don\'t get paid to maintain this gem but if you have any thoughts," I\'d love to hear them.""'",,,,,,,,,,,,,,,,,,,
devise,4466,closed,2,2017-03-13 13:44:39,301.88,,,1,"b""b' Any idea on how to get this fixed? I have tried many things that did not work. Having issue with user_signed_in? as well. Any help or idea on how to fix this will be appreciated.'""",,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,3,2017-03-13 13:44:39,829.73,1,,,"b'b"" Hi @bearded-avenger", thank you for reporting this. Sorry for taking this long to reply, I\'ve started to looking into the issues recently and there were a lot of them. Unfortunately, I haven\'t worked with Action Cable before, so I\'m not sure what would be an ideal solution for this problem.  I\'m not sure if I\'m missing something. The article suggests to mock a rack env, but if we do, we won\'t have any real values on it," right? Let\'s say that we make handle the case were isn\'t initialized: what would the method return?  ?""'",,,,,,,,,,,,,,
devise,4466,closed,4,2017-03-13 13:44:39,168.28,,,1,"b'b"" I\'m closing this issue because it has not had recent activity. If you\'re still facing this on the latest version"," please open a new one with all the information requested in the template.  Thank you!""'",,,,,,,,,,,,,,,,,,,,
devise,4466,closed,closed,2018-05-08 21:40:02,475.38,1,1,4,,,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,5,2017-03-13 13:44:39,284.18,,1,,"b""b' Actually", this is an issue that happens when you want to render a partial outside of your  in a job, and your partial uses devise helpers (current_user," user_signed_in? etc). This is similar to the following issue: url  '""",,,,,,,,,,,,,,,,,,
devise,4466,closed,6,2017-03-13 13:44:39,515.7,,1,,"b'b"" This is still an issue", and yeah the above bug is just like it.  Our app uses notifications. Each notification is in a partial. Each partial has something like current_?. Notifications are delivered in real time with action cable. With the way things are now, as you mentioned, there\'s no way to get a handle on current_user. Passing the user through the partial and doing a lookup isnt an option. Ideally," we have access to current_user in partials rendered outside of the scope of the app.""'",,,,,,,,,,,,,,,,,
devise,4466,closed,7,2017-03-13 13:44:39,137.65,,1,,b'b\' @bearded-avenger I just want to know what the ideal solution would be in order to tackle this. I don\\\'t have previous experience with action cable or  , so I\\\'m a little lost here. Since no rack middlewares are called," I don\\\'t see how we could access the current user. The blog post mentioned above says we should ""mock a request"". But if that\\\'s the case", would always return  , right? Am I missing something here?\'',,,,,,,,,,,,,,,,,
devise,4466,closed,8,2017-03-13 13:44:39,3.5,,,1,"b'b"" @tegon thanks for popping in and looking into this", I really do appreciate your time. I\'m not well versed enough in devise or middleware to give you a good answer to that question yet," but it sounds about right. Perhaps someone else reading this may have some thoughts.""'",,,,,,,,,,,,,,,,,,,
devise,4466,closed,9,2017-03-13 13:44:39,14.88,,1,,"b'b"" @bearded-avenger oh", ok. Thanks for your reply.  The thing is: we use Warden for authentication. It is a rack middleware that is called in a request and reads the current session to define whether a user is authenticated or not. By reading the previous comments, it seems like in this case," no rack middlewares are called which is why you\'re getting this error message. So I\'m not sure how we could handle this without any middlewares being called.  I\'m going to reopen this to see if anyone else can help.""'",,,,,,,,,,,,,,,,,,
devise,4466,closed,reopened,2018-05-09 13:37:03,957.02,1,5,5,,,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,10,2017-03-13 13:44:39,870.98,,1,,"b'b"" [ActiveJob] [CommentBroadcastJob] [29558acd-658a-4a3a-b870-f447881740b8] Error performing CommentBroadcastJob (Job ID: 29558acd-658a-4a3a-b870-f447881740b8) from Async(default) in 34.14ms: ActionView::Template::Error (Devise could not find the Warden::Proxy instance on your request environment. Make sure that your application is loading Devise and Warden as expected and that the Warden::Manager middleware is present in your middleware stack. If you are seeing this on one of your tests"," ensure that your tests are either executing the Rails middleware stack or that your tests are using the Devise::Test::ControllerHelpers module to inject the [\'warden\'] object for you.):  I cannot find any solution for it. any updates?""'",,,,,,,,,,,,,,,,,,,,
devise,4466,closed,11,2017-03-13 13:44:39,781.88,,1,,"b'b"" I\'ve run into this as well. I\'m trying to bring the notifications feature from this app into my own: url I\'m running ActionCable on a separate server (using docker compose) and Apartment for multi-tenancy with subdomain scoped cookies. My action-cable-url was set to  . It needs the subdomain in there to access the key from a ws:// request. It can be fixed with something like this in your application layout:   Or something more graceful that works with the existing helper.""'",,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,12,2017-03-13 13:44:39,232.07,,1,,"b'b"" Hi there",  I\'m running a project that uses: * Ruby 2.3.0 * Rails 5.0.1 * Actioncable 5.0.6  We are using Action Cable, and for authentication using Devise and Warden," we have the following code in the file.   Hope it helps. Regards.""'",,,,,,,,,,,,,,,,,,
devise,4466,closed,13,2017-03-13 13:44:39,1420.02,,1,,"b'b"" I\'m closing this since it looks like the way to is to manually pass the current user to the views. Because we rely on Warden there must be a rack request in order for it to work.""'",,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,closed,2018-12-18 20:40:54,423.85,1,9,5,,,,,,,,,,,,,,,,,,,,,,
devise,4466,closed,14,2017-03-13 13:44:39,1206.02,,1,,"b'b"" I was facing the same problem", when I tried to use to render the partial view that I want to pass to the action cable. I\'ve got the solution from the article linked below," but this solution makes increase whenever rendering a partial view using  .   url ""'",,,,,,,,,,,,,,,,,,,
devise,4466,closed,-,-,-,1,10,5,,,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,opened,2017-03-24 19:54:06,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,title,2017-03-24 19:54:06,00:00,,1,,"b'b\' ""Undefined method \''",,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,body,2017-03-24 19:54:06,00:00,,1,,"b'b""   I\'m using Rspec to test a custom RegistrationsController", and I haven\'t written a view yet, so I haven\'t tested this outside Rspec.  The full controller:   Am I doing something wrong? Edit: just tested manually," error also happens.""'",,,,,,,,,,,,,,,,,,
devise,4477,closed,1,2017-03-24 19:54:06,523.28,,1,,"b""b' This looks like a deprecation error. What Rails version are you using?'""",,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,2,2017-03-24 19:54:06,489.77,1,,,"b""b' Rails is on 4.2.1", Ruby is on version 2.3.1p112 and devise is also on 4.2.1.  Sorry I took so long to reply! EDIT: Tried updating ruby to 2.4.0p0 and rails to 4.2.8," but the error persists.'""",,,,,,,,,,,,,,,,,,,
devise,4477,closed,3,2017-03-24 19:54:06,404.3,1,,,"b'b"" I think I see the problem. The action that should be passed must be the action your controller is trying to execute", which, in your case, is \'create\'. From :84 :   # * +action+ A +Symbol+ with the action that the controller is   # performing, like +sign_up+, +sign_in+, etc. So I suggest you change the :sign_up symbol for :create, or the action name to \'sign_up\' (since you are overwriting the RegistrationsController) and see where it goes.  Remember that you can call \'super\' if you need only to append some logic to the existing RegistrationsController#sign_up action. So, another alternative would be to change the action name to \'sign_up\', check what Devise is already doing for you and complementing it with your own logic + a \'super\' call for the ancestor method.  I hope my comment helps :D also, sorry for the delayed response," pretty busy lately.""'",,,,,,,,,,
devise,4477,closed,4,2017-03-24 19:54:06,1066.4,,,1,"b""b' Hello @marianatuma"," thanks for your report. Can you provide us a sample application that reproduces the issue in isolation? That would help us find the issue.  Thank you!'""",,,,,,,,,,,,,,,,,,,,
devise,4477,closed,5,2017-03-24 19:54:06,430.58,,,1,"b'b"" I\'m closing this issue because it has not had recent activity. If you\'re still facing this on the latest version"," please open a new one with all the information requested in the template.  Thank you!""'",,,,,,,,,,,,,,,,,,,,
devise,4477,closed,closed,2018-01-11 20:28:26,34.33,2,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,6,2017-03-24 19:54:06,681.75,,1,,b'b\' @marianatuma did you find a solution ? @tegon i have the same problem. Rails-5.2.1 installed with ruby-2.5.1  My initial state is to have an empty user table inside my database (no user registred)... i want to create one by sign_up. I added some columns in my database (username, family_name, second_name)," then add them to this method ""signup_params"" inside  file (i understand that it is the way to add these parameters to be valid with the other original ones from default devise one\\\'s). And get the same error.  I think that \\\'concat\\\' is call from somewhere for add (concat) these 3 entries to the default one to be ""white-listed"". These entry are "":username", :family_name," :second_name"". I tryed with \\\'username\\\'", \\\'family_name\\\', \\\'second_name\\\' but same result.  I searched for \\\'concat\\\' code inside devise: and find th eone used (i think) inside parameter_ at line 117: 2 other files use this method for URL_HELPER and from  also...  but i not understand the error message and what i\\\'m supposed to do for fix this problem.  I hope @marianatuma (if she find) to be able to share and help with this, or maybe someone other has an idea ?  thank you for your help.\'',,,,,,,,,,,,,
devise,4477,closed,7,2017-03-24 19:54:06,631.48,,1,,"b""b' @jerome-diver  Can you please provide a sample application that reproduces the error?'""",,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,reopened,2018-11-19 18:32:07,1323.68,2,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,8,2017-03-24 19:54:06,1129.92,,1,,"b'b"" @jerome-diver I created a new application and included a field in the users table and in the sign up form"," and it worked. I\'m including a zip file with the application so that you can check it out. [concat-]url Can you send us a sample application that reproduces that error?""'",,,,,,,,,,,,,,,,,,,,
devise,4477,closed,9,2017-03-24 19:54:06,1346.8,,,1,"b'b"" I\'m closing this issue because it had no recent activity. If you\'re still facing this on the latest version"," please open a new one with all the information requested in the template.  Thank you!""'",,,,,,,,,,,,,,,,,,,,
devise,4477,closed,closed,2018-12-27 11:38:23,1026.27,2,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,4477,closed,10,2017-03-24 19:54:06,599.85,,1,,"b'b"" yes"," i\'m still facing the same problem. something wrong never resolved staying there... don\'t close before resolve please.""'",,,,,,,,,,,,,,,,,,,,
devise,4477,closed,11,2017-03-24 19:54:06,13.08,,1,,"b'b"" @jerome-diver Did you see the test app I sent you? I wasn\'t able to reproduce the issue", so I\'ve asked for a sample application that does so I can see what\'s happening, but I didn\'t get any response," that\'s why I closed the issue.""'",,,,,,,,,,,,,,,,,,
devise,4477,closed,12,2017-03-24 19:54:06,157.8,,1,,"b'b"" oh yes", sorry. Well, i can give you my open code (it is a test application anyway). You can try it and see. That\'s strange because i don\'t know where the problem is from (so difficult for me to create a specific test case only for this problem, i think if i could do it i done it). It is difficult because it is not the forst time i use devise but it is the first time i see this problem (and first time to do code with Rails on version 5). Also this code was running perfectly on an other one computer (the code is not online on a server actually, because i test things to find the best componant who can work fine together). And then i\'m not at home in Thailand and from my laptop (same OS)," it seems to be buggeg.  Tell me if you have an idea where the problem can come from... [my bitbucket open source code]url ""'",,,,,,,,,,,,,,,,
devise,4477,closed,13,2017-03-24 19:54:06,384.03,1,,,"b'b"" @jerome-diver I took a look at your code and it turns out there are a couple of changes to be done in order for this to work:  First", you\'re calling two times for the same action ( ): in [ ]url  and in [ ]url  This is unnecessary and it\'s also what\'s causing the issue.  There are basically two ways to permit a list of keys using  : using the parameter or by passing a block. Internally, the attributes are kept in a [hash of arrays]url  with one key for each action:   and  . The default looks like this:  Your application is first passing a block in and later trying to add more attributes using the parameter in  .  So what happens is that in the second call, Devise tries to add keys to a  .  So basically what you have to do is remove one of the calls I\'d say to remove the one since this is a responsibility of  .  But if you go with that option," you\'ll have to rename the methods [ ]url  and [ ]url  They [exist]url  in the [superclass]url  and overriding them cause issues. I suggest you rename them to and  .  I hope this helps. ""'",,,,,,,,,,,,,,,,,
devise,4477,closed,14,2017-03-24 19:54:06,432.7,,,1,b'b\' @tegon i just read your explication and this make sens, i understand (you explication is perfect also). Fantastic, i\\\'m very happy because i was stick on that for long time now and really," you take time to explain clearly what""s happening.  I correct my errors and now for sure", it is working perfectly. That was logic, i didn\\\'t know the way it works, i thinking it was over loading the method class (i was thinking wrong) and yes, it was one or the other and not together in application controller and user_registration controller... my bad.  Thank you very much for your great and useful help @tegon.\'',,,,,,,,,,,,,,
devise,4477,closed,-,-,-,3,9,4,,,,,,,,,,,,,,,,,,,,,,
devise,4488,closed,opened,2017-04-04 12:37:31,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4488,closed,title,2017-04-04 12:37:31,00:00,,1,,"b""b' Cannot sign out and session switch'""",,,,,,,,,,,,,,,,,,,,,
devise,4488,closed,body,2017-04-04 12:37:31,00:00,,1,,"b'b"" I have a really disturbing and dangerous behavior for my app right now.  The problem is:  * I log as User 1 * I log out * I log as User 2 * I change the page (or the locale) : I\'m on the application but logged as USER 1 !!!! * I cannot log out", I have a in the logs It\'s only happening in staging, cannot reproduce in development. My project is in Rails 5 and Devise 4.2.0 We did not see it happen before adding locale management, but maybe it has no link with it. It really look like logout does not totally erase the session of User 1," and causes both sessions to be mixed  I think it\'s a problem with cookies  cache because everything is fine once I disable cache but I really don\'t know how to handle this in my application.""'",,,,,,,,,,,,,,,,,
devise,4488,closed,1,2017-04-04 12:37:31,73.85,,1,,"b""b' I have a similar issue but in my case I get Password reset token expires when i try to reset my password. I have two locale en and pt and my default locale is pt but if I updated my default locale to en then the issue persist'""",,,,,,,,,,,,,,,,,,,,,
devise,4488,closed,2,2017-04-04 12:37:31,1203.58,,,1,"b'b"" Facing a similar issue where Devise isn\'t actually deleting cookies (Rails 5). Did you manage to find a solution?  EDIT: Nvm", my issue was caused by having Sidekiq open in a seperate tab," which [was overwriting my session and signing me back in a few seconds after sign out!]url ""'",,,,,,,,,,,,,,,,,,,
devise,4488,closed,3,2017-04-04 12:37:31,680.32,,,1,"b""b' Hi @Kounts"," thanks for your report. Can you provide us a sample application that reproduces the issue in isolation? That would help us find the issue.  Thank you!'""",,,,,,,,,,,,,,,,,,,,
devise,4488,closed,closed,2017-12-15 21:15:16,517.75,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,4488,closed,4,2017-04-04 12:37:31,0.32,1,,,"b""b' Sorry"," I clicked on the wrong button \\xf0\\x9f\\x98\\x9e '""",,,,,,,,,,,,,,,,,,,,
devise,4488,closed,reopened,2017-12-15 21:15:35,0.32,1,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,4488,closed,5,2017-04-04 12:37:31,1393.35,,,1,"b'b"" I\'m closing this issue because it has not had recent activity. If you\'re still facing this on the latest version"," please open a new one with all the information requested in the template.  Thank you!""'",,,,,,,,,,,,,,,,,,,,
devise,4488,closed,closed,2018-01-11 20:28:56,1393.35,1,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,4488,closed,-,-,-,1,3,3,,,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,opened,2017-05-03 18:31:41,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,title,2017-05-03 18:31:41,00:00,,1,,"b""b' Add a way to skip all email notifications'""",,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,body,2017-05-03 18:31:41,00:00,,,1,"b'b"" There is an existing API call to skip email  notifications that is a useful feature for administration panels where an admin might be making changes on behalf of the user but not wanting to generate email notifications.  The [skip_confirmation_notification!]url  works as advertised but doesn\'t prevent sending emails triggered by editing user passwords or emails. I don\'t want to disable those notifications site wide"," just for a specific object in certain circumstances.  Currently I am working around this with the following addition to my user model:   which allows me to disable all notifications on demand:   It would be nice if devise provided a gem wide API to silence all possible email notifications on demand in a single object scope.  Thanks for your continued work on this amazing gem.""'",,,,,,,,,,,,,,,,,,,,
devise,4526,closed,1,2017-05-03 18:31:41,1208.2,,,1,"b'b"" Hey"," looks like you need to call both and to achieve that.  Let me know if this doesn\'t help and I\'ll reopen this issue!""'",,,,,,,,,,,,,,,,,,,,
devise,4526,closed,closed,2017-05-07 14:39:53,1208.2,0,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,2,2017-05-03 18:31:41,9.8,,,1,"b'b"" Hi @nashby",  I tested that before the initial report and just re-did the test again just to be sure by calling both and with both devise still emails out password and email change notifications.  The method I called previously is documented as: so it already internally disabled both," the note on \'still requires confirmation\' means that the user will have to go through the confirmation process (which is nice and what I wanted) not that it needs a second call to disable it.  The emails I want to be able to disable are from the following initialization setup:   Calling does not prevent those emails from being sent and I believe that a way to disable them on a per edit basis like with email  notifications would be a nice addition to the API.""'",,,,,,,,,,,,,,,,,,,
devise,4526,closed,reopened,2017-05-07 15:49:14,69.35,0,1,3,,,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,3,2017-05-03 18:31:41,93.45,,,1,"b""b' Agreed"," it would be a nice addition.  In the meantime you can streamline your workaround by overriding  Just add this to your model:  (Same for  )'""",,,,,,,,,,,,,,,,,,,,
devise,4526,closed,4,2017-05-03 18:31:41,205.32,,1,,"b""b' This seems like a reasonable change. Is anyone willing to open a PR for this?'""",,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,5,2017-05-03 18:31:41,1422.92,,,1,"b""b' Hi", I added a pull request for this issue. Let me know if I need to make any changes," thanks!'""",,,,,,,,,,,,,,,,,,,
devise,4526,closed,6,2017-05-03 18:31:41,145.48,,1,,"b""b' Closed via #4824'""",,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,closed,2018-09-28 21:56:51,367.62,0,3,5,,,,,,,,,,,,,,,,,,,,,,
devise,4526,closed,-,-,-,0,3,5,,,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,opened,2017-06-19 01:17:59,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,title,2017-06-19 01:17:59,00:00,,1,,"b""b' added #index action back into Sessions Controller.'""",,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,body,2017-06-19 01:17:59,00:00,,1,,"b'b"" I was receiving error #index action missing for Sessions Controller. The index action should be in the sessions controller because it\'s the action that loads when someone goes to load the sign in form.""'",,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,1,2017-06-19 01:17:59,963.72,,,1,"b""b' Thank you for the pull request. The action that loads when someone goes to load the sign in form in the not  . See here url '""",,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,closed,2017-06-19 17:21:42,963.72,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,2,2017-06-19 01:17:59,38.87,,1,,"b""b' I understand. But the #index is getting loaded when I trace the steps usingpry debugger. On Monday", June 19,2017," Rafael Fran\\xc3\\xa7a  wrote:>'""",,,,,,,,,,,,,,,,,,
devise,4563,closed,reopened,2017-06-19 18:20:12,58.5,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,3,2017-06-19 01:17:59,20.0,,1,,"b""b' Is your application overriding the devise controller somehow?  Can you please provide a sample application that reproduces the error?'""",,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,4,2017-06-19 01:17:59,120.53,,,1,"b'b""   shouldn\'t have an action. If you\'re getting an error about this"," please open an issue so we can discuss what\'s happening.  Thanks.""'",,,,,,,,,,,,,,,,,,,,
devise,4563,closed,closed,2018-02-09 20:21:06,120.9,0,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,4563,closed,-,-,-,0,4,2,,,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,opened,2017-10-23 09:41:49,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,title,2017-10-23 09:41:49,00:00,,1,,"b""b' Include Turbolinks if it is installed'""",,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,body,2017-10-23 09:41:49,00:00,,1,,"b'b"" Turbolinks is overwriting the redirect_to method of ActionController::Redirecting.  Devise only includes ActionController::Redirecting  So", if turbolinks is installed," it doesn\'t work will with devise.  This should fix it.""'",,,,,,,,,,,,,,,,,,,
devise,4678,closed,1,2017-10-23 09:41:49,484.93,,,1,"b""b' The failure app should not know about turbolinks. I know it will redirect without turbolinks in the case the authentication fails"," but devise should not know anything about turbolinks and fully rendering a failure page is not a performance problem to justify this coupling. Thank you for the pull request.'""",,,,,,,,,,,,,,,,,,,,
devise,4678,closed,closed,2017-10-23 17:46:45,484.93,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,2,2017-10-23 09:41:49,829.23,,1,,"b'b"" @rafaelfranca it\'s not a performance issue", no. But using Turbolinks with the wrappers for Android and iOS requires Turbolinks redirects. The Webview doesn\'t follow normal redirects. But I understand you don\'t want to include this. For anyone stumbling opon this issue," put this in your devise config: ""'",,,,,,,,,,,,,,,,,,,
devise,4678,closed,reopened,2017-10-24 15:53:39,1326.9,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,3,2017-10-23 09:41:49,500.57,,1,,"b""b' I see. We could take a different approach. Instead of adding that in the controller we could allow people to extend the devise failure app without monkey patching. Something like:   in the controller and   in the application initializer.  But I guess this case is too common to justify we doing that part in the devise engine if is defined.'""",,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,4,2017-10-23 09:41:49,615.38,,,1,"b'b"" I agree we can provide a lazy load hook. And it seems it shouldn\'t be much hard to do it. If I understood it right", we just need to add to the end of the [failure app]url  class.  @wnm If you\'re willing to change this implementation to use a lazy load hook," we\'d happily accept the pull request. Otherwise we can implement it in another one.  Some related resources:  url  url ""'",,,,,,,,,,,,,,,,,,,
devise,4678,closed,5,2017-10-23 09:41:49,660.48,,1,,"b""b' @tegon I updated the pull request:  Added to the end of failure app class. Included config to load Turbolinks::Controller in devise initilizer template (but commented out)  Hope I understood everything correctly?'""",,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,6,2017-10-23 09:41:49,259.88,,,1,"b'b"" @wnm Thanks! I think that\'s basically it. I just think we should have a test for this. One way we can test it is to create a simple module with a method and include it in the failure app using this hook", then we can check if the failure app responds to that method. If you need help with this test," let me know.""'",,,,,,,,,,,,,,,,,,,
devise,4678,closed,7,2017-10-23 09:41:49,1262.7,,1,,"b""b' @tegon not sure if the tests are in the right place. let me know if they are not...'""",,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,8,2017-10-23 09:41:49,237.72,,,1,"b""b' @wnm Looks good"," thanks again!'""",,,,,,,,,,,,,,,,,,,,
devise,4678,closed,closed,2018-03-29 18:32:47,159.13,0,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,4678,closed,-,-,-,0,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,4814,closed,opened,2018-03-24 09:51:33,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4814,closed,title,2018-03-24 09:51:33,00:00,,1,,"b""b' Missing template  for haml ext'""",,,,,,,,,,,,,,,,,,,,,
devise,4814,closed,body,2018-03-24 09:51:33,00:00,,1,,"b""b' ruby 2.4.1 devise 4.4.3 rails 5.1.5 In  I have  but get above  all variants of adding custom layout but error the same.'""",,,,,,,,,,,,,,,,,,,,,
devise,4814,closed,1,2018-03-24 09:51:33,35.9,,1,,"b""b' you need to manually install it. by typing in the command"," rails g isntall devise::views. did you do?'""",,,,,,,,,,,,,,,,,,,,
devise,4814,closed,2,2018-03-24 09:51:33,17.53,,1,,"b'b"" @ahujasushant sure I did", but this generator doesn\'t create layout. Also it works if I use pure html or erb extensions but not haml. Moreover," when I use any haml for devise views it loads default views but when I change extension(e.g. erb) it loads my custom views.""'",,,,,,,,,,,,,,,,,,,
devise,4814,closed,closed,2018-03-24 14:10:34,259.02,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,4814,closed,reopened,2018-03-24 14:10:39,0.08,0,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,4814,closed,3,2018-03-24 09:51:33,206.15,1,,,"b'b"" damn"," I forgot that haml isn\'t native rails ext. Sorry)""'",,,,,,,,,,,,,,,,,,,,
devise,4814,closed,closed,2018-03-24 14:11:08,0.48,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,4814,closed,-,-,-,1,4,0,,,,,,,,,,,,,,,,,,,,,,
devise,4842,open,opened,2018-04-15 19:26:21,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4842,open,title,2018-04-15 19:26:21,00:00,,1,,"b""b' Unable to use custom views for emails'""",,,,,,,,,,,,,,,,,,,,,
devise,4842,open,body,2018-04-15 19:26:21,00:00,,,1,"b'b"" ## Environment  Ruby 2.5 Rails 5.2 Devise 4.4.3  ## Current behavior  For some reason", we\'re having a complete custom path for views  We have to define a custom path for the mailers views. The mailer custom path is being ignored with the following, seem that has no effects :   The above is using the expected layout, but for the views, nothing to do," it picks the default devise views (fallbacking to the ones stored in the gem if i\'m not wrong)  The custom mailer is correctly defined in ## Expected behavior  Being able to use custom mailer views based [on the tutorial in the wiki]url ## current solution  Ended up with the following workaround :  [(from here)]url Is the above code  ? Did I miss something from the doc ? ""'",,,,,,,,,,,,,,,,
devise,4842,open,1,2018-04-15 19:26:21,132.58,,,1,"b""b' Hello @benbonnet"," thanks for your report. Can you provide us a sample application that reproduces the issue in isolation? You can also use our [bug report template]url  That would help us find the issue.  Thank you!'""",,,,,,,,,,,,,,,,,,,,
devise,4842,open,2,2018-04-15 19:26:21,43.27,,1,,"b""b' @tegon hello", been able to extract the minimal working setup that exposes what i tried to describe; here : url all in all it kinda work," but feels like there might be a way to do it cleanly  thx alot for your insight'""",,,,,,,,,,,,,,,,,,,
devise,4842,open,3,2018-04-15 19:26:21,861.2,,,1,"b""b' Same here (rails 4.2)"," thank you for your headers_for-workaround @benbonnet  !'""",,,,,,,,,,,,,,,,,,,,
devise,4842,open,4,2018-04-15 19:26:21,232.68,,1,,"b""b' @tegon is that an acceptable setup ?'""",,,,,,,,,,,,,,,,,,,,,
devise,4842,open,5,2018-04-15 19:26:21,191.23,1,,,"b'b"" @benbonnet I haven\'t got the change to look at it yet"," sorry. I\'ll do it when I have some time.""'",,,,,,,,,,,,,,,,,,,,
devise,4842,open,6,2018-04-15 19:26:21,114.22,,,1,"b""b' I experienced the same problem. By debbugging I discovered that internally there is a method that apply default values", including the default path for views," even if something different is specified! Hope that helps! Please solve...'""",,,,,,,,,,,,,,,,,,,
devise,4842,open,7,2018-04-15 19:26:21,8.07,,1,,"b'b"" @benbonnet I\'ve made some tests with your app and discovered that has no effect here because we\'re explicit [sending this value]url  inside  "," so I think your approach is ok \\xf0\\x9f\\x91\\x8d ""'",,,,,,,,,,,,,,,,,,,,
devise,4842,open,closed,2018-08-01 21:49:36,143.25,1,4,4,,,,,,,,,,,,,,,,,,,,,,
devise,4842,open,8,2018-04-15 19:26:21,1319.23,,1,,"b'b"" Why did you close this issue? Someone just found a workaround but the DOC is still out of date and wrong. Even though"," I don\'t think the workaround is the  approach.""'",,,,,,,,,,,,,,,,,,,,
devise,4842,open,9,2018-04-15 19:26:21,752.28,1,,,"b""b'   has no effect is a strange thing"," which means custom_path is a useless setting. Should this be considered a bug?'""",,,,,,,,,,,,,,,,,,,,
devise,4842,open,10,2018-04-15 19:26:21,590.4,,1,,"b""b' It is a bug", but seems like that unless the bug affects many people," no one cares.'""",,,,,,,,,,,,,,,,,,,
devise,4842,open,11,2018-04-15 19:26:21,41.25,1,,,"b'b"" @marcosanfilippo When that happens", please open another issue. When you comment on closed issues is very hard for us to keep track of it. It\'s not that nobody cares, it\'s just that it\'s hard enough to reply to all notifications in the open issues that some of the closed ones pass by (I\'m not saying that as an excuse, it\'s just that it works better to open new ones).  Now, I don\'t know exactly how this could be solved," so I\'m open to suggestions.""'",,,,,,,,,,,,,,,,
devise,4842,open,reopened,2018-10-08 18:52:46,1263.17,3,6,4,,,,,,,,,,,,,,,,,,,,,,
devise,4842,open,12,2018-04-15 19:26:21,585.02,,1,,"b""b' @benbonnet @tegon @themilkman @marcosanfilippo @alanyeh20001 please have a look on this url '""",,,,,,,,,,,,,,,,,,,,,
devise,4842,open,13,2018-04-15 19:26:21,459.58,,1,,"b'b"" I\'ve the same problem.  I just run only.  Custom mailer views is rendered correctly.  But they not render  after convert from ERB to HAML.  ### Environment  Ruby 2.6.3 Rails 5.2.3 Devise 4.6.2 ""'",,,,,,,,,,,,,,,,,,,,,
devise,4842,open,-,-,-,3,8,4,,,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,opened,2018-04-23 20:44:07,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,title,2018-04-23 20:44:07,00:00,,1,,"b""b' Support for GDPR'""",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,body,2018-04-23 20:44:07,00:00,,1,,"b""b' Do you have any plans to support GDPR? or how we can support that using the current setup'""",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,1,2018-04-23 20:44:07,683.38,,,1,"b'b"" I\'ve been wondering about this too. An option to opt out the fields that are personal data when installing devise would be nice. i.e: would  remove the IP address field in the migration and the ones used to track the signin ?""'",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,2,2018-04-23 20:44:07,1249.45,,1,,"b""b' Devise is a generic authentication solution and has no plan or need to change to conform specific legislations of . That is under the responsibilities of the applications since it is their that have the context about which information is being stored.'""",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,closed,2018-04-25 04:56:57,492.83,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,3,2018-04-23 20:44:07,217.27,1,,,b'b\' GDPR is not a specific legislation of one or few . It concerns you as soon as you have users that are citizens of an European country (there are around 353 million internet users in Europe).  Even if you are in the US and have a little app, with one EU user, you are concerned by GDPR.  GDPR is complicated to understand, even more for junior  that build their first app. It would be a shame to have legal issues just because you left something like the  of the user IP address in your app when installing devise.  Actually, I think we should build and have **privacy-by-default** tools, in order to build and have **privacy-by-default** apps.  Why not remove those sensitive fields (IP address, signin count ?) in the default devise generator (unlike what I said previously) ? If someone really needs them," they can add them via some option.  We can\\\'t just say ""Oh", there\\\'s some new law that concerns everyone," it is very complicated and will change the way you develop applications. But we won\\\'t help you with that.""\''",,,,,,,,,,,,
devise,4849,closed,4,2018-04-23 20:44:07,723.6,,,1,"b'b""  I think that is a good compromise. If you want to do it please open a PR"," but I don\'t think we should include an option and implement code specifically for gdpr.""'",,,,,,,,,,,,,,,,,,,,
devise,4849,closed,5,2018-04-23 20:44:07,1358.63,,1,,"b""b' It is important to include that in the future release and this should be soon. All service providers around the world started to align with GDPR. As @fakenine mentioned it is not like any specific legislation for a specific country.  I hope if you can reconsider this again.'""",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,6,2018-04-23 20:44:07,1376.37,,1,,"b'b"" I just did in the comment above and I\'m asking for help to implement. Just to be clear"," can someone send a PR with the required changes? We will make it the new default.""'",,,,,,,,,,,,,,,,,,,,
devise,4849,closed,reopened,2018-04-30 18:12:49,795.87,1,5,2,,,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,7,2018-04-23 20:44:07,19.58,,,1,"b""b' @rafaelfranca Thank you! I will look into this this week.'""",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,8,2018-04-23 20:44:07,180.77,,1,,"b""b' @fakenine Would this also require encrypting the email address?'""",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,9,2018-04-23 20:44:07,6.33,,1,,"b'b"" Yes", and also hiding all personal data from logs and sessions, also a way to anonymize the user if the data is backed up. for example, if you take a backup from production to staging or development environment the users\' data should be anonymized hashed for example.  Also, a method to export all data related to the user," and delete all users records as well""'",,,,,,,,,,,,,,,,
devise,4849,closed,10,2018-04-23 20:44:07,17.37,,1,,"b'b"" I think it should be done step by step", at least removing the IP address first as it is considered as  data, stored by default but not used by everyone.  I don\'t think Devise should encrypt the email by default. It could affect performance on most apps as you would need to decrypt the email field each time you need to read it (like in a User Profile page, or an Admin Dashboard listing users for instance). What do you think? I think we are out of the scope of devise for this. Rails already has a way to do that via and you can add as many fields as you want (password is present by default).  Same thing for the export. Devise does not handle  data from the users table. This should be implemented by the app developer on their platform," regarding what they use to  (like a CSV export via ActiveAdmin for instance).""'",,,,,,,,,,,,,,,,,
devise,4849,closed,11,2018-04-23 20:44:07,5.13,,,1,"b""b' @fakenine I agree", part of this is out of device scope, but I think encrypting the email will be good to have at data model level but it can be default decrypted at views level. Also," this can be optional so if it affects the performance you can disable it.'""",,,,,,,,,,,,,,,,,,
devise,4849,closed,12,2018-04-23 20:44:07,8.7,1,,,"b""b' I think it is important to keep IP address for detecting the malicious attacks"," and it can be used in other features.'""",,,,,,,,,,,,,,,,,,,,
devise,4849,closed,13,2018-04-23 20:44:07,15.25,,1,,"b'b""  I understand. What I meant was to remove the option from the default generator. That\'s the option that allows the app developer to track different things from the user (like sign in IP). I will submit a PR for this.""'",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,14,2018-04-23 20:44:07,80.52,,1,,"b'b"" For the IP address"," can\'t you anonymize the ip instead? Zero the last octet of ipv4 and keep the first half of ipv6 address?""'",,,,,,,,,,,,,,,,,,,,
devise,4849,closed,15,2018-04-23 20:44:07,843.3,,1,,"b""b' Closed via #4857 '""",,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,closed,2018-06-11 13:49:46,1176.95,2,11,4,,,,,,,,,,,,,,,,,,,,,,
devise,4849,closed,-,-,-,2,11,4,,,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,opened,2018-06-05 09:12:04,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,title,2018-06-05 09:12:04,00:00,1,,,"b""b'  Rails (6.0.0.0.alpha): Devise(4.4.3) Error: undefined local variable or method '""",,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,body,2018-06-05 09:12:04,00:00,,1,,"b'b"" ## Environment  Ruby **[2.4.1]** Rails **[6.0.0.alpha]** Devise **[4.4.3]**  ## Current behavior  When I Upgraded application from rails 5.2 to 6.0.0.alpha", application starts getting crash showing error on sign_in page.  ## Expected behavior  Devise wouldn\'t crash," It should work with rails 6.0.0.alpha""'",,,,,,,,,,,,,,,,,,,
devise,4888,closed,1,2018-06-05 09:12:04,613.68,,1,,"b'b\' I think that ""responders"" does not support Rails 6.0.x yet.  If you take a look at you will see the following lines:   So"," responders gem requires ""railties = 6.0.x\''",,,,,,,,,,,,,,,,,,,,
devise,4888,closed,2,2018-06-05 09:12:04,221.88,,1,,"b""b' Rails 6 is really early in development and devise or responders have no plan to support a version of rails that early. We will fix those issue before the 6.0.0.beta release.'""",,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,closed,2018-06-08 23:07:38,835.57,1,3,0,,,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,3,2018-06-05 09:12:04,561.13,,,1,"b""b' I am on current master and still having the same issue will it be fixed within January 15: Beta 1 as mentioned in url Thanks.'""",,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,reopened,2019-01-03 20:32:08,1284.5,1,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,4,2018-06-05 09:12:04,1086.48,,1,,"b'b"" gem \'responders\'"," github: \'\' ""'",,,,,,,,,,,,,,,,,,,,
devise,4888,closed,5,2018-06-05 09:12:04,750.42,,1,,"b""b' Same problem with rails 6.0.0.beta1'""",,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,6,2018-06-05 09:12:04,53.98,,1,,"b'b"" Like @nikolaokonesh pointed out above"," it\'s a matter of updating the dependency. I\'m going to work on this and send a pull request.""'",,,,,,,,,,,,,,,,,,,,
devise,4888,closed,7,2018-06-05 09:12:04,63.88,,1,,"b""b' It works now with  .  I think a for existing applications might do it.'""",,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,closed,2019-01-21 17:03:32,1231.4,1,7,1,,,,,,,,,,,,,,,,,,,,,,
devise,4888,closed,-,-,-,1,7,1,,,,,,,,,,,,,,,,,,,,,,
devise,4930,closed,opened,2018-08-25 19:20:55,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4930,closed,title,2018-08-25 19:20:55,00:00,,,1,"b""b' Model with optimistic locking (lock_version) and trackable devise module'""",,,,,,,,,,,,,,,,,,,,,
devise,4930,closed,body,2018-08-25 19:20:55,00:00,1,,,"b'b"" ## Environment  Ruby **2.3.3** Rails **4.2.10** Devise **3.5.0**  ## Current behavior  My model has optimistic locking switched on using Rails\' column in the database. I also have module switched on for this model.  When admins login to the application"," we trigger a number of ajax requests to the server and some of them fail randomly with error. We also use the helper in the file. Previously I have tried to use in the controllers as a prepended filter to avoid doing tracking on certain requests but the exception pesists.  The stacktraces indicate that the exception happens before the code hits the controller i.e. **during request routing** due to the use of helper. This happens randomly due to race conditions depending on  the requests for the same admin reach the server. Because the model has two requests at the same time will be unable to update the object at the same time. ## Expected behavior  should recover gracefully from the error by either retrying or ignoring. ""'",,,,,,,,,,,,,,,,,,,,
devise,4930,closed,1,2018-08-25 19:20:55,8.85,1,,,"b'b"" Hi @asanghi", I\'m not sure devise should handle this. Locking strategy is very application-specific," and it seems strange that you\'re hitting trackable simultaneously multiple times for the same  . Would you mind to explain why this is happening?""'",,,,,,,,,,,,,,,,,,,
devise,4930,closed,2,2018-08-25 19:20:55,428.03,,,1,"b""b' @tegon The UI fires multiple AJAX requests which hit the application at the same time.  The requests hit the routing helper and because Admin model is  ", multiple requests cause a race condition. This wouldnt be a problem unless your model also has optimistic locking turned on.  To answer your original question," it is because we have ajax requests originating from our dashboard.'""",,,,,,,,,,,,,,,,,,,
devise,4930,closed,3,2018-08-25 19:20:55,921.05,1,,,"b'b"" @asanghi I see"," then this looks like something very specific from your application. Something that would probably fix it is to first authenticate the user and only fire the dashboard requests after the user is authenticated. I don\'t think we should handle locking in Devise because it would be hard to cover the possible cases since the business rules changes from company to company.""'",,,,,,,,,,,,,,,,,,,,
devise,4930,closed,4,2018-08-25 19:20:55,442.85,,1,,"b""b' Im not sure this an application level issue. Use the three common idioms and there will be a very high chance of getting these errors.  Use lock_version"," trackable and authenticate helper in the routes and this exception will block some valid requests.  This is what we did in our model to get around the failed requests due to the devise issue. For future reference of those who come seeking.'""",,,,,,,,,,,,,,,,,,,,
devise,4930,closed,closed,2018-10-05 01:22:36,361.68,3,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,4930,closed,reopened,2018-10-05 01:22:45,0.15,3,1,2,,,,,,,,,,,,,,,,,,,,,,
devise,4930,closed,5,2018-08-25 19:20:55,8.53,,1,,"b""b' #4584 and this ticket have mixed similar concerns.'""",,,,,,,,,,,,,,,,,,,,,
devise,4930,closed,6,2018-08-25 19:20:55,769.02,,,1,"b'b"" Hm", got it. I thought that you were sending requests to authenticate explicitly," but if it\'s because of what was mentioned in #4584 then I guess the best approach is to change that behavior. That way we won\'t call every time and therefore you won\'t have lock issues. I\'m going to close this in favor of #4584 then. Thanks!""'",,,,,,,,,,,,,,,,,,,
devise,4930,closed,closed,2018-10-05 14:19:15,776.5,3,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,4930,closed,-,-,-,3,2,3,,,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,opened,2018-12-19 11:07:34,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,title,2018-12-19 11:07:34,00:00,,1,,"b""b' When make redirect in regstertion controller not working '""",,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,body,2018-12-19 11:07:34,00:00,,1,,"b""b' i try to use  and use  both not working  I want to make redirect when user make an account redirect to a verification page how to make a redirect in controller devise '""",,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,1,2018-12-19 11:07:34,38.13,,,1,"b""b' Please use StackOverflow for "," where a wider community will be able to help you. We reserve the issues tracker for issues only. Thank you!'""",,,,,,,,,,,,,,,,,,,,
devise,4990,closed,closed,2018-12-19 11:45:42,38.13,0,2,1,,,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,2,2018-12-19 11:07:34,6.77,,,1,"b'b"" @tegon  but that issue ! not  say how to do it it\'s not working !!!!  as that issue !""'",,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,3,2018-12-19 11:07:34,30.22,,1,,"b'b"" Ok", it looked like you\'re asking for help on how to do it.  Either way it\'s not clear what the issue is or how you\'re calling that method (which  versions you\'re using, if you\'re overhang a Devise controller and so on). I\'m reopening the issue but you have to provide us more information on how to reproduce the issue," or a sample application so that we can understand better what\'s happening.""'",,,,,,,,,,,,,,,,,,
devise,4990,closed,reopened,2018-12-19 12:22:41,36.98,0,3,2,,,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,4,2018-12-19 11:07:34,8.98,1,,,b'b\' Ok ,  in  when put  I see error  Render  redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting," you need to do something like ""redirect_to(...) and return"".  and I use return in my code and when making my code I\\\'ve same issue have same message error host here == user \''",,,,,,,,,,,,,,,,,
devise,4990,closed,5,2018-12-19 11:07:34,13.85,,1,,"b'b"" So", to be clear, you want to redirect to after a signup, right? If that\'s the case you have to override the method: You get the error because you\'re calling inside the action," and there\'s [already a redirect there]url ""'",,,,,,,,,,,,,,,,,
devise,4990,closed,6,2018-12-19 11:07:34,6.85,,,1,"b""b' Thanks :) '""",,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,closed,2018-12-19 12:52:22,29.68,1,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,4990,closed,-,-,-,1,4,3,,,,,,,,,,,,,,,,,,,,,,
devise,5019,open,opened,2019-02-04 22:24:32,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,5019,open,title,2019-02-04 22:24:32,00:00,,1,,"b""b' Authentication in routes breaks URL helpers'""",,,,,,,,,,,,,,,,,,,,,
devise,5019,open,body,2019-02-04 22:24:32,00:00,,1,,"b""b' ## Environment  Ruby 2.5.1 Rails 5.2.2 Devise 4.5.0  ## Current behavior  In my  ", I have a snippet that looks like this: In a test, I have a snippet that looks like this:  However, the two print statements gives an output like this:  If I remove the line in  , I get the expected output.  ## Expected behavior  I expect the path to never change," i.e. output should look like this:  '""",,,,,,,,,,,,,,,,
devise,5019,open,1,2019-02-04 22:24:32,80.22,,1,,"b'b"" I\'ve [created a project to demo this]url  The test that demonstrates this can be found [here]url  ""'",,,,,,,,,,,,,,,,,,,,,
devise,5019,open,2,2019-02-04 22:24:32,982.83,,,1,"b'b"" Hi @peterzhu2118"," thanks for the issue report.  It\'s not a Devise issue because Rails builds this path internally. I found this issue url that should address it.  Thanks.""'",,,,,,,,,,,,,,,,,,,,
devise,5019,open,closed,2019-02-13 16:07:36,1063.07,0,3,1,,,,,,,,,,,,,,,,,,,,,,
devise,5019,open,3,2019-02-04 22:24:32,14.65,,1,,"b'b"" Looking again to the issue that I\'ve mentioned", I\'m not sure if solving that issue will fix this one. Digging a little into the Rails code, we can see [where it happens]url   Basically, when there is a within options, the  path will be concatenated with [the string \'Sidekiq\' here]url  I don\'t know whether if it\'s working as intended or not," but it\'s definitely a Rails issue.""'",,,,,,,,,,,,,,,,
devise,5019,open,4,2019-02-04 22:24:32,10.55,,,1,"b'b"" Hey @feliperenan",  Thanks for looking into this! Since this isn\'t a devise issue and since that issue you referenced in Rails doesn\'t fix this issue," should I raise this issue to the Rails repo?""'",,,,,,,,,,,,,,,,,,,
devise,5019,open,5,2019-02-04 22:24:32,15.35,,1,,"b""b' I think so. I just recommend you search for a similar issue before"," maybe someone else has already faced this issue in the past.'""",,,,,,,,,,,,,,,,,,,,
devise,5019,open,6,2019-02-04 22:24:32,52.18,,1,,"b'b"" @feliperenan I dug a little deeper into this"," it seems the problem is devise\'s method in the routes. The problem disappears if I change: in to: So I wonder if something is up with the [Devise constraints]url ""'",,,,,,,,,,,,,,,,,,,,
devise,5019,open,7,2019-02-04 22:24:32,113.33,,,1,"b'b"" @peterzhu2118 thanks for pointing this out. I will reopen this issue then since in fact it maybe is a Devise issue. Also", I have more findings to share.  When we do a request to another path after we did one to the  ," the path helpers start to return the correct path again.  The issue doesn\'t happen when the user is authenticated.   Maybe the bug is happening after the redirect? \\xf0\\x9f\\xa4\\x94 ""'",,,,,,,,,,,,,,,,,,,
devise,5019,open,reopened,2019-02-13 19:33:39,206.05,0,6,3,,,,,,,,,,,,,,,,,,,,,,
devise,5019,open,8,2019-02-04 22:24:32,42.98,,,1,"b'b"" @feliperenan That\'s a really interesting observation. Following the redirect seems to be a temporary workaround: With output:  However"," adding is only a temporary workaround and the paths shouldn\'t change regardless of whether the is there or not.""'",,,,,,,,,,,,,,,,,,,,
devise,5019,open,9,2019-02-04 22:24:32,1344.17,,1,,b'b\' I\\\'ve more finds to share \\xf0\\x9f\\x99\\x88.  When we do a request to that needs authentication, Devise redirects the user to the with the [FailureApp]url  that behaves as a controller. Once the request is finished, the put the FailureApp into the [session controller instance]url  Also, notice that in this request process, sets the [@url_options to nil]url So, when we ask for a path using some path helper, uses the [session cached through memoization]url  to build the correct path. When [url_options method is called]url  as is nil, is going to [merge the controller#url_options with the session#url_options]url As I said before, FailureApp behaves as a controller," so it has the request information. When we inspect this controller asking for a path after a request for ""/sidekiq""", we got:   This controller#url_options isn\\\'t a FailureApp method. It\\\'s included by [ActionController::UrlFor]url  url Then, as the is there, the path will be concatenated with it as I said in this previous comment url It doesn\\\'t happen in a request that give 200 or when we use a (that makes another get under the hood), because it makes another request that cleans up the and sets another controller into sessions instance.   Now that we have all this information, I\\\'m not sure if it\\\'s a Devise issue. Maybe we should do something in the FailureApp, but I don\\\'t know what. Maybe the issue is with since they memoize the session and relies on it to build paths in the test environment.  I\\\'m open for suggestions on how to proceed with this issue.\'',,,,,,
devise,5019,open,10,2019-02-04 22:24:32,48.37,,,1,"b'b"" @feliperenan Wow that\'s a really detailed report! Thanks for taking the time to look into this! I\'ll try to do more digging into this to determine the source of the issue (in both devise and in Rails). I\'ll post an update here if I find anything interesting.""'",,,,,,,,,,,,,,,,,,,,,
devise,5019,open,11,2019-02-04 22:24:32,1140.53,,,1,"b'b"" @feliperenan Great work on this!  My 2 cents here is that since this only happens in the test environment e.g. because the session is memoized I believe there\'s not much we can do. I\'m not even sure if this should be addressed in Rails or not in some way. I\'d go with following the redirect in the test in order to make it more close to a real  flow. ""'",,,,,,,,,,,,,,,,,,,,,
devise,5019,open,12,2019-02-04 22:24:32,1147.93,,1,,"b'b"" @tegon I was thinking about the same thing. As far as I understood", a new session is created on every single test, so developers could use approach only in the test that they want to use a path returned by the path helper after a Devise redirect in this specific case.  If we don\'t do a patch for it," we may need to document this behavior at some place \\xf0\\x9f\\xa4\\x94.""'",,,,,,,,,,,,,,,,,,
devise,5019,open,-,-,-,0,8,6,,,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,opened,2019-02-08 16:29:39,,,,,,,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,title,2019-02-08 16:29:39,00:00,,1,,"b""b' v4.6.0 breaks rspec controller tests'""",,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,body,2019-02-08 16:29:39,00:00,,1,,"b""b' ## Environment  Ruby 2.4.5 Rails 4.2.7 Devise 4.6.0  ## Current behavior  I just updated to 4.6.0 (no other changes were made) and the rspec controller tests now return after running a sign_in.  4.5.0 does not exhibit this behaviour. ## Expected behavior  should return a value. '""",,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,1,2019-02-08 16:29:39,17.72,,,1,"b""b' Hi @philayres"," thanks for the issue.  Could you provide more info about what is happening in your application? It could be an application that reproduces this issue in isolation or just the stacktrace.'""",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,2,2019-02-08 16:29:39,12.55,,1,,"b""b' This is the rspec example:   The error is:   That error aligns with the rspec example. But in reality every similar example like this fails.  As soon as I rolled back to 4.5.0 the error went away. '""",,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,3,2019-02-08 16:29:39,2.8,,1,,"b""b' Oh"," and the method for logging in   I have both a user and admin entity working independently.'""",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,4,2019-02-08 16:29:39,31.62,,1,,"b'b"" Could you also send the backtrace? that would help find where it\'s breaking inside Devise.""'",,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,5,2019-02-08 16:29:39,21.23,1,,,"b'b"" That\'s the strange thing. In the console you have the full error that I have in the comment above (which is strangely short). In the test log"," despite having changed logging level to :debug it still doesn\'t give me the error or any stack trace.  I\'m assuming that there is something nasty happening low down the stack that is getting swallowed up without logging. I\'ll keep digging to see if I can find more info.""'",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,6,2019-02-08 16:29:39,15.73,,1,,"b'b"" I have stepped through in a debugger and have narrowed it down to:  around line 140:  This final line is where it dies.  My guess", not knowing the internals of the code, is that this is forcing a redirection when a user is not logged in? But in previous versions my user would have been successfully logged in prior to this point. So I don\'t really understand either this error, or why I would have arrived here unauthenticated.  Of course," it is possible that I\'m not understanding what is going on here.""'",,,,,,,,,,,,,,,,,
devise,5021,closed,7,2019-02-08 16:29:39,7.4,,1,,"b'b"" Are you using Rails engine? The only this that I can think now that was released and could break the is this PR: url We came up with [this solution]url  to check if the is defined. Not sure if could be something here.  ~Are you able to reproduce this issue in new app?~  ### EDIT  I\'m already able to reproduce the issue.""'",,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,8,2019-02-08 16:29:39,1.23,,1,,"b""b' Just to make sure"," have you the defined in your routes?'""",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,9,2019-02-08 16:29:39,86.7,,1,,"b'b"" @philayres We were able to reproduce the issue with the following scenario: a Rails application that doesn\'t have a [  defined]url  and after an unsuccessful login attempt. After the [commit]url  mentioned by @feliperenan", we started calling  , which is causing the failure now. We tried to prevent this by using by now it\'s clear that it should have been a instead.  This is definitely a regression and we\'re going to push a fix as soon as we can. But, what concerns me the most about your report is that in your tests you\'re expecting the user to be logged in successfully," but right now the authentication is failing.  Can you point your application to the [let-fix-root-path]url  branch and test it again? This way we can remove this error and see whether there\'s another issue happening there.""'",,,,,,,,,,,,,,,,,
devise,5021,closed,10,2019-02-08 16:29:39,1003.2,,1,,"b'b"" Ok", I just checked out the branch you suggested. As you guessed, this helped, but did not solve all the problems. The following steps through where I have looked to identify the root cause. Sorry if some of it is irrelevant; I just want to make sure I don\'t miss something that could be meaningful.  Running the spec again I\'m now getting different errors:   Stepping through an authentication reveals an issue with the authentication.  Where I call in the before block, the authentication doesn\'t work as expected (but does not fail with an exception). Stepping through, where I hit  and subsequently  ... I spot a problem. The returns nil, because is empty. If I force a value with and allow the rest of the example to run, it passes, where previously it was redirecting due to a lack of authentication.  Something must have changed in this area, where the was not previously required. I have recently added some code to my user model that nils the plain text attribute after saving. This has the side effect it seems of making the attribute nil too. So either the test code around is working differently in this version, or the is being cleared where it wasn\'t before.  It feels to me that it is the test code that has changed," since human testing in development runs fine.  I will keep digging to see if I can spot what has changed and where.   ""'",,,,,,,,,,
devise,5021,closed,11,2019-02-08 16:29:39,21.38,1,,,"b'b"" OK", easier to find than I expected.  Blame url  shows line 63 forces the to nil even when is nil, which is a change from previously. This has the side effect I\'m seeing that the spec test won\'t create the user session because my code has cleared the plain text password.  The reasoning for me clearing the plain text password after save in the user model is that I\'m checking for actual password value change (  doesn\'t work with BCrypt due to dynamic salts) and I was getting leakage of the plain text password into tests around this (among other things), and wanted belt and braces to avoid accidentally showing the password where I shouldn\'t... Or something like that anyway.  So from the point of view of Devise," the above change broke my tests (and maybe others will experience this). For now I\'m going to dig some more to decide whether I adapt my code or propose a change in Devise.""'",,,,,,,,,,,,,,,,,
devise,5021,closed,12,2019-02-08 16:29:39,1256.45,,1,,"b'b"" Referencing #4245 / #4261 so I don\'t have to keep digging around to find out what broke things.""'",,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,13,2019-02-08 16:29:39,5.9,,1,,"b'b"" @tegon I didn\'t answer your previous question about the  . No"," my application does not have it set. I have relied on an application_controller to redirect to specific paths under certain conditions. No reason why I couldn\'t set the as a fallback though.""'",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,closed,2019-02-11 13:00:56,1231.28,2,12,1,,,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,reopened,2019-02-11 13:02:48,1.87,2,12,1,,,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,14,2019-02-08 16:29:39,224.63,,,1,b'b\' @philayres The issue was regression so we\\\'re going to release it soon in the version  .  About the being set to  , we did it to keep it in sync with the field and prevent possible security issues e.g. before would return for a cleaned  .  As for your concern of leaking the password," Rails already replaces it with the value ""[FILTERED]"" in the logs via the [ ]url  option and we [hide it]url  when is called so that it\\\'s not presented on exceptions", for example. Also, Rails 6 will come with a [feature]url  called which will do a similar thing for models.  I\\\'m not sure if those cover the cases you\\\'re worried about. If they don\\\'t, please let me know the exceptions. Thanks.\'',,,,,,,,,,,,,,,,
devise,5021,closed,15,2019-02-08 16:29:39,69.65,,1,,"b'b"" The actual challenge I had was that my model forces password changes after first sign in", and these were breaking specs. For example, if I am running a series of controller tests like this:  a user / password is created sign in is successful the user is forced to change password (and the password is not the same as before) perform some meaningful action that requires me to be authenticated sign out  I have many combinations of these types of things to ensure the implementation in my application actually does both what Devise claims and what the auditors might check for.  The challenge was that in these series of model tests was that holding the plain text password between the steps above wouldn\'t allow for sensible checking whether a new password had been provided for sign in or to update the record, etc. My model code never knew if the password had changed (possibly a convoluted set of checks going on in my implementation) and could not fire callbacks consistently. Basically having the ability to clear the plain text password attribute automatically on save allowed complex test sequences to run without having to constantly reload the user record at every step, or worry that the password was being extracted from the user record in some other unrelated chunk of code. This is the leakage I mean; the password was leaking from one mode of use (creating the user) to another (testing authentication, checking for password change, validating password age, viewing user details etc)  Anyway, I can make the changes to allow my specs to run without clearing the password attribute after save, by reloading user records representing more how a series of web requests would actually run. It breaks things from previously, but maybe I can accept that.  I\'m still not happy that the controller tests fail so obscurely when password is set to nil. The controller appears to work fine, but when it comes to actually using the authenticated controller you find out that actually you weren\'t signed in. Sign in doesn\'t provide any meaningful information in this regard. That could mean I have obscure tests that are looking to check that a sign_in where a user record has been manipulated will just fail without warning. Is this expected behaviour? Presumably it needs a separate issue to address it," which I\'d be happy to create if you believe it is not expected behaviour.  Thoughts?   ""'",,,,,,,,,
devise,5021,closed,16,2019-02-08 16:29:39,213.78,,1,,"b'b"" By looking at this thread"," I\'m also having similar issues with v6.4.1   which points to this:  I don\'t have a root_path defined. Will having a root_path defined will be something necessary from now on?""'",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,17,2019-02-08 16:29:39,7.85,,1,,"b""b' @rodrigo-puente Nope"," that was fixed in version  . Can you try to update and see if the error is gone?'""",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,18,2019-02-08 16:29:39,1133.78,,1,,"b'b"" @philayres I don\'t get exactly what the issues were to create your specs if you want to create a sample application I can take a look at them and see if I can think of another solution. But when you said: I understood that this issue is only for your test environment please correct me if I got it wrong when you test it manually in a browser everything works correctly? If that\'s the case"," I\'d say it\'s better to keep the specs as close to the reality as possible. It\'s a bummer when the tests are failing but the system is working fine due to differences from environments. I know this is bad but the reason we released this change in a minor version is that we consider the old behavior a bug. We fixed and thought it wouldn\'t have those kinds of issues but it\'s hard to know how the code is being used throughout applications out there. We are sorry it\'s going to cause you trouble to update but we think it\'s the best way to go. ""'",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,19,2019-02-08 16:29:39,63.82,,1,,"b'b"" @tegon this is probably a good time for me to go back and DRY up my tests anyway. Things have got messy over time. Thanks for you thoughts and rapid response to this issue. I\'ll close it now.""'",,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,closed,2019-02-12 14:27:05,84.28,2,17,2,,,,,,,,,,,,,,,,,,,,,,
devise,5021,closed,20,2019-02-08 16:29:39,162.18,,1,,"b'b"" Regarding nilifying #encrypted_password", I may missing something, but if, when I load a user model, #password  is blank(as it\'s defined merely by attr_reader),"  won\'t any subsequent save of the user model cause encrypted_password to be cleared and persisted? ""'",,,,,,,,,,,,,,,,
devise,5021,closed,21,2019-02-08 16:29:39,277.95,,1,,"b""b' @erich-team Not sure if I understood correctly", is this what you mean?  The will only be set to after is by calling directly," and not on initialization.'""",,,,,,,,,,,,,,,,,,,
devise,5021,closed,22,2019-02-08 16:29:39,367.82,,1,,"b'b"" The issue appears to be with strip_whitespace_keys.  This...   ... in  ", results in password= being called on every validation.  Obviously, the simplest solution is to not include password and password_confirmation," but it seems like this might be less than ideal.  I have a user base that isn\'t necessarily... adept ...adept at typing and have to do things like strip white-space from these attributes.  ""'",,,,,,,,,,,,,,,,,,
devise,5021,closed,23,2019-02-08 16:29:39,5.82,1,,,"b'b"" @erich-team I see \\xf0\\x9f\\xa4\\x94 I\'m not familiar with your user base or your application at all", but it seems to me that it\'s dangerous to change the password input in any way. I mean, theoretically, one could choose to deliberately include a white space on their password.  If you want to prevent them from including those spaces as mistakes," I think it would be better to add a validation for this and let them know that they\'ve typed their password with an extra whitespace so that they can fix it. Does that make sense to you?""'",,,,,,,,,,,,,,,,,
devise,5021,closed,24,2019-02-08 16:29:39,76.63,,,1,"b""b' My user base is truck drivers. :)  Good people", not always the mostaccomplished typists.  That said, we do have a work around. On Thu, Feb 28," 2019 at 8:33 AM Leonardo Tegon wrote:-Erich L Timkar'""",,,,,,,,,,,,,,,,,
devise,5021,closed,25,2019-02-08 16:29:39,154.28,,,1,"b""b' @erich-team Since this broke a lot of existing applications like yours"," we decided to roll back the original change. If you want to return to the original behavior you can update to version  .  Thanks!'""",,,,,,,,,,,,,,,,,,,,
devise,5021,closed,-,-,-,3,20,4,,,,,,,,,,,,,,,,,,,,,,
